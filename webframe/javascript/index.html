<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.18" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.59" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme="dark"] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <title>JavaScript | RJMeteor TIB</title><meta name="description" content="çƒ­çˆ±ç¼–ç¨‹">
    <link rel="preload" href="/leaning_book/assets/style-niSd4IPW.css" as="style"><link rel="stylesheet" href="/leaning_book/assets/style-niSd4IPW.css">
    <link rel="modulepreload" href="/leaning_book/assets/app-C6C2RiOY.js"><link rel="modulepreload" href="/leaning_book/assets/index.html-lZTe1rXu.js"><link rel="modulepreload" href="/leaning_book/assets/plugin-vue_export-helper-DlAUqK2U.js">
    <link rel="prefetch" href="/leaning_book/assets/index.html-BJED1oYK.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-C9ADDFLU.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-DZri2rbh.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-1u8ndCc4.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-BTwHNpdX.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-BcRy9txo.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-wvnmpsT5.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-CJnrj1PF.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-Cw3iM3oa.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-Z9fHt2AV.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-Cy8R3KT-.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-DIuD4wui.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-BxM1R8mq.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-Y8xBv3BU.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-CykoRy4R.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-tXwSNoJ9.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-C1DO2H9g.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-DICE8mY4.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-Bgfnv8EI.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-BR1L0zUe.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-T4BqDDKf.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-CjYcsOtr.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-BjNxOXGe.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-LYhFWuju.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-U4PK5K8X.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-HuJJVgJk.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-DFwk5hmq.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-x56zDrt1.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-Cv55Svm1.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-Cyhb65Ia.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-C1t6d0FK.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-D6u3uZgK.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-C60fDTo5.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-Dj3xkBhQ.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-7cjBMOnX.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-BdCJEYdu.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-KOXTF2RF.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-E8s4eShM.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-DxpskCAA.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-C6E5TyF-.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-C5QJVgO2.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-DNj3vG_v.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-COeuE-cY.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-BjeRuLKD.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-DMCitwZ2.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-BU8La1nT.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-DuIuA2J4.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-pNY8z9Jl.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-BEW6C6JD.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-BFJNV8N4.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-DkoyuqD9.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-BwwJKxDO.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-CVytBXTU.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-BiV2wKFG.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-EjtgMI-m.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-Lg4qurRE.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-DuPjofdl.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-CxrG6AFg.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-B5FJ1OBc.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-CTY975q0.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-CPfehdHd.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-B-_XN7_y.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-DqvgEM46.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-DFvQtCSH.js" as="script"><link rel="prefetch" href="/leaning_book/assets/404.html-ivNmGd1N.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-B40VwY1o.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-BNVvblWw.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-ByPW3OVP.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-DilGRfJ7.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-C33bfnFF.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-Cu2sFvY4.js" as="script"><link rel="prefetch" href="/leaning_book/assets/index.html-CNBkUFSa.js" as="script"><link rel="prefetch" href="/leaning_book/assets/photoswipe.esm-GXRgw7eJ.js" as="script"><link rel="prefetch" href="/leaning_book/assets/SearchResult-B6hLcPGH.js" as="script"><link rel="prefetch" href="/leaning_book/assets/RedirectPage-DR7yO7YF.js" as="script"><link rel="prefetch" href="/leaning_book/assets/giscus-BZxmVUME.js" as="script"><link rel="prefetch" href="/leaning_book/assets/setupDevtools-7MC2TMWH-CIzHPwI_.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container external-link-icon has-toc" vp-container><!--[--><header id="navbar" class="vp-navbar" vp-navbar><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!----><!--[--><a class="route-link vp-brand" href="/leaning_book/" aria-label="å¸¦æˆ‘å›å®¶"><img class="vp-nav-logo" src="/leaning_book/feiji.svg" alt><!----><span class="vp-site-name hide-in-pad">RJMeteor TIB</span></a><!--]--><!----></div><div class="vp-navbar-center"><!----><!----><!----></div><div class="vp-navbar-end"><!----><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="è®¡ç®—æœºåŸºç¡€"><!--[--><!---->è®¡ç®—æœºåŸºç¡€<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/leaning_book/basic/vd93czgm/" aria-label="æ•°æ®ç»“æ„"><!---->æ•°æ®ç»“æ„<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/leaning_book/basic/m3foubll/" aria-label="ç®—æ³•"><!---->ç®—æ³•<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="å‰ç«¯å¼€å‘"><!--[--><!---->å‰ç«¯å¼€å‘<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link route-link-active auto-link" href="/leaning_book/webframe/javascript/" aria-label="å‰ç«¯å¼€å‘åŸºç¡€"><!---->å‰ç«¯å¼€å‘åŸºç¡€<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/leaning_book/webframe/monorepo/" aria-label="å‰ç«¯å·¥ç¨‹åŒ–"><!---->å‰ç«¯å·¥ç¨‹åŒ–<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/leaning_book/webframe/vuebasic/" aria-label="Vueå¼€å‘æ¡†æ¶"><!---->Vueå¼€å‘æ¡†æ¶<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/leaning_book/webframe/reactbasic/" aria-label="Reactå¼€å‘æ¡†æ¶"><!---->Reactå¼€å‘æ¡†æ¶<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/leaning_book/webframe/sveletbasic/" aria-label="Sveletå¼€å‘æ¡†æ¶"><!---->Sveletå¼€å‘æ¡†æ¶<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/leaning_book/webframe/nodebasic/" aria-label="Nodeå¼€å‘"><!---->Nodeå¼€å‘<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/leaning_book/webframe/uniappbasic/" aria-label="Uniappå°ç¨‹åºå¼€å‘"><!---->Uniappå°ç¨‹åºå¼€å‘<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="å¼€å‘è¯­è¨€"><!--[--><!---->å¼€å‘è¯­è¨€<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/leaning_book/java/7t92c9nx/" aria-label="Java"><!---->Java<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="æ•°æ®åº“"><!--[--><!---->æ•°æ®åº“<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/leaning_book/databases/mysql/" aria-label="MySQL"><!---->MySQL<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/leaning_book/databases/Redis/7t92c9nx/" aria-label="Redis"><!---->Redis<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/leaning_book/databases/MongoDB/7t92c9nx/" aria-label="MongoDB"><!---->MongoDB<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="vp-dropdown-wrapper"><button type="button" class="vp-dropdown-title" aria-label="Linuxæ“ä½œç³»ç»Ÿ"><!--[--><!---->Linuxæ“ä½œç³»ç»Ÿ<!--]--><span class="arrow"></span><ul class="vp-dropdown"><li class="vp-dropdown-item"><a class="route-link auto-link" href="/leaning_book/linux/shellbasic/" aria-label="Shellç¼–ç¨‹"><!---->Shellç¼–ç¨‹<!----></a></li><li class="vp-dropdown-item"><a class="route-link auto-link" href="/leaning_book/linux/dockerbasic/" aria-label="Dockeréƒ¨ç½²"><!---->Dockeréƒ¨ç½²<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="route-link auto-link" href="/leaning_book/others/javazl/" aria-label="å…¶ä»–"><!---->å…¶ä»–<!----></a></div></nav><div class="vp-nav-item vp-action"><a class="vp-action-link" href="https://github.com/RJMeteor/leaning_book" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" name="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="vp-nav-item hide-in-mobile"><button type="button" class="vp-outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon" name="outlook"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="vp-outlook-dropdown"><!----></div></button></div><!--[--><button type="button" class="search-pro-button" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon" name="search"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">æœç´¢</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!----><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar" vp-sidebar><!----><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">å‰ç«¯å¼€å‘åŸºç¡€</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link auto-link vp-sidebar-link" href="/leaning_book/webframe/css/" aria-label="CSS"><!---->CSS<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/leaning_book/webframe/html/" aria-label="HTML"><!---->HTML<!----></a></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">JavaScript</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link route-link-active auto-link vp-sidebar-link active" href="/leaning_book/webframe/javascript/" aria-label="JS"><!---->JS<!----></a></li><li><a class="route-link auto-link vp-sidebar-link" href="/leaning_book/webframe/webrtc/" aria-label="WebRTC"><!---->WebRTC<!----></a></li></ul></section></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">å‰ç«¯å·¥ç¨‹åŒ–</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Vueå¼€å‘æ¡†æ¶</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Reactå¼€å‘æ¡†æ¶</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Nodeå¼€å‘</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Sveletå¼€å‘æ¡†æ¶</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Uniappå°ç¨‹åºå¼€å‘</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!----></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->JavaScript</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon" name="author"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><span class="page-author-item">RJMeteor</span></span><span property="author" content="RJMeteor"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon" name="calendar"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span data-allow-mismatch="text">2024å¹´12æœˆ2æ—¥</span><meta property="datePublished" content="2024-12-02T11:18:50.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon" name="timer"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 85 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT85M"></span><!----><!----></div><hr></div><div class="vp-toc-placeholder"><aside id="toc" vp-toc><!----><div class="vp-toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon" name="print"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_1-åŠ å¯†">1. åŠ å¯†</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-1-base64åŠ è§£å¯†">1.1 base64åŠ è§£å¯†</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-2-aes-des-åŠ è§£å¯†æ–¹å¼">1.2 AES/DES åŠ è§£å¯†æ–¹å¼</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_1-3-rsa">1.3 RSA</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_2-ç°ä»£æ¨¡å¼">2. ç°ä»£æ¨¡å¼</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_3-äº¤äº’-alertã€prompt-å’Œ-confirm">3. äº¤äº’ï¼šalertã€prompt å’Œ confirm</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_4-ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦">4. ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ &#39;??&#39;</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_5-å¯é€‰é“¾">5. å¯é€‰é“¾ &quot;?.&quot;</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_6-å‡½æ•°">6. å‡½æ•°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_7-ç®­å¤´å‡½æ•°">7. ç®­å¤´å‡½æ•°</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_8-å¯¹è±¡å¼•ç”¨å’Œå¤åˆ¶">8. å¯¹è±¡å¼•ç”¨å’Œå¤åˆ¶</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_9-symbol-ç±»å‹">9. Symbol ç±»å‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_10-æ•°å­¦ç±»å‹">10. æ•°å­¦ç±»å‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_11-æ•°ç»„æ–¹æ³•">11. æ•°ç»„æ–¹æ³•</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_11-1-splice">11.1 splice</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_11-2-slice">11.2 sliceï¼š</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_11-3-concat">11.3 concatï¼š</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_11-4-foreach">11.4 forEachï¼š</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_11-5-indexof-lastindexof-å’Œ-includes">11.5 indexOf/lastIndexOf å’Œ includesï¼š</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_11-6-find-å’Œ-findindex">11.6 find å’Œ findIndex</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_11-7-filter">11.7 filterï¼š</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_11-8-map">11.8 mapï¼š</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_11-9-split-å’Œ-join">11.9 split å’Œ joinï¼š</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_12-iterable-object-å¯è¿­ä»£å¯¹è±¡">12. Iterable objectï¼ˆå¯è¿­ä»£å¯¹è±¡ï¼‰</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_12-1-symbol-iterator-æœ‰è¯¥å±æ€§çš„å¯¹è±¡æ˜¯å¯è¿­ä»£çš„å¯¹è±¡-å¯éå†">12.1 Symbol.iteratorï¼šæœ‰è¯¥å±æ€§çš„å¯¹è±¡æ˜¯å¯è¿­ä»£çš„å¯¹è±¡ï¼ˆå¯éå†ï¼‰</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_12-2-array-from">12.2 Array.from</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_13-map-and-set-æ˜ å°„å’Œé›†åˆ">13. Map and Setï¼ˆæ˜ å°„å’Œé›†åˆï¼‰</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_13-1-map">13.1 Map</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_13-2-set">13.2 Set</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_14-è§£æ„èµ‹å€¼">14. è§£æ„èµ‹å€¼</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_14-1-æ•°ç»„è§£æ„">14.1 æ•°ç»„è§£æ„</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_14-2-å¯¹è±¡è§£æ„">14.2 å¯¹è±¡è§£æ„</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_14-3-å‰©ä½™æ¨¡å¼-pattern">14.3 å‰©ä½™æ¨¡å¼ï¼ˆpatternï¼‰&quot;â€¦&quot;</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_15-json-æ–¹æ³•">15. JSON æ–¹æ³•</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_16-rest-å‚æ•°ä¸-spread-è¯­æ³•">16. Rest å‚æ•°ä¸ Spread è¯­æ³•</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_16-1-rest-å‚æ•°">16.1 Rest å‚æ•° ...</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_16-2-spread-è¯­æ³•">16.2 Spread è¯­æ³•</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_17-å‡½æ•°å¯¹è±¡">17. å‡½æ•°å¯¹è±¡</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_17-1-å±æ€§-name">17.1 å±æ€§ â€œnameâ€</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_17-2-å±æ€§-length">17.2 å±æ€§ â€œlengthâ€</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_17-3-è‡ªå®šä¹‰å±æ€§">17.3 è‡ªå®šä¹‰å±æ€§</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_18-è£…é¥°å™¨æ¨¡å¼å’Œè½¬å‘">18. è£…é¥°å™¨æ¨¡å¼å’Œè½¬å‘</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_18-1-ä½¿ç”¨-call-è®¾å®šä¸Šä¸‹æ–‡">18.1 ä½¿ç”¨ â€œcallâ€ è®¾å®šä¸Šä¸‹æ–‡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_18-2-apply">18.2 apply</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_18-3-å‡½æ•°ç»‘å®š">18.3 å‡½æ•°ç»‘å®š</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_19-å±æ€§æ ‡å¿—å’Œå±æ€§æè¿°ç¬¦">19. å±æ€§æ ‡å¿—å’Œå±æ€§æè¿°ç¬¦</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_19-1-å±æ€§æ ‡å¿—">19.1 å±æ€§æ ‡å¿—ï¼š</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_19-2-getownpropertydescriptor">19.2 getOwnPropertyDescriptor</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_19-3-defineproperty">19.3 defineProperty</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_19-4-è®¾å®šä¸€ä¸ªå…¨å±€çš„å¯†å°å¯¹è±¡">19.4 è®¾å®šä¸€ä¸ªå…¨å±€çš„å¯†å°å¯¹è±¡ï¼š</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_19-5-å±æ€§çš„-getter-å’Œ-setter">19.5 å±æ€§çš„ getter å’Œ setter</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_19-6-è®¿é—®å™¨æè¿°ç¬¦">19.6 è®¿é—®å™¨æè¿°ç¬¦</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_20-åŸå‹é“¾">20. åŸå‹é“¾</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_20-1-åŸå‹ç»§æ‰¿">20.1 åŸå‹ç»§æ‰¿</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_20-2-f-prototype">20.2 F.prototype</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_12-3-åŸå‹æ–¹æ³•-æ²¡æœ‰-proto-çš„å¯¹è±¡">12.3 åŸå‹æ–¹æ³•ï¼Œæ²¡æœ‰ proto çš„å¯¹è±¡</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_20-4-æ€»ç»“">20.4 æ€»ç»“</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_21-promise">21. Promise</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_21-1-promise">21.1 Promise</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_21-2-then-catch-finally">21.2 thenï¼Œcatchï¼Œfinally</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_21-3-promise-api">21.3 Promise API</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_21-4-async-await">21.4 Async/await</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_22-generator-é«˜çº§-iteration">22. Generatorï¼Œé«˜çº§ iteration</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_23-æ¨¡å—">23. æ¨¡å—</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_23-1-å¯¼å‡ºå’Œå¯¼å…¥">23.1 å¯¼å‡ºå’Œå¯¼å…¥</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_23-2-åŠ¨æ€å¯¼å…¥">23.2 åŠ¨æ€å¯¼å…¥</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_24-æ‚é¡¹">24. æ‚é¡¹</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_24-1-proxy">24.1 Proxy</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_24-3-eval-æ‰§è¡Œä»£ç å­—ç¬¦ä¸²">24.3 Evalï¼šæ‰§è¡Œä»£ç å­—ç¬¦ä¸²</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_24-4-reference-type-è§£è¯»">24.4 Reference type è§£è¯»</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_25-æµè§ˆå™¨-æ–‡æ¡£-äº‹ä»¶-æ¥å£">25. æµè§ˆå™¨ï¼šæ–‡æ¡£ï¼Œäº‹ä»¶ï¼Œæ¥å£</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_25-1-document">25.1 Document</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_25-2-äº‹ä»¶ç®€ä»‹">25.2 äº‹ä»¶ç®€ä»‹</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_25-3-åŠ è½½æ–‡æ¡£å’Œå…¶ä»–èµ„æº">25.3 åŠ è½½æ–‡æ¡£å’Œå…¶ä»–èµ„æº</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_25-4-dom-å˜åŠ¨è§‚å¯Ÿå™¨">25.4 DOM å˜åŠ¨è§‚å¯Ÿå™¨</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#_26-å…¶ä»–æ–‡ç« ">26. å…¶ä»–æ–‡ç« </a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_26-1-äºŒè¿›åˆ¶æ•°æ®-æ–‡ä»¶">26.1 äºŒè¿›åˆ¶æ•°æ®ï¼Œæ–‡ä»¶</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_26-2-ç½‘ç»œè¯·æ±‚">26.2 ç½‘ç»œè¯·æ±‚</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#_26-3-åœ¨æµè§ˆå™¨ä¸­å­˜å‚¨æ•°æ®">26.3 åœ¨æµè§ˆå™¨ä¸­å­˜å‚¨æ•°æ®</a></li><!----><!--]--></ul></li><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!----></aside></div><!----><div class="theme-hope-content" vp-content><h2 id="_1-åŠ å¯†" tabindex="-1"><a class="header-anchor" href="#_1-åŠ å¯†"><span>1. åŠ å¯†</span></a></h2><h3 id="_1-1-base64åŠ è§£å¯†" tabindex="-1"><a class="header-anchor" href="#_1-1-base64åŠ è§£å¯†"><span>1.1 base64åŠ è§£å¯†</span></a></h3><ul><li><p><code>window.btoa(str)</code>ï¼šåŠ å¯†</p></li><li><p><code>window.atob(str)</code>ï¼šè§£å¯†</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">var</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> str</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Ã¤Ã¶Ã¼Ã„Ã–ÃœÃ§Ã©Ã¨Ã±&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">var</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> b64</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> window</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">btoa</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">unescape</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">encodeURIComponent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">str</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)))</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">b64</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> </span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">var</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> str2</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> decodeURIComponent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">escape</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">window</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">atob</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">b64</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)));</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">str2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_1-2-aes-des-åŠ è§£å¯†æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#_1-2-aes-des-åŠ è§£å¯†æ–¹å¼"><span>1.2 AES/DES åŠ è§£å¯†æ–¹å¼</span></a></h3><p>å¯¹ç§°åŠ å¯†ï¼šåŠ å¯†å¯†é’¥å’Œè§£å¯†å¯†é’¥ç›¸åŒã€‚<br> éªŒè¯å¦‚ä¸‹ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> src</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> type</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;text/javascript&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	var aseKey = &quot;12345678&quot;     //ç§˜é’¥å¿…é¡»ä¸ºï¼š8/16/32ä½</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	var message = &quot;13785624612&quot;;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	//åŠ å¯†</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	var encrypt = CryptoJS.AES.encrypt(message, CryptoJS.enc.Utf8.parse(aseKey), </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">	  mode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">CryptoJS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">mode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">ECB</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">	  padding</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">CryptoJS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">pad</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Pkcs7</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">	}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).toString();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	console.log(encrypt); </span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	//è§£å¯†</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	var decrypt = CryptoJS.AES.decrypt(encrypt, CryptoJS.enc.Utf8.parse(aseKey), </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">	  mode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">CryptoJS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">mode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">ECB</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">	  padding</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">CryptoJS</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">pad</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">Pkcs7</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">	}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">).toString(CryptoJS.enc.Utf8);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">	console.log(decrypt);    //13785624612</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨ï¼šåŠ å¯†çš„æ—¶å€™å¿…é¡»è½¬æˆå­—ç¬¦ä¸² ä½¿ç”¨toStringã€‚ è§£å¯†çš„æ—¶å€™ å¿…é¡»ä½¿ç”¨utf8çš„æ ¼å¼</p><h3 id="_1-3-rsa" tabindex="-1"><a class="header-anchor" href="#_1-3-rsa"><span>1.3 RSA</span></a></h3><p>éå¯¹ç§°åŠ å¯†ï¼šåŠ å¯†å¯†é’¥å’Œè§£å¯†å¯†é’¥ä¸ç›¸åŒã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">/* äº§å¼•å…¥jsencryptå®ç°æ•°æ®RSAåŠ å¯† */</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> JSEncrypt</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;jsencrypt&#39;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // å¤„ç†é•¿æ–‡æœ¬æ•°æ®æ—¶æŠ¥é”™ jsencrypt.js Message too long for RSA</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">/* äº§å¼•å…¥encryptlongå®ç°æ•°æ®RSAåŠ å¯† */</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> Encrypt</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;encryptlong&#39;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // encryptlongæ˜¯åŸºäºjsencryptæ‰©å±•çš„é•¿æ–‡æœ¬åˆ†æ®µåŠ è§£å¯†åŠŸèƒ½ã€‚</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-ç°ä»£æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#_2-ç°ä»£æ¨¡å¼"><span>2. ç°ä»£æ¨¡å¼</span></a></h2><p>è¿™ä¸ªæŒ‡ä»¤çœ‹ä¸Šå»åƒä¸€ä¸ªå­—ç¬¦ä¸² <code>&quot;use strict&quot;</code> æˆ–è€… <code>&#39;use strict&#39;</code>ã€‚å½“å®ƒå¤„äºè„šæœ¬æ–‡ä»¶çš„é¡¶éƒ¨æ—¶ï¼Œåˆ™æ•´ä¸ªè„šæœ¬æ–‡ä»¶éƒ½å°†ä»¥â€œç°ä»£â€æ¨¡å¼è¿›è¡Œå·¥ä½œã€‚</p><ul><li>è¯·ç¡®ä¿ <code>&quot;use strict&quot;</code> å‡ºç°åœ¨è„šæœ¬çš„æœ€é¡¶éƒ¨ï¼Œå¦åˆ™ä¸¥æ ¼æ¨¡å¼å¯èƒ½æ— æ³•å¯ç”¨ã€‚</li><li>ç°ä»£ JavaScript æ”¯æŒ â€œclassâ€ å’Œ â€œmoduleâ€ â€”â€” é«˜çº§è¯­è¨€ç»“æ„ï¼ˆæœ¬æ•™ç¨‹åç»­ç« èŠ‚ä¼šè®²åˆ°ï¼‰ï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨å¯ç”¨ <code>use strict</code>ã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬ä½¿ç”¨å®ƒä»¬ï¼Œåˆ™æ— éœ€æ·»åŠ  <code>&quot;use strict&quot;</code> æŒ‡ä»¤ã€‚</li></ul><h2 id="_3-äº¤äº’-alertã€prompt-å’Œ-confirm" tabindex="-1"><a class="header-anchor" href="#_3-äº¤äº’-alertã€prompt-å’Œ-confirm"><span>3. äº¤äº’ï¼šalertã€prompt å’Œ confirm</span></a></h2><ul><li><p><code>alert</code>ï¼šå¼¹å‡ºçš„è¿™ä¸ªå¸¦æœ‰ä¿¡æ¯çš„å°çª—å£è¢«ç§°ä¸º <strong>æ¨¡æ€çª—</strong>ã€‚â€œmodalâ€ æ„å‘³ç€ç”¨æˆ·ä¸èƒ½ä¸é¡µé¢çš„å…¶ä»–éƒ¨åˆ†ï¼ˆä¾‹å¦‚ç‚¹å‡»å…¶ä»–æŒ‰é’®ç­‰ï¼‰è¿›è¡Œäº¤äº’ï¼Œç›´åˆ°ä»–ä»¬å¤„ç†å®Œçª—å£ã€‚åœ¨ä¸Šé¢ç¤ºä¾‹è¿™ç§æƒ…å†µä¸‹ â€”â€” ç›´åˆ°ç”¨æˆ·ç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’®ã€‚</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Hello&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p><code>prompt</code> å‡½æ•°æ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼š</p><ul><li><p><code>title</code>ï¼šæ˜¾ç¤ºç»™ç”¨æˆ·çš„æ–‡æœ¬</p></li><li><p><code>[default]</code>ï¼šå¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°ï¼ŒæŒ‡å®š input æ¡†çš„åˆå§‹å€¼ã€‚</p></li></ul><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">result</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> prompt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">title</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, [</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">default</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p><code>confirm</code> å‡½æ•°æ˜¾ç¤ºä¸€ä¸ªå¸¦æœ‰ <code>question</code> ä»¥åŠç¡®å®šå’Œå–æ¶ˆä¸¤ä¸ªæŒ‰é’®çš„æ¨¡æ€çª—å£ã€‚ç‚¹å‡»ç¡®å®šè¿”å› <code>true</code>ï¼Œç‚¹å‡»å–æ¶ˆè¿”å› <code>false</code>ã€‚</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">result</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> confirm</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">question</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><h2 id="_4-ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦" tabindex="-1"><a class="header-anchor" href="#_4-ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦"><span>4. ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ &#39;??&#39;</span></a></h2><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> height</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">height</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ??</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 0</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p><code>??</code> åºåˆ—ä»ä¸€ç³»åˆ—çš„å€¼ä¸­é€‰æ‹©å‡ºç¬¬ä¸€ä¸ªé <code>null/undefined</code> çš„å€¼</p></li><li><p><code>??</code> è¿”å›ç¬¬ä¸€ä¸ª <strong>å·²å®šä¹‰çš„</strong> å€¼ã€‚</p></li></ul><h2 id="_5-å¯é€‰é“¾" tabindex="-1"><a class="header-anchor" href="#_5-å¯é€‰é“¾"><span>5. å¯é€‰é“¾ &quot;?.&quot;</span></a></h2><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> user</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {}; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// user æ²¡æœ‰ address å±æ€§</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">address</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">street</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// undefinedï¼ˆä¸æŠ¥é”™ï¼‰</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>å¦‚æœå¯é€‰é“¾ <code>?.</code> å‰é¢çš„å€¼ä¸º <code>undefined</code> æˆ–è€… <code>null</code>ï¼Œå®ƒä¼šåœæ­¢è¿ç®—å¹¶è¿”å› <code>undefined</code>ã€‚</p></li><li><p><code>?.</code> è¯­æ³•ä½¿å…¶å‰é¢çš„å€¼æˆä¸ºå¯é€‰å€¼ï¼Œä½†ä¸ä¼šå¯¹å…¶åé¢çš„èµ·ä½œç”¨ã€‚</p></li><li><p><code>?.</code> å‰çš„å˜é‡å¿…é¡»å·²å£°æ˜</p><p>å¦‚æœæœªå£°æ˜å˜é‡ <code>user</code>ï¼Œé‚£ä¹ˆ <code>user?.anything</code> ä¼šè§¦å‘ä¸€ä¸ªé”™è¯¯ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ReferenceError: user is not defined</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">?.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">address</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><code>?.</code> å‰çš„å˜é‡å¿…é¡»å·²å£°æ˜ï¼ˆä¾‹å¦‚ <code>let/const/var user</code> æˆ–ä½œä¸ºä¸€ä¸ªå‡½æ•°å‚æ•°ï¼‰ã€‚å¯é€‰é“¾ä»…é€‚ç”¨äºå·²å£°æ˜çš„å˜é‡ã€‚</p></li><li><p>å¦‚æœ <code>?.</code> å·¦è¾¹éƒ¨åˆ†ä¸å­˜åœ¨ï¼Œå°±ä¼šç«‹å³åœæ­¢è¿ç®—ï¼ˆâ€œçŸ­è·¯æ•ˆåº”â€ï¼‰ã€‚å› æ­¤ï¼Œå¦‚æœåœ¨ <code>?.</code> çš„å³ä¾§æœ‰ä»»ä½•è¿›ä¸€æ­¥çš„å‡½æ•°è°ƒç”¨æˆ–æ“ä½œï¼Œå®ƒä»¬å‡ä¸ä¼šæ‰§è¡Œã€‚</p></li></ul><h2 id="_6-å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_6-å‡½æ•°"><span>6. å‡½æ•°</span></a></h2><ul><li><p>å‡½æ•°å£°æ˜ï¼šåœ¨ä¸»ä»£ç æµä¸­å£°æ˜ä¸ºå•ç‹¬çš„è¯­å¥çš„å‡½æ•°ã€‚</p><p><strong>åœ¨å‡½æ•°å£°æ˜è¢«å®šä¹‰ä¹‹å‰ï¼Œå®ƒå°±å¯ä»¥è¢«è°ƒç”¨ã€‚</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> sayHi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Hello&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> );</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å‡½æ•°è¡¨è¾¾å¼ï¼šåœ¨ä¸€ä¸ªè¡¨è¾¾å¼ä¸­æˆ–å¦ä¸€ä¸ªè¯­æ³•ç»“æ„ä¸­åˆ›å»ºçš„å‡½æ•°ã€‚</p><p><strong>å‡½æ•°è¡¨è¾¾å¼æ˜¯åœ¨ä»£ç æ‰§è¡Œåˆ°è¾¾æ—¶è¢«åˆ›å»ºï¼Œå¹¶ä¸”ä»…ä»é‚£ä¸€åˆ»èµ·å¯ç”¨ã€‚</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> sayHi</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Hello&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> );</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å‡½æ•°æ˜¯ä¸ªå€¼ã€‚æ— è®ºå‡½æ•°æ˜¯å¦‚ä½•åˆ›å»ºçš„ï¼Œå‡½æ•°éƒ½æ˜¯ä¸€ä¸ªå€¼ã€‚æ— è®ºå‡½æ•°æ˜¯å¦‚ä½•åˆ›å»ºçš„ï¼Œå‡½æ•°éƒ½æ˜¯ä¸€ä¸ªå€¼ã€‚</p></li></ul><h2 id="_7-ç®­å¤´å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#_7-ç®­å¤´å‡½æ•°"><span>7. ç®­å¤´å‡½æ•°</span></a></h2><div class="hint-container warning"><p class="hint-container-title">æ·±å…¥ç†è§£ç®­å¤´å‡½æ•°</p><ul><li><strong>ç®­å¤´å‡½æ•°æ²¡æœ‰â€œthis&quot;</strong>ï¼Œç®­å¤´å‡½æ•°æ²¡æœ‰ <code>this</code>ã€‚å¦‚æœè®¿é—® <code>this</code>ï¼Œåˆ™ä¼šä»å¤–éƒ¨è·å–ã€‚</li><li><strong>ä¸èƒ½å¯¹ç®­å¤´å‡½æ•°è¿›è¡Œ</strong> <code>new</code> <strong>æ“ä½œ</strong></li><li><strong>ç®­å¤´å‡½æ•°æ²¡æœ‰</strong><code>arguments</code></li></ul></div><p>ç®­å¤´å‡½æ•°å¯ä»¥åƒå‡½æ•°è¡¨è¾¾å¼ä¸€æ ·ä½¿ç”¨ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> age</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> prompt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;What is your age?&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> welcome</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">age</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> &lt;</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 18</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#0184BC;--shiki-dark:#C678DD;">?</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  () </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;Hello&#39;</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">!</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#0184BC;--shiki-dark:#C678DD;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  () </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Greetings!&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">welcome</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç®­å¤´å‡½æ•°å¯¹äºç®€å•çš„æ“ä½œå¾ˆæ–¹ä¾¿ï¼Œç‰¹åˆ«æ˜¯å¯¹äºå•è¡Œçš„å‡½æ•°ã€‚å®ƒå…·ä½“æœ‰ä¸¤ç§å½¢å¼ï¼š</p><ul><li><p>ä¸å¸¦èŠ±æ‹¬å·ï¼š<code>(...args) =&gt; expression</code> â€” å³ä¾§æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼šå‡½æ•°è®¡ç®—è¡¨è¾¾å¼å¹¶è¿”å›å…¶ç»“æœã€‚å¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°ï¼Œåˆ™å¯ä»¥çœç•¥æ‹¬å·ï¼Œä¾‹å¦‚ <code>n =&gt; n*2</code>ã€‚</p></li><li><p>å¸¦èŠ±æ‹¬å·ï¼š<code>(...args) =&gt; { body }</code> â€” èŠ±æ‹¬å·å…è®¸æˆ‘ä»¬åœ¨å‡½æ•°ä¸­ç¼–å†™å¤šä¸ªè¯­å¥ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦æ˜¾å¼åœ° <code>return</code> æ¥è¿”å›ä¸€äº›å†…å®¹ã€‚</p></li></ul><h2 id="_8-å¯¹è±¡å¼•ç”¨å’Œå¤åˆ¶" tabindex="-1"><a class="header-anchor" href="#_8-å¯¹è±¡å¼•ç”¨å’Œå¤åˆ¶"><span>8. å¯¹è±¡å¼•ç”¨å’Œå¤åˆ¶</span></a></h2><p>ä¸åŸå§‹ç±»å‹ç›¸æ¯”ï¼Œå¯¹è±¡çš„æ ¹æœ¬åŒºåˆ«ä¹‹ä¸€æ˜¯å¯¹è±¡æ˜¯â€œé€šè¿‡å¼•ç”¨â€è¢«å­˜å‚¨å’Œå¤åˆ¶çš„ï¼Œä¸åŸå§‹ç±»å‹å€¼ç›¸åï¼šå­—ç¬¦ä¸²ï¼Œæ•°å­—ï¼Œå¸ƒå°”å€¼ç­‰ â€”â€” å§‹ç»ˆæ˜¯ä»¥â€œæ•´ä½“å€¼â€çš„å½¢å¼è¢«å¤åˆ¶çš„ã€‚</p><p><strong>èµ‹å€¼äº†å¯¹è±¡çš„å˜é‡å­˜å‚¨çš„ä¸æ˜¯å¯¹è±¡æœ¬èº«ï¼Œè€Œæ˜¯è¯¥å¯¹è±¡â€œåœ¨å†…å­˜ä¸­çš„åœ°å€â€ â€”â€” æ¢å¥è¯è¯´å°±æ˜¯å¯¹è¯¥å¯¹è±¡çš„â€œå¼•ç”¨â€ã€‚</strong></p><p>å…‹éš†ä¸åˆå¹¶ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Object</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">assign</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">dest</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, [</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">src1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">src2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">src3</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>ç¬¬ä¸€ä¸ªå‚æ•° <code>dest</code> æ˜¯æŒ‡ç›®æ ‡å¯¹è±¡ã€‚</li><li>æ›´åé¢çš„å‚æ•° <code>src1, ..., srcN</code>ï¼ˆå¯æŒ‰éœ€ä¼ é€’å¤šä¸ªå‚æ•°ï¼‰æ˜¯æºå¯¹è±¡ã€‚</li><li>è¯¥æ–¹æ³•å°†æ‰€æœ‰æºå¯¹è±¡çš„å±æ€§æ‹·è´åˆ°ç›®æ ‡å¯¹è±¡ <code>dest</code> ä¸­ã€‚æ¢å¥è¯è¯´ï¼Œä»ç¬¬äºŒä¸ªå¼€å§‹çš„æ‰€æœ‰å‚æ•°çš„å±æ€§éƒ½è¢«æ‹·è´åˆ°ç¬¬ä¸€ä¸ªå‚æ•°çš„å¯¹è±¡ä¸­ã€‚</li><li>è°ƒç”¨ç»“æœè¿”å› <code>dest</code>ã€‚</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> user</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  name</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;John&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  sizes</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    height</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 182</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    width</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 50</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> clone</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Object</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">assign</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({}, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">sizes</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> clone</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">sizes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// trueï¼ŒåŒä¸€ä¸ªå¯¹è±¡</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// user å’Œ clone åˆ†äº«åŒä¸€ä¸ª sizes</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">sizes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">width</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;       </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// é€šè¿‡å…¶ä¸­ä¸€ä¸ªæ”¹å˜å±æ€§å€¼</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">clone</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">sizes</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">width</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 51ï¼Œèƒ½ä»å¦å¤–ä¸€ä¸ªçœ‹åˆ°å˜æ›´çš„ç»“æœ</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç°åœ¨è¿™æ ·æ‹·è´<code>clone.sizes = user.sizes</code> å·²ç»ä¸è¶³å¤Ÿäº†ï¼Œå› ä¸º <code>user.sizes</code> æ˜¯ä¸ªå¯¹è±¡ï¼Œå®ƒä¼šä»¥å¼•ç”¨å½¢å¼è¢«æ‹·è´ã€‚å› æ­¤ <code>clone</code> å’Œ <code>user</code> ä¼šå…±ç”¨ä¸€ä¸ª sizesã€‚</p><h2 id="_9-symbol-ç±»å‹" tabindex="-1"><a class="header-anchor" href="#_9-symbol-ç±»å‹"><span>9. Symbol ç±»å‹</span></a></h2><ul><li><p><code>Symbolå€¼</code>è¡¨ç¤ºå”¯ä¸€çš„æ ‡è¯†ç¬¦ã€‚</p></li><li><p>æˆ‘ä»¬å¯ä»¥ç»™ Symbol ä¸€ä¸ªæè¿°ï¼ˆä¹Ÿç§°ä¸º Symbol åï¼‰ï¼Œè¿™åœ¨ä»£ç è°ƒè¯•æ—¶éå¸¸æœ‰ç”¨ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// id æ˜¯ symbol çš„ä¸€ä¸ªå®ä¾‹åŒ–å¯¹è±¡</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// id æ˜¯æè¿°ä¸º &quot;id&quot; çš„ Symbol</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> id</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Symbol</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;id&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Symbol ä¿è¯æ˜¯å”¯ä¸€çš„ã€‚å³ä½¿æˆ‘ä»¬åˆ›å»ºäº†è®¸å¤šå…·æœ‰ç›¸åŒæè¿°çš„ Symbolï¼Œå®ƒä»¬çš„å€¼ä¹Ÿæ˜¯ä¸åŒã€‚æè¿°åªæ˜¯ä¸€ä¸ªæ ‡ç­¾ï¼Œä¸å½±å“ä»»ä½•ä¸œè¥¿ã€‚</p></li><li><p><strong>Symbol ä¸ä¼šè¢«è‡ªåŠ¨è½¬æ¢ä¸ºå­—ç¬¦ä¸²</strong></p><p>å¦‚æœæˆ‘ä»¬çœŸçš„æƒ³æ˜¾ç¤ºä¸€ä¸ª Symbolï¼Œæˆ‘ä»¬éœ€è¦åœ¨å®ƒä¸Šé¢è°ƒç”¨ <code>.toString()</code>ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> id</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Symbol</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;id&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">toString</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">()); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Symbol(id)ï¼Œç°åœ¨å®ƒæœ‰æ•ˆäº†</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ–è€…è·å– <code>symbol.description</code> å±æ€§ï¼Œåªæ˜¾ç¤ºæè¿°ï¼ˆdescriptionï¼‰ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> id</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Symbol</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;id&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">description</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// id</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>â€œéšè—â€å±æ€§</strong></p><p>Symbol å…è®¸æˆ‘ä»¬åˆ›å»ºå¯¹è±¡çš„â€œéšè—â€å±æ€§ï¼Œä»£ç çš„ä»»ä½•å…¶ä»–éƒ¨åˆ†éƒ½ä¸èƒ½æ„å¤–è®¿é—®æˆ–é‡å†™è¿™äº›å±æ€§ã€‚</p><p>ä½¿ç”¨ <code>Symbol(&quot;id&quot;)</code> ä½œä¸ºé”®ï¼Œæ¯”èµ·ç”¨å­—ç¬¦ä¸² <code>&quot;id&quot;</code> æ¥æœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿ</p><p>å› ä¸º <code>user</code> å¯¹è±¡å±äºå…¶ä»–çš„ä»£ç ï¼Œé‚£äº›ä»£ç ä¹Ÿä¼šä½¿ç”¨è¿™ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸åº”è¯¥åœ¨å®ƒä¸Šé¢ç›´æ¥æ·»åŠ ä»»ä½•å­—æ®µï¼Œè¿™æ ·å¾ˆä¸å®‰å…¨ã€‚ä½†æ˜¯ä½ æ·»åŠ çš„ Symbol å±æ€§ä¸ä¼šè¢«æ„å¤–è®¿é—®åˆ°ï¼Œç¬¬ä¸‰æ–¹ä»£ç æ ¹æœ¬ä¸ä¼šçœ‹åˆ°å®ƒï¼Œæ‰€ä»¥ä½¿ç”¨ Symbol åŸºæœ¬ä¸Šä¸ä¼šæœ‰é—®é¢˜ã€‚</p><p>å¦å¤–ï¼Œå‡è®¾å¦ä¸€ä¸ªè„šæœ¬å¸Œæœ›åœ¨ <code>user</code> ä¸­æœ‰è‡ªå·±çš„æ ‡è¯†ç¬¦ï¼Œä»¥å®ç°è‡ªå·±çš„ç›®çš„ã€‚è¿™å¯èƒ½æ˜¯å¦ä¸€ä¸ª JavaScript åº“ï¼Œå› æ­¤è„šæœ¬ä¹‹é—´å®Œå…¨ä¸äº†è§£å½¼æ­¤ã€‚</p></li><li><p><strong>å¯¹è±¡å­—é¢é‡ä¸­çš„ Symbol</strong></p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> id</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Symbol</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;id&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> user</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  name</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;John&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  [</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 123</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // è€Œä¸æ˜¯ &quot;id&quot;ï¼š123</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ˜¯å› ä¸ºæˆ‘ä»¬éœ€è¦å˜é‡ <code>id</code> çš„å€¼ä½œä¸ºé”®ï¼Œè€Œä¸æ˜¯å­—ç¬¦ä¸² â€œidâ€ã€‚</p></li><li><p><strong>Symbol åœ¨ forâ€¦in ä¸­ä¼šè¢«è·³è¿‡</strong></p><p><code>Object.keys(user) </code>ä¹Ÿä¼šå¿½ç•¥å®ƒä»¬ã€‚è¿™æ˜¯ä¸€èˆ¬â€œéšè—ç¬¦å·å±æ€§â€åŸåˆ™çš„ä¸€éƒ¨åˆ†ã€‚å¦‚æœå¦ä¸€ä¸ªè„šæœ¬æˆ–åº“éå†æˆ‘ä»¬çš„å¯¹è±¡ï¼Œå®ƒä¸ä¼šæ„å¤–åœ°è®¿é—®åˆ°ç¬¦å·å±æ€§ã€‚</p><p>ç›¸åï¼Œ<code>Object.assign()</code>ä¼šåŒæ—¶å¤åˆ¶å­—ç¬¦ä¸²å’Œ symbol å±æ€§ï¼š</p></li><li><p><strong>å…¨å±€ symbol</strong></p><p>æ­£å¦‚æˆ‘ä»¬æ‰€çœ‹åˆ°çš„ï¼Œé€šå¸¸æ‰€æœ‰çš„ Symbol éƒ½æ˜¯ä¸åŒçš„ï¼Œå³ä½¿å®ƒä»¬æœ‰ç›¸åŒçš„åå­—ã€‚ä½†æœ‰æ—¶æˆ‘ä»¬æƒ³è¦åå­—ç›¸åŒçš„ Symbol å…·æœ‰ç›¸åŒçš„å®ä½“ã€‚ä¾‹å¦‚ï¼Œåº”ç”¨ç¨‹åºçš„ä¸åŒéƒ¨åˆ†æƒ³è¦è®¿é—®çš„ Symbol <code>&quot;id&quot;</code> æŒ‡çš„æ˜¯å®Œå…¨ç›¸åŒçš„å±æ€§ã€‚</p><p>ä¸ºäº†å®ç°è¿™ä¸€ç‚¹ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ª <strong>å…¨å±€ Symbol æ³¨å†Œè¡¨</strong>ã€‚æˆ‘ä»¬å¯ä»¥åœ¨å…¶ä¸­åˆ›å»º Symbol å¹¶åœ¨ç¨åè®¿é—®å®ƒä»¬ï¼Œå®ƒå¯ä»¥ç¡®ä¿æ¯æ¬¡è®¿é—®ç›¸åŒåå­—çš„ Symbol æ—¶ï¼Œè¿”å›çš„éƒ½æ˜¯ç›¸åŒçš„ Symbolã€‚</p><p>è¦ä»æ³¨å†Œè¡¨ä¸­è¯»å–ï¼ˆä¸å­˜åœ¨åˆ™åˆ›å»ºï¼‰Symbolï¼Œè¯·ä½¿ç”¨ <code>Symbol.for(key)</code>ã€‚</p><p>å¯¹äºå…¨å±€ Symbolï¼Œä¸ä»…æœ‰ <code>Symbol.for(key)</code> æŒ‰åå­—è¿”å›ä¸€ä¸ª Symbolï¼Œè¿˜æœ‰ä¸€ä¸ªåå‘è°ƒç”¨ï¼š<code>Symbol.keyFor(sym)</code>ï¼Œå®ƒçš„ä½œç”¨å®Œå…¨åè¿‡æ¥ï¼šé€šè¿‡å…¨å±€ Symbol è¿”å›ä¸€ä¸ªåå­—ã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>// é€šè¿‡ name è·å– Symbol</span></span>
<span class="line"><span>let sym = Symbol.for(&quot;name&quot;);</span></span>
<span class="line"><span>let sym2 = Symbol.for(&quot;id&quot;);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// é€šè¿‡ Symbol è·å– name</span></span>
<span class="line"><span>alert( Symbol.keyFor(sym) ); // name</span></span>
<span class="line"><span>alert( Symbol.keyFor(sym2) ); // id</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>ç³»ç»Ÿ Symbol</strong></p><p>JavaScript å†…éƒ¨æœ‰å¾ˆå¤šâ€œç³»ç»Ÿâ€ Symbolï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒä»¬æ¥å¾®è°ƒå¯¹è±¡çš„å„ä¸ªæ–¹é¢ã€‚</p><p>å®ƒä»¬éƒ½è¢«åˆ—åœ¨äº† <a href="https://tc39.github.io/ecma262/#sec-well-known-symbols" target="_blank" rel="noopener noreferrer">ä¼—æ‰€å‘¨çŸ¥çš„ Symbol</a> è¡¨çš„è§„èŒƒä¸­ï¼š</p><ul><li><code>Symbol.hasInstance</code></li><li><code>Symbol.isConcatSpreadable</code></li><li><code>Symbol.iterator</code></li><li><code>Symbol.toPrimitive</code></li><li>â€¦â€¦ç­‰ç­‰ã€‚</li></ul><p>ä¾‹å¦‚ï¼Œ<code>Symbol.toPrimitive</code> å…è®¸æˆ‘ä»¬å°†å¯¹è±¡æè¿°ä¸ºåŸå§‹å€¼è½¬æ¢ã€‚æˆ‘ä»¬å¾ˆå¿«å°±ä¼šçœ‹åˆ°å®ƒçš„ä½¿ç”¨ã€‚</p></li></ul><h2 id="_10-æ•°å­¦ç±»å‹" tabindex="-1"><a class="header-anchor" href="#_10-æ•°å­¦ç±»å‹"><span>10. æ•°å­¦ç±»å‹</span></a></h2><p><strong>toString(base)</strong>: <code>num.toString(base)</code> è¿”å›åœ¨ç»™å®š <code>base</code> è¿›åˆ¶æ•°å­—ç³»ç»Ÿä¸­ <code>num</code> çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚</p><p><strong>toFixed(n)</strong>ï¼šå°†æ•°å­—èˆå…¥åˆ°å°æ•°ç‚¹å <code>n</code> ä½ï¼Œå¹¶ä»¥å­—ç¬¦ä¸²å½¢å¼è¿”å›ç»“æœã€‚</p><p><strong>isFinite(value)</strong>ï¼šå°†å…¶å‚æ•°è½¬æ¢ä¸ºæ•°å­—ï¼Œå¦‚æœæ˜¯å¸¸è§„æ•°å­—ï¼Œåˆ™è¿”å› <code>true</code>ï¼Œè€Œä¸æ˜¯ <code>NaN/Infinity/-Infinity</code>ï¼š</p><p><strong>isNaN(value)</strong>ï¼šå°†å…¶å‚æ•°è½¬æ¢ä¸ºæ•°å­—ï¼Œç„¶åæµ‹è¯•å®ƒæ˜¯å¦ä¸º <code>NaN</code></p><p><strong>parseInt(str, radix)</strong>ï¼š</p><p><code>parseInt()</code> å‡½æ•°å…·æœ‰å¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚å®ƒæŒ‡å®šäº†æ•°å­—ç³»ç»Ÿçš„åŸºæ•°ï¼Œå› æ­¤ <code>parseInt</code> è¿˜å¯ä»¥è§£æåå…­è¿›åˆ¶æ•°å­—ã€äºŒè¿›åˆ¶æ•°å­—ç­‰çš„å­—ç¬¦ä¸²ï¼š</p><p><code>parseInt</code> å’Œ <code>parseFloat</code> çš„ä½œç”¨ã€‚</p><p>å®ƒä»¬å¯ä»¥ä»å­—ç¬¦ä¸²ä¸­â€œè¯»å–â€æ•°å­—ï¼Œç›´åˆ°æ— æ³•è¯»å–ä¸ºæ­¢ã€‚å¦‚æœå‘ç”Ÿ errorï¼Œåˆ™è¿”å›æ”¶é›†åˆ°çš„æ•°å­—ã€‚å‡½æ•° <code>parseInt</code> è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè€Œ <code>parseFloat</code> è¿”å›ä¸€ä¸ªæµ®ç‚¹æ•°ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">parseInt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;100px&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) ); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 100</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">parseFloat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;12.5em&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) ); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 12.5</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_11-æ•°ç»„æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_11-æ•°ç»„æ–¹æ³•"><span>11. æ•°ç»„æ–¹æ³•</span></a></h2><div class="hint-container tip"><p class="hint-container-title"><strong>æ·»åŠ /ç§»é™¤æ•°ç»„å…ƒç´ </strong></p><ul><li><code>arr.push(...items)</code> â€”â€” ä»å°¾ç«¯æ·»åŠ å…ƒç´ ï¼Œ</li><li><code>arr.pop()</code> â€”â€” ä»å°¾ç«¯æå–å…ƒç´ ï¼Œ</li><li><code>arr.shift()</code> â€”â€” ä»é¦–ç«¯æå–å…ƒç´ ï¼Œ</li><li><code>arr.unshift(...items)</code> â€”â€” ä»é¦–ç«¯æ·»åŠ å…ƒç´ ã€‚<br><strong>splice</strong>ï¼šå¯ä»¥åšæ‰€æœ‰äº‹æƒ…ï¼šæ·»åŠ ï¼Œåˆ é™¤å’Œæ’å…¥å…ƒç´ ã€‚</li></ul></div><h3 id="_11-1-splice" tabindex="-1"><a class="header-anchor" href="#_11-1-splice"><span>11.1 splice</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">arr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">splice</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">start</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">deleteCount</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">elem1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">elemN</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]])</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å®ƒä»ç´¢å¼• <code>start</code> å¼€å§‹ä¿®æ”¹ <code>arr</code>ï¼šåˆ é™¤ <code>deleteCount</code> ä¸ªå…ƒç´ å¹¶åœ¨å½“å‰ä½ç½®æ’å…¥ <code>elem1, ..., elemN</code>ã€‚æœ€åè¿”å›å·²è¢«åˆ é™¤å…ƒç´ çš„æ•°ç»„ã€‚</p><h3 id="_11-2-slice" tabindex="-1"><a class="header-anchor" href="#_11-2-slice"><span>11.2 <strong>slice</strong>ï¼š</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">arr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">slice</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">([</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">start</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], [</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">end</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å®ƒä¼šè¿”å›ä¸€ä¸ªæ–°æ•°ç»„ï¼Œå°†æ‰€æœ‰ä»ç´¢å¼• <code>start</code> åˆ° <code>end-1</code>çš„æ•°ç»„é¡¹å¤åˆ¶åˆ°ä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚<code>start</code> å’Œ <code>end</code> éƒ½å¯ä»¥æ˜¯è´Ÿæ•°ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»æœ«å°¾è®¡ç®—ç´¢å¼•ã€‚</p><h3 id="_11-3-concat" tabindex="-1"><a class="header-anchor" href="#_11-3-concat"><span><strong>11.3 concat</strong>ï¼š</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">arr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">concat</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">arg1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">arg2</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„ï¼Œå…¶ä¸­åŒ…å«æ¥è‡ªäºå…¶ä»–æ•°ç»„å’Œå…¶ä»–é¡¹çš„å€¼ã€‚</p><p>å®ƒæ¥å—ä»»æ„æ•°é‡çš„å‚æ•° â€”â€” æ•°ç»„æˆ–å€¼éƒ½å¯ä»¥ã€‚</p><p>ç»“æœæ˜¯ä¸€ä¸ªåŒ…å«æ¥è‡ªäº <code>arr</code>ï¼Œç„¶åæ˜¯ <code>arg1</code>ï¼Œ<code>arg2</code> çš„å…ƒç´ çš„æ–°æ•°ç»„ã€‚</p><p>å¦‚æœå‚æ•° <code>argN</code> æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆå…¶ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½ä¼šè¢«å¤åˆ¶ã€‚å¦åˆ™ï¼Œå°†å¤åˆ¶å‚æ•°æœ¬èº«ã€‚</p><h3 id="_11-4-foreach" tabindex="-1"><a class="header-anchor" href="#_11-4-foreach"><span>11.4 <strong>forEach</strong>ï¼š</span></a></h3><p>å…è®¸ä¸ºæ•°ç»„çš„æ¯ä¸ªå…ƒç´ éƒ½è¿è¡Œä¸€ä¸ªå‡½æ•°ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">arr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">forEach</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">item</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">index</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">array</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // ... do something with item</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_11-5-indexof-lastindexof-å’Œ-includes" tabindex="-1"><a class="header-anchor" href="#_11-5-indexof-lastindexof-å’Œ-includes"><span>11.5 <strong>indexOf/lastIndexOf å’Œ includes</strong>ï¼š</span></a></h3><p>ä¸å­—ç¬¦ä¸²æ“ä½œå…·æœ‰ç›¸åŒçš„è¯­æ³•ï¼Œå¹¶ä¸”ä½œç”¨åŸºæœ¬ä¸Šä¹Ÿä¸å­—ç¬¦ä¸²çš„æ–¹æ³•ç›¸åŒï¼Œåªä¸è¿‡è¿™é‡Œæ˜¯å¯¹æ•°ç»„å…ƒç´ è€Œä¸æ˜¯å­—ç¬¦è¿›è¡Œæ“ä½œï¼š</p><ul><li><code>arr.indexOf(item, from)</code> ä»ç´¢å¼• <code>from</code> å¼€å§‹æœç´¢ <code>item</code>ï¼Œå¦‚æœæ‰¾åˆ°åˆ™è¿”å›ç´¢å¼•ï¼Œå¦åˆ™è¿”å› <code>-1</code>ã€‚</li><li><code>arr.lastIndexOf(item, from)</code> â€”â€” å’Œä¸Šé¢ç›¸åŒï¼Œåªæ˜¯ä»å³å‘å·¦æœç´¢ã€‚</li><li><code>arr.includes(item, from)</code> â€”â€” ä»ç´¢å¼• <code>from</code> å¼€å§‹æœç´¢ <code>item</code>ï¼Œå¦‚æœæ‰¾åˆ°åˆ™è¿”å› <code>true</code>ï¼ˆè¯‘æ³¨ï¼šå¦‚æœæ²¡æ‰¾åˆ°ï¼Œåˆ™è¿”å› <code>false</code>ï¼‰ã€‚</li></ul><h3 id="_11-6-find-å’Œ-findindex" tabindex="-1"><a class="header-anchor" href="#_11-6-find-å’Œ-findindex"><span>11.6 <strong>find å’Œ findIndex</strong></span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> result</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> arr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">find</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">item</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">index</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">array</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // å¦‚æœè¿”å› trueï¼Œåˆ™è¿”å› item å¹¶åœæ­¢è¿­ä»£</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // å¯¹äºå‡å€¼ï¼ˆfalsyï¼‰çš„æƒ…å†µï¼Œåˆ™è¿”å› undefined</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¾æ¬¡å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ è°ƒç”¨è¯¥å‡½æ•°ï¼š</p><ul><li><code>item</code> æ˜¯å…ƒç´ ã€‚</li><li><code>index</code> æ˜¯å®ƒçš„ç´¢å¼•ã€‚</li><li><code>array</code> æ˜¯æ•°ç»„æœ¬èº«ã€‚</li></ul><p>å¦‚æœå®ƒè¿”å› <code>true</code>ï¼Œåˆ™æœç´¢åœæ­¢ï¼Œå¹¶è¿”å› <code>item</code>ã€‚å¦‚æœæ²¡æœ‰æœç´¢åˆ°ï¼Œåˆ™è¿”å› <code>undefined</code>ã€‚</p><p><code>arr.findIndex</code>æ–¹æ³•ï¼ˆä¸ <code>arr.find</code> æ–¹æ³•ï¼‰åŸºæœ¬ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œä½†å®ƒè¿”å›æ‰¾åˆ°å…ƒç´ çš„ç´¢å¼•ï¼Œè€Œä¸æ˜¯å…ƒç´ æœ¬èº«ã€‚å¹¶ä¸”åœ¨æœªæ‰¾åˆ°ä»»ä½•å†…å®¹æ—¶è¿”å› <code>-1</code>ã€‚</p><h3 id="_11-7-filter" tabindex="-1"><a class="header-anchor" href="#_11-7-filter"><span>11.7 <strong>filter</strong>ï¼š</span></a></h3><p><code>find</code> æ–¹æ³•æœç´¢çš„æ˜¯ä½¿å‡½æ•°è¿”å› <code>true</code> çš„ç¬¬ä¸€ä¸ªï¼ˆå•ä¸ªï¼‰å…ƒç´ ã€‚</p><p>å¦‚æœéœ€è¦åŒ¹é…çš„æœ‰å¾ˆå¤šï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code> arr.filter(fn)</code>ã€‚</p><p>è¯­æ³•ä¸ <code>find</code> å¤§è‡´ç›¸åŒï¼Œä½†æ˜¯ <code>filter</code> è¿”å›çš„æ˜¯æ‰€æœ‰åŒ¹é…å…ƒç´ ç»„æˆçš„æ•°ç»„ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> results</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> arr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">filter</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">item</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">index</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">array</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // å¦‚æœ true item è¢« push åˆ° resultsï¼Œè¿­ä»£ç»§ç»­</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // å¦‚æœä»€ä¹ˆéƒ½æ²¡æ‰¾åˆ°ï¼Œåˆ™è¿”å›ç©ºæ•°ç»„</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_11-8-map" tabindex="-1"><a class="header-anchor" href="#_11-8-map"><span>11.8 <strong>map</strong>ï¼š</span></a></h3><p>å®ƒå¯¹æ•°ç»„çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨å‡½æ•°ï¼Œå¹¶è¿”å›ç»“æœæ•°ç»„ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> result</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> arr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">item</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">index</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">array</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // è¿”å›æ–°å€¼è€Œä¸æ˜¯å½“å‰å…ƒç´ </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_11-9-split-å’Œ-join" tabindex="-1"><a class="header-anchor" href="#_11-9-split-å’Œ-join"><span>11.9 <strong>split å’Œ join</strong>ï¼š</span></a></h3><p><code>str.split(delim)</code> æ–¹æ³•å¯ä»¥åšåˆ°ã€‚å®ƒé€šè¿‡ç»™å®šçš„åˆ†éš”ç¬¦ <code>delim</code> å°†å­—ç¬¦ä¸²åˆ†å‰²æˆä¸€ä¸ªæ•°ç»„ã€‚</p><p><code>arr.join(glue)</code> ä¸ <code>split</code> ç›¸åã€‚å®ƒä¼šåœ¨å®ƒä»¬ä¹‹é—´åˆ›å»ºä¸€ä¸²ç”± <code>glue</code> ç²˜åˆçš„ <code>arr</code> é¡¹ã€‚</p><p>11.10 <strong>reduce</strong>ï¼š</p><p>ç”¨äºæ ¹æ®æ•°ç»„è®¡ç®—å•ä¸ªå€¼</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> value</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> arr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">reduce</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">accumulator</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">item</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">index</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">array</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // ...</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}, [</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">initial</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯¥å‡½æ•°ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°åº”ç”¨äºæ‰€æœ‰æ•°ç»„å…ƒç´ ï¼Œå¹¶å°†å…¶ç»“æœâ€œæ¬è¿ï¼ˆcarry onï¼‰â€åˆ°ä¸‹ä¸€ä¸ªè°ƒç”¨ã€‚</p><p>å‚æ•°ï¼š</p><ul><li><code>accumulator</code> â€”â€” æ˜¯ä¸Šä¸€ä¸ªå‡½æ•°è°ƒç”¨çš„ç»“æœï¼Œç¬¬ä¸€æ¬¡ç­‰äº <code>initial</code>ï¼ˆå¦‚æœæä¾›äº† <code>initial</code> çš„è¯ï¼‰ã€‚æœ¬è´¨ä¸Šæ˜¯ç´¯åŠ å™¨</li><li><code>item</code> â€”â€” å½“å‰çš„æ•°ç»„å…ƒç´ ã€‚</li><li><code>index</code> â€”â€” å½“å‰ç´¢å¼•ã€‚</li><li><code>arr</code> â€”â€” æ•°ç»„æœ¬èº«ã€‚</li></ul><blockquote><p>å¦‚æœ <code>fn</code> è¿”å›ä¸€ä¸ªçœŸå€¼ï¼Œ<code>arr.some(fn)</code> ç«‹å³è¿”å› <code>true</code> å¹¶åœæ­¢è¿­ä»£å…¶ä½™æ•°ç»„é¡¹ï¼›å¦‚æœ <code>fn</code> è¿”å›ä¸€ä¸ªå‡å€¼ï¼Œ<code>arr.every(fn)</code> ç«‹å³è¿”å› <code>false</code> å¹¶åœæ­¢å¯¹å…¶ä½™æ•°ç»„é¡¹çš„è¿­ä»£ã€‚</p></blockquote><h2 id="_12-iterable-object-å¯è¿­ä»£å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_12-iterable-object-å¯è¿­ä»£å¯¹è±¡"><span>12. Iterable objectï¼ˆå¯è¿­ä»£å¯¹è±¡ï¼‰</span></a></h2><h3 id="_12-1-symbol-iterator-æœ‰è¯¥å±æ€§çš„å¯¹è±¡æ˜¯å¯è¿­ä»£çš„å¯¹è±¡-å¯éå†" tabindex="-1"><a class="header-anchor" href="#_12-1-symbol-iterator-æœ‰è¯¥å±æ€§çš„å¯¹è±¡æ˜¯å¯è¿­ä»£çš„å¯¹è±¡-å¯éå†"><span>12.1 <strong>Symbol.iterator</strong>ï¼šæœ‰è¯¥å±æ€§çš„å¯¹è±¡æ˜¯å¯è¿­ä»£çš„å¯¹è±¡ï¼ˆå¯éå†ï¼‰</span></a></h3><p>å¯ä»¥åº”ç”¨ <code>for..of</code> çš„å¯¹è±¡è¢«ç§°ä¸º <strong>å¯è¿­ä»£çš„</strong>ã€‚</p><p>ä¸ºäº†è®© <code>range</code> å¯¹è±¡å¯è¿­ä»£ï¼ˆä¹Ÿå°±è®© <code>for..of</code> å¯ä»¥è¿è¡Œï¼‰æˆ‘ä»¬éœ€è¦ä¸ºå¯¹è±¡æ·»åŠ ä¸€ä¸ªåä¸º <code>Symbol.iterator</code> çš„æ–¹æ³•ï¼ˆä¸€ä¸ªä¸“é—¨ç”¨äºä½¿å¯¹è±¡å¯è¿­ä»£çš„å†…å»º symbolï¼‰ã€‚</p><ol><li><p>å½“ <code>for..of</code> å¾ªç¯å¯åŠ¨æ—¶ï¼Œå®ƒä¼šè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼ˆå¦‚æœæ²¡æ‰¾åˆ°ï¼Œå°±ä¼šæŠ¥é”™ï¼‰ã€‚è¿™ä¸ªæ–¹æ³•å¿…é¡»è¿”å›ä¸€ä¸ª <strong>è¿­ä»£å™¨ï¼ˆiteratorï¼‰</strong> â€”â€” ä¸€ä¸ªæœ‰ <code>next</code> æ–¹æ³•çš„å¯¹è±¡ã€‚</p></li><li><p>ä»æ­¤å¼€å§‹ï¼Œ<code>for..of</code> <strong>ä»…é€‚ç”¨äºè¿™ä¸ªè¢«è¿”å›çš„å¯¹è±¡</strong>ã€‚</p></li><li><p>å½“ <code>for..of</code> å¾ªç¯å¸Œæœ›å–å¾—ä¸‹ä¸€ä¸ªæ•°å€¼ï¼Œå®ƒå°±è°ƒç”¨è¿™ä¸ªå¯¹è±¡çš„ <code>next()</code> æ–¹æ³•ã€‚</p></li><li><p><code>next()</code> æ–¹æ³•è¿”å›çš„ç»“æœçš„æ ¼å¼å¿…é¡»æ˜¯ <code>{done: Boolean, value: any}</code>ï¼Œå½“ <code>done=true</code> æ—¶ï¼Œè¡¨ç¤ºå¾ªç¯ç»“æŸï¼Œå¦åˆ™ <code>value</code> æ˜¯ä¸‹ä¸€ä¸ªå€¼ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> range</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  from</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  to</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 5</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 1. for..of è°ƒç”¨é¦–å…ˆä¼šè°ƒç”¨è¿™ä¸ªï¼š</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">range</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Symbol</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#C18401;--shiki-dark:#E06C75;">iterator</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // â€¦â€¦å®ƒè¿”å›è¿­ä»£å™¨å¯¹è±¡ï¼ˆiterator objectï¼‰ï¼š</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // 2. æ¥ä¸‹æ¥ï¼Œfor..of ä»…ä¸ä¸‹é¢çš„è¿­ä»£å™¨å¯¹è±¡ä¸€èµ·å·¥ä½œï¼Œè¦æ±‚å®ƒæä¾›ä¸‹ä¸€ä¸ªå€¼</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    current</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    last</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">to</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // 3. next() åœ¨ for..of çš„æ¯ä¸€è½®å¾ªç¯è¿­ä»£ä¸­è¢«è°ƒç”¨</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    next</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      // 4. å®ƒå°†ä¼šè¿”å› {done:.., value :...} æ ¼å¼çš„å¯¹è±¡</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">      if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">current</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> &lt;=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">last</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">done</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> false</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">current</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> };</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">done</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> };</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  };</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ç°åœ¨å®ƒå¯ä»¥è¿è¡Œäº†ï¼</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> num</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> of</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> range</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">num</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 1, ç„¶åæ˜¯ 2, 3, 4, 5</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="_12-2-array-from" tabindex="-1"><a class="header-anchor" href="#_12-2-array-from"><span>12.2 <strong>Array.from</strong></span></a></h3><p>æœ‰ä¸€ä¸ªå…¨å±€æ–¹æ³•<code> Array.from</code>å¯ä»¥æ¥å—ä¸€ä¸ªå¯è¿­ä»£æˆ–ç±»æ•°ç»„çš„å€¼ï¼Œå¹¶ä»ä¸­è·å–ä¸€ä¸ªâ€œçœŸæ­£çš„â€æ•°ç»„ã€‚ç„¶åæˆ‘ä»¬å°±å¯ä»¥å¯¹å…¶è°ƒç”¨æ•°ç»„æ–¹æ³•äº†ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Array</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">from</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">obj</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">mapFn</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">thisArg</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å¯é€‰çš„ç¬¬äºŒä¸ªå‚æ•° <code>mapFn</code> å¯ä»¥æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°ä¼šåœ¨å¯¹è±¡ä¸­çš„å…ƒç´ è¢«æ·»åŠ åˆ°æ•°ç»„å‰ï¼Œè¢«åº”ç”¨äºæ¯ä¸ªå…ƒç´ ï¼Œæ­¤å¤– <code>thisArg</code> å…è®¸æˆ‘ä»¬ä¸ºè¯¥å‡½æ•°è®¾ç½® <code>this</code>ã€‚</p><h2 id="_13-map-and-set-æ˜ å°„å’Œé›†åˆ" tabindex="-1"><a class="header-anchor" href="#_13-map-and-set-æ˜ å°„å’Œé›†åˆ"><span>13. Map and Setï¼ˆæ˜ å°„å’Œé›†åˆï¼‰</span></a></h2><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><ul><li><code>Object.keys(obj)</code>â€”â€” è¿”å›ä¸€ä¸ªåŒ…å«è¯¥å¯¹è±¡æ‰€æœ‰çš„é”®çš„æ•°ç»„ã€‚</li><li><code>Object.values(obj)</code>â€”â€” è¿”å›ä¸€ä¸ªåŒ…å«è¯¥å¯¹è±¡æ‰€æœ‰çš„å€¼çš„æ•°ç»„ã€‚</li><li><code>Object.entries(obj)</code> â€”â€” è¿”å›ä¸€ä¸ªåŒ…å«è¯¥å¯¹è±¡æ‰€æœ‰ [key, value] é”®å€¼å¯¹çš„æ•°ç»„ã€‚</li></ul></div><h3 id="_13-1-map" tabindex="-1"><a class="header-anchor" href="#_13-1-map"><span>13.1 <strong>Map</strong></span></a></h3><p><code>Map</code> æ˜¯ä¸€ä¸ªå¸¦é”®çš„æ•°æ®é¡¹çš„é›†åˆï¼Œå°±åƒä¸€ä¸ª <code>Object</code> ä¸€æ ·ã€‚ ä½†æ˜¯å®ƒä»¬æœ€å¤§çš„å·®åˆ«æ˜¯ <code>Map</code> å…è®¸ä»»ä½•ç±»å‹çš„é”®ï¼ˆkeyï¼‰ã€‚</p><p>å®ƒçš„æ–¹æ³•å’Œå±æ€§å¦‚ä¸‹ï¼š</p><ul><li><code>new Map()</code> â€”â€” åˆ›å»º mapã€‚</li><li><code>map.set(key, value)</code> â€”â€” æ ¹æ®é”®å­˜å‚¨å€¼ã€‚</li><li><code>map.get(key)</code> â€”â€” æ ¹æ®é”®æ¥è¿”å›å€¼ï¼Œå¦‚æœ <code>map</code> ä¸­ä¸å­˜åœ¨å¯¹åº”çš„ <code>key</code>ï¼Œåˆ™è¿”å› <code>undefined</code>ã€‚</li><li><code>map.has(key)</code> â€”â€” å¦‚æœ <code>key</code> å­˜åœ¨åˆ™è¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ã€‚</li><li><code>map.delete(key)</code> â€”â€” åˆ é™¤æŒ‡å®šé”®çš„å€¼ã€‚</li><li><code>map.clear()</code> â€”â€” æ¸…ç©º mapã€‚</li><li><code>map.size</code> â€”â€” è¿”å›å½“å‰å…ƒç´ ä¸ªæ•°ã€‚</li></ul><h4 id="_13-1-1-map-è¿˜å¯ä»¥ä½¿ç”¨å¯¹è±¡ä½œä¸ºé”®ã€‚" tabindex="-1"><a class="header-anchor" href="#_13-1-1-map-è¿˜å¯ä»¥ä½¿ç”¨å¯¹è±¡ä½œä¸ºé”®ã€‚"><span>13.1.1 <strong>Map è¿˜å¯ä»¥ä½¿ç”¨å¯¹è±¡ä½œä¸ºé”®ã€‚</strong></span></a></h4><p><strong>é“¾å¼è°ƒç”¨</strong>ï¼šæ¯ä¸€æ¬¡ <code>map.set</code> è°ƒç”¨éƒ½ä¼šè¿”å› map æœ¬èº«ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è¿›è¡Œâ€œé“¾å¼â€è°ƒç”¨</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;1&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;str1&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;num1&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;bool1&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_13-1-2-map-è¿­ä»£" tabindex="-1"><a class="header-anchor" href="#_13-1-2-map-è¿­ä»£"><span>13.1.2 <strong>Map è¿­ä»£ï¼š</strong></span></a></h4><p>å¦‚æœè¦åœ¨ <code>map</code> é‡Œä½¿ç”¨å¾ªç¯ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸‰ä¸ªæ–¹æ³•ï¼š</p><ul><li><p><code>map.keys()</code> â€”â€” éå†å¹¶è¿”å›æ‰€æœ‰çš„é”®ï¼ˆreturns an iterable for keysï¼‰ï¼Œ</p></li><li><p><code>map.values()</code> â€”â€” éå†å¹¶è¿”å›æ‰€æœ‰çš„å€¼ï¼ˆreturns an iterable for valuesï¼‰ï¼Œ</p></li><li><p><code>map.entries()</code> â€”â€” éå†å¹¶è¿”å›æ‰€æœ‰çš„å®ä½“ï¼ˆreturns an iterable for entriesï¼‰<code>[key, value]</code>ï¼Œ<code>for..of</code> åœ¨é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨çš„å°±æ˜¯è¿™ä¸ªã€‚</p></li><li><p><code>Object.entries</code>ï¼šä»å¯¹è±¡åˆ›å»º Map</p><p>å¦‚æœæˆ‘ä»¬æƒ³ä»ä¸€ä¸ªå·²æœ‰çš„æ™®é€šå¯¹è±¡ï¼ˆplain objectï¼‰æ¥åˆ›å»ºä¸€ä¸ª <code>Map</code></p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> obj</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  name</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;John&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  age</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 30</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> map</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Object</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">entries</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">obj</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">map</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;name&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) ); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// John</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>Object.fromEntries</code>ï¼šä» Map åˆ›å»ºå¯¹è±¡</p><p><code>Object.fromEntries</code> :ç»™å®šä¸€ä¸ªå…·æœ‰ <code>[key, value]</code> é”®å€¼å¯¹çš„æ•°ç»„ï¼Œå®ƒä¼šæ ¹æ®ç»™å®šæ•°ç»„åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> prices</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Object</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fromEntries</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">([</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;banana&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;orange&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">],</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;meat&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ç°åœ¨ prices = { banana: 1, orange: 2, meat: 4 }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">prices</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">orange</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_13-2-set" tabindex="-1"><a class="header-anchor" href="#_13-2-set"><span>13.2 <strong>Set</strong></span></a></h3><p><code>Set</code> æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç±»å‹é›†åˆ â€”â€” â€œå€¼çš„é›†åˆâ€ï¼ˆæ²¡æœ‰é”®ï¼‰ï¼Œå®ƒçš„æ¯ä¸€ä¸ªå€¼åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚</p><p>å®ƒçš„ä¸»è¦æ–¹æ³•å¦‚ä¸‹ï¼š</p><ul><li><code>new Set(iterable)</code> â€”â€” åˆ›å»ºä¸€ä¸ª <code>set</code>ï¼Œå¦‚æœæä¾›äº†ä¸€ä¸ª <code>iterable</code> å¯¹è±¡ï¼ˆé€šå¸¸æ˜¯æ•°ç»„ï¼‰ï¼Œå°†ä¼šä»æ•°ç»„é‡Œé¢å¤åˆ¶å€¼åˆ° <code>set</code> ä¸­ã€‚</li><li><code>set.add(value)</code> â€”â€” æ·»åŠ ä¸€ä¸ªå€¼ï¼Œè¿”å› set æœ¬èº«</li><li><code>set.delete(value)</code> â€”â€” åˆ é™¤å€¼ï¼Œå¦‚æœ <code>value</code> åœ¨è¿™ä¸ªæ–¹æ³•è°ƒç”¨çš„æ—¶å€™å­˜åœ¨åˆ™è¿”å› <code>true</code> ï¼Œå¦åˆ™è¿”å› <code>false</code>ã€‚</li><li><code>set.has(value)</code> â€”â€” å¦‚æœ <code>value</code> åœ¨ set ä¸­ï¼Œè¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ã€‚</li><li><code>set.clear()</code> â€”â€” æ¸…ç©º setã€‚</li><li><code>set.size</code> â€”â€” è¿”å›å…ƒç´ ä¸ªæ•°ã€‚</li></ul><h4 id="_13-2-1-set-è¿­ä»£-iteration" tabindex="-1"><a class="header-anchor" href="#_13-2-1-set-è¿­ä»£-iteration"><span>13.2.1 <strong>Set è¿­ä»£ï¼ˆiterationï¼‰</strong>:</span></a></h4><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>for..of</code> æˆ– <code>forEach</code> æ¥éå† Setï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> set</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">([</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;oranges&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;apples&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;bananas&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> value</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> of</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ä¸ forEach ç›¸åŒï¼š</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">forEach</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">valueAgain</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>set.keys()</code> â€”â€” éå†å¹¶è¿”å›æ‰€æœ‰çš„å€¼ï¼ˆreturns an iterable object for valuesï¼‰ï¼Œ</li><li><code>set.values()</code> â€”â€” ä¸ <code>set.keys()</code> ä½œç”¨ç›¸åŒï¼Œè¿™æ˜¯ä¸ºäº†å…¼å®¹ <code>Map</code>ï¼Œ</li><li><code>set.entries()</code> â€”â€” éå†å¹¶è¿”å›æ‰€æœ‰çš„å®ä½“ï¼ˆreturns an iterable object for entriesï¼‰<code>[value, value]</code>ï¼Œå®ƒçš„å­˜åœ¨ä¹Ÿæ˜¯ä¸ºäº†å…¼å®¹ <code>Map</code>ã€‚</li></ul><h2 id="_14-è§£æ„èµ‹å€¼" tabindex="-1"><a class="header-anchor" href="#_14-è§£æ„èµ‹å€¼"><span>14. è§£æ„èµ‹å€¼</span></a></h2><p><strong>è§£æ„èµ‹å€¼</strong> æ˜¯ä¸€ç§ç‰¹æ®Šçš„è¯­æ³•ï¼Œå®ƒä½¿æˆ‘ä»¬å¯ä»¥å°†æ•°ç»„æˆ–å¯¹è±¡â€œæ‹†åŒ…â€è‡³ä¸€ç³»åˆ—å˜é‡ä¸­</p><h3 id="_14-1-æ•°ç»„è§£æ„" tabindex="-1"><a class="header-anchor" href="#_14-1-æ•°ç»„è§£æ„"><span>14.1 <strong>æ•°ç»„è§£æ„</strong></span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// æˆ‘ä»¬æœ‰ä¸€ä¸ªå­˜æ”¾äº†åå­—å’Œå§“æ°çš„æ•°ç»„</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> arr</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;John&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Smith&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// è§£æ„èµ‹å€¼</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// sets firstName = arr[0]</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// and surname = arr[1]</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">firstName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">surname</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> arr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">firstName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// John</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">surname</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Smith</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p><strong>ç­‰å·å³ä¾§å¯ä»¥æ˜¯ä»»ä½•å¯è¿­ä»£å¯¹è±¡</strong></p><p>â€¦å®é™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ä¸ä»»ä½•å¯è¿­ä»£å¯¹è±¡ä¸€èµ·ä½¿ç”¨ï¼Œè€Œä¸ä»…é™äºæ•°ç»„ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">c</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;abc&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">one</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">two</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">three</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">([</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™è¡Œå¾—é€šï¼Œå› ä¸ºåœ¨å†…éƒ¨ï¼Œè§£æ„èµ‹å€¼æ˜¯é€šè¿‡è¿­ä»£å³ä¾§çš„å€¼æ¥å®Œæˆå·¥ä½œçš„ã€‚è¿™æ˜¯ä¸€ç§ç”¨äºå¯¹åœ¨ <code>=</code> å³ä¾§çš„å€¼ä¸Šè°ƒç”¨ <code>for..of</code> å¹¶è¿›è¡Œèµ‹å€¼çš„æ“ä½œçš„è¯­æ³•ç³–ã€‚</p></li><li><p><strong>èµ‹å€¼ç»™ç­‰å·å·¦ä¾§çš„ä»»ä½•å†…å®¹</strong></p><p>æˆ‘ä»¬å¯ä»¥åœ¨ç­‰å·å·¦ä¾§ä½¿ç”¨ä»»ä½•â€œå¯ä»¥è¢«èµ‹å€¼çš„â€ä¸œè¥¿ã€‚</p><p>ä¾‹å¦‚ï¼Œä¸€ä¸ªå¯¹è±¡çš„å±æ€§ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> user</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {};</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#C18401;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#C18401;--shiki-dark:#E06C75;">surname</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;John Smith&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">split</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39; &#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// John</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">surname</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Smith</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>å…¶ä½™çš„ â€˜â€¦â€™</strong></p><p>å¦‚æœæˆ‘ä»¬è¿˜æƒ³æ”¶é›†å…¶ä½™çš„æ•°ç»„é¡¹ â€”â€” æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‰ä¸ªç‚¹ <code>&quot;...&quot;</code> æ¥å†åŠ ä¸€ä¸ªå‚æ•°ä»¥è·å–â€œå…¶ä½™â€æ•°ç»„é¡¹ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">name1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">name2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">rest</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Julius&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Caesar&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Consul&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;of the Roman Republic&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// rest æ˜¯åŒ…å«ä»ç¬¬ä¸‰é¡¹å¼€å§‹çš„å…¶ä½™æ•°ç»„é¡¹çš„æ•°ç»„</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">rest</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Consul</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">rest</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// of the Roman Republic</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">rest</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>é»˜è®¤å€¼</strong></p><p>å¦‚æœæˆ‘ä»¬æƒ³è¦ä¸€ä¸ªâ€œé»˜è®¤â€å€¼ç»™æœªèµ‹å€¼çš„å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>=</code> æ¥æä¾›ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// é»˜è®¤å€¼</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Guest&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">surname</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Anonymous&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Julius&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);    </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Juliusï¼ˆæ¥è‡ªæ•°ç»„çš„å€¼ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">surname</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Anonymousï¼ˆé»˜è®¤å€¼è¢«ä½¿ç”¨äº†ï¼‰</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="_14-2-å¯¹è±¡è§£æ„" tabindex="-1"><a class="header-anchor" href="#_14-2-å¯¹è±¡è§£æ„"><span>14.2 <strong>å¯¹è±¡è§£æ„</strong></span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">var1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">var2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">var1</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">â€¦, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">var2</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">â€¦}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å˜é‡çš„é¡ºåºå¹¶ä¸é‡è¦ï¼Œä¸‹é¢è¿™ä¸ªä»£ç ä¹Ÿå¥æ•ˆï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// æ”¹å˜ let {...} ä¸­å…ƒç´ çš„é¡ºåº</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">height</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">width</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">title</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">title</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Menu&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">height</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 200</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">width</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœæˆ‘ä»¬æƒ³æŠŠä¸€ä¸ªå±æ€§èµ‹å€¼ç»™å¦ä¸€ä¸ªåå­—çš„å˜é‡ï¼Œæ¯”å¦‚æŠŠ <code>options.width</code> å±æ€§èµ‹å€¼ç»™åä¸º <code>w</code> çš„å˜é‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å†’å·æ¥è®¾ç½®å˜é‡åç§°ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> options</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  title</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Menu&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  width</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  height</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 200</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// { sourceProperty: targetVariable }</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">width</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">w</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">height</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">h</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">title</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> options</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// width -&gt; w</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// height -&gt; h</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// title -&gt; title</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">title</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Menu</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">w</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);      </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 100</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">h</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);      </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 200</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å†’å·è¡¨ç¤ºâ€œä»€ä¹ˆå€¼ï¼šèµ‹å€¼ç»™è°â€ã€‚ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå±æ€§ <code>width</code> è¢«èµ‹å€¼ç»™äº† <code>w</code>ï¼Œå±æ€§ <code>height</code> è¢«èµ‹å€¼ç»™äº† <code>h</code>ï¼Œå±æ€§ <code>title</code> è¢«èµ‹å€¼ç»™äº†åŒåå˜é‡ã€‚</p><p>å¯¹äºå¯èƒ½ç¼ºå¤±çš„å±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>&quot;=&quot;</code> è®¾ç½®é»˜è®¤å€¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> options</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  title</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Menu&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">width</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 100</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">height</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 200</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">title</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> options</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">title</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Menu</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">width</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 100</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">height</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 200</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å°±åƒæ•°ç»„æˆ–å‡½æ•°å‚æ•°ä¸€æ ·ï¼Œé»˜è®¤å€¼å¯ä»¥æ˜¯ä»»æ„è¡¨è¾¾å¼ç”šè‡³å¯ä»¥æ˜¯å‡½æ•°è°ƒç”¨ã€‚å®ƒä»¬åªä¼šåœ¨æœªæä¾›å¯¹åº”çš„å€¼æ—¶æ‰ä¼šè¢«è®¡ç®—/è°ƒç”¨ã€‚</p><h3 id="_14-3-å‰©ä½™æ¨¡å¼-pattern" tabindex="-1"><a class="header-anchor" href="#_14-3-å‰©ä½™æ¨¡å¼-pattern"><span>14.3 <strong>å‰©ä½™æ¨¡å¼ï¼ˆpatternï¼‰&quot;â€¦&quot;</strong></span></a></h3><p>å¦‚æœå¯¹è±¡æ‹¥æœ‰çš„å±æ€§æ•°é‡æ¯”æˆ‘ä»¬æä¾›çš„å˜é‡æ•°é‡è¿˜å¤šï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬å¯ä»¥åªå–å…¶ä¸­çš„æŸä¸€äº›å±æ€§ï¼Œç„¶åæŠŠâ€œå‰©ä½™çš„â€èµ‹å€¼åˆ°å…¶ä»–åœ°æ–¹å—ï¼Ÿ</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‰©ä½™æ¨¡å¼ï¼ˆpatternï¼‰ï¼Œå°±åƒæˆ‘ä»¬å¯¹æ•°ç»„é‚£æ ·ã€‚ä¸€äº›è¾ƒæ—§çš„æµè§ˆå™¨ä¸æ”¯æŒæ­¤åŠŸèƒ½ï¼ˆä¾‹å¦‚ IEï¼Œå¯ä»¥ä½¿ç”¨ Babel å¯¹å…¶è¿›è¡Œ polyfillï¼‰ï¼Œä½†å¯ä»¥åœ¨ç°ä»£æµè§ˆå™¨ä¸­ä½¿ç”¨ã€‚</p><p>çœ‹èµ·æ¥å°±åƒè¿™æ ·ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> options</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  title</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Menu&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  height</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 200</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  width</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 100</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// title = åä¸º title çš„å±æ€§</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// rest = å­˜æœ‰å‰©ä½™å±æ€§çš„å¯¹è±¡</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">title</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">rest</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> options</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ç°åœ¨ title=&quot;Menu&quot;, rest={height: 200, width: 100}</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">rest</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">height</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);  </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 200</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">rest</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">width</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);   </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 100</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_15-json-æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#_15-json-æ–¹æ³•"><span>15. JSON æ–¹æ³•</span></a></h2><p>JavaScript æä¾›äº†å¦‚ä¸‹æ–¹æ³•ï¼š</p><ul><li><p><code>JSON.stringify</code> å°†å¯¹è±¡è½¬æ¢ä¸º JSONã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> json</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> JSON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stringify</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">replacer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">space</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><code>value</code>ï¼šè¦ç¼–ç çš„å€¼ã€‚</p><p><code>replacer</code>ï¼šè¦ç¼–ç çš„å±æ€§æ•°ç»„æˆ–æ˜ å°„å‡½æ•° <code>function(key, value)</code>ã€‚</p><p><code>space</code>ï¼šç”¨äºæ ¼å¼åŒ–çš„ç©ºæ ¼æ•°é‡</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> room</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  number</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 23</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> meetup</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  title</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Conference&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  participants</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [{</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;John&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}, {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Alice&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}],</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  place</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> room</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // meetup å¼•ç”¨äº† room</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">room</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">occupiedBy</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> meetup</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// room å¼•ç”¨äº† meetup</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">JSON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stringify</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">meetup</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, [</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;title&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;participants&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]) );</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// {&quot;title&quot;:&quot;Conference&quot;,&quot;participants&quot;:[{},{}]}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>JSON.parse</code> å°† JSON è½¬æ¢å›å¯¹è±¡ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> value</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> JSON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">parse</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">str</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, [</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">reviver</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><code>str</code>ï¼šè¦è§£æçš„ JSON å­—ç¬¦ä¸²ã€‚</p><p><code>reviver</code>ï¼šå¯é€‰çš„å‡½æ•° function(key,value)ï¼Œè¯¥å‡½æ•°å°†ä¸ºæ¯ä¸ª <code>(key, value)</code> å¯¹è°ƒç”¨ï¼Œå¹¶å¯ä»¥å¯¹å€¼è¿›è¡Œè½¬æ¢ã€‚</p></li></ul><h2 id="_16-rest-å‚æ•°ä¸-spread-è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#_16-rest-å‚æ•°ä¸-spread-è¯­æ³•"><span>16. Rest å‚æ•°ä¸ Spread è¯­æ³•</span></a></h2><h3 id="_16-1-rest-å‚æ•°" tabindex="-1"><a class="header-anchor" href="#_16-1-rest-å‚æ•°"><span>16.1 <strong>Rest å‚æ•° <code>...</code></strong></span></a></h3><p>åœ¨ JavaScript ä¸­ï¼Œæ— è®ºå‡½æ•°æ˜¯å¦‚ä½•å®šä¹‰çš„ï¼Œä½ éƒ½å¯ä»¥ä½¿ç”¨ä»»æ„æ•°é‡çš„å‚æ•°è°ƒç”¨å‡½æ•°ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> sumAll</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">args</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) { </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// æ•°ç»„åä¸º args</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> sum</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> arg</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> of</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> args</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">sum</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> +=</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> arg</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> sum</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sumAll</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) ); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sumAll</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) ); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 3</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sumAll</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) ); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 6</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_16-2-spread-è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#_16-2-spread-è¯­æ³•"><span>16.2 <strong>Spread è¯­æ³•</strong></span></a></h3><p>Spread è¯­æ³•åªé€‚ç”¨äºå¯è¿­ä»£å¯¹è±¡ã€‚</p><p><strong>Spread è¯­æ³•</strong> æ¥å¸®åŠ©ä½ äº†ï¼å®ƒçœ‹èµ·æ¥å’Œ rest å‚æ•°å¾ˆåƒï¼Œä¹Ÿä½¿ç”¨ <code>...</code>ï¼Œä½†æ˜¯äºŒè€…çš„ç”¨é€”å®Œå…¨ç›¸åã€‚</p><p>å½“åœ¨å‡½æ•°è°ƒç”¨ä¸­ä½¿ç”¨ <code>...arr</code> æ—¶ï¼Œå®ƒä¼šæŠŠå¯è¿­ä»£å¯¹è±¡ <code>arr</code> â€œå±•å¼€â€åˆ°å‚æ•°åˆ—è¡¨ä¸­ã€‚</p><p>ä»¥ <code>Math.max</code> ä¸ºä¾‹ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> arr</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">];</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Math</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">max</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">arr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) ); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 5ï¼ˆspread è¯­æ³•æŠŠæ•°ç»„è½¬æ¢ä¸ºå‚æ•°åˆ—è¡¨ï¼‰</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> obj</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">a</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">b</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">c</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> };</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> objCopy</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">obj</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å°†å¯¹è±¡ spread åˆ°å‚æ•°åˆ—è¡¨ä¸­</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">                          // ç„¶åå°†ç»“æœè¿”å›åˆ°ä¸€ä¸ªæ–°å¯¹è±¡</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“æˆ‘ä»¬åœ¨ä»£ç ä¸­çœ‹åˆ° <code>&quot;...&quot;</code> æ—¶ï¼Œå®ƒè¦ä¹ˆæ˜¯ rest å‚æ•°ï¼Œè¦ä¹ˆå°±æ˜¯ spread è¯­æ³•ã€‚</p><p>æœ‰ä¸€ä¸ªç®€å•çš„æ–¹æ³•å¯ä»¥åŒºåˆ†å®ƒä»¬ï¼š</p><ul><li>è‹¥ <code>...</code> å‡ºç°åœ¨å‡½æ•°å‚æ•°åˆ—è¡¨çš„æœ€åï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ rest å‚æ•°ï¼Œå®ƒä¼šæŠŠå‚æ•°åˆ—è¡¨ä¸­å‰©ä½™çš„å‚æ•°æ”¶é›†åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ã€‚</li><li>è‹¥ <code>...</code> å‡ºç°åœ¨å‡½æ•°è°ƒç”¨æˆ–ç±»ä¼¼çš„è¡¨è¾¾å¼ä¸­ï¼Œé‚£å®ƒå°±æ˜¯ spread è¯­æ³•ï¼Œå®ƒä¼šæŠŠä¸€ä¸ªæ•°ç»„å±•å¼€ä¸ºåˆ—è¡¨ã€‚</li></ul><p>ä½¿ç”¨åœºæ™¯ï¼š</p><ul><li>Rest å‚æ•°ç”¨äºåˆ›å»ºå¯æ¥å—ä»»æ„æ•°é‡å‚æ•°çš„å‡½æ•°ã€‚</li><li>Spread è¯­æ³•ç”¨äºå°†æ•°ç»„ä¼ é€’ç»™é€šå¸¸éœ€è¦å«æœ‰è®¸å¤šå‚æ•°çš„åˆ—è¡¨çš„å‡½æ•°ã€‚</li></ul><p>å®ƒä»¬ä¿©çš„å‡ºç°å¸®åŠ©æˆ‘ä»¬è½»æ¾åœ°åœ¨åˆ—è¡¨å’Œå‚æ•°æ•°ç»„ä¹‹é—´æ¥å›è½¬æ¢ã€‚</p><p>â€œæ—§å¼â€çš„ <code>arguments</code>ï¼ˆç±»æ•°ç»„ä¸”å¯è¿­ä»£çš„å¯¹è±¡ï¼‰ä¹Ÿä¾ç„¶èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬è·å–å‡½æ•°è°ƒç”¨ä¸­çš„æ‰€æœ‰å‚æ•°ã€‚</p><h2 id="_17-å‡½æ•°å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_17-å‡½æ•°å¯¹è±¡"><span>17. å‡½æ•°å¯¹è±¡</span></a></h2><h3 id="_17-1-å±æ€§-name" tabindex="-1"><a class="header-anchor" href="#_17-1-å±æ€§-name"><span>17.1 <strong>å±æ€§ â€œnameâ€</strong></span></a></h3><p>å‡½æ•°å¯¹è±¡åŒ…å«ä¸€äº›ä¾¿äºä½¿ç”¨çš„å±æ€§ã€‚</p><p>æ¯”å¦‚ï¼Œä¸€ä¸ªå‡½æ•°çš„åå­—å¯ä»¥é€šè¿‡å±æ€§ â€œnameâ€ æ¥è®¿é—®ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> sayHi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Hi&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">sayHi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// sayHi</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_17-2-å±æ€§-length" tabindex="-1"><a class="header-anchor" href="#_17-2-å±æ€§-length"><span>17.2 <strong>å±æ€§ â€œlengthâ€</strong></span></a></h3><p>è¿˜æœ‰å¦ä¸€ä¸ªå†…å»ºå±æ€§ â€œlengthâ€ï¼Œå®ƒè¿”å›å‡½æ•°å…¥å‚çš„ä¸ªæ•°ï¼Œæ¯”å¦‚ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> f1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> f2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {}</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> many</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">more</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">f1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 1</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">f2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 2</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">many</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°ï¼Œrest å‚æ•°ä¸å‚ä¸è®¡æ•°ã€‚</p><h3 id="_17-3-è‡ªå®šä¹‰å±æ€§" tabindex="-1"><a class="header-anchor" href="#_17-3-è‡ªå®šä¹‰å±æ€§"><span>17.3 <strong>è‡ªå®šä¹‰å±æ€§</strong></span></a></h3><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥æ·»åŠ æˆ‘ä»¬è‡ªå·±çš„å±æ€§ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬æ·»åŠ äº† <code>counter</code> å±æ€§ï¼Œç”¨æ¥è·Ÿè¸ªæ€»çš„è°ƒç”¨æ¬¡æ•°ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> sayHi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Hi&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // è®¡ç®—è°ƒç”¨æ¬¡æ•°</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  sayHi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">counter</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">++</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">sayHi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">counter</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// åˆå§‹å€¼</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sayHi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Hi</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sayHi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Hi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`Called </span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">sayHi</span><span style="--shiki-light:#50A14F;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">counter</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> times`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Called 2 times</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_18-è£…é¥°å™¨æ¨¡å¼å’Œè½¬å‘" tabindex="-1"><a class="header-anchor" href="#_18-è£…é¥°å™¨æ¨¡å¼å’Œè½¬å‘"><span>18. è£…é¥°å™¨æ¨¡å¼å’Œè½¬å‘</span></a></h2><h3 id="_18-1-ä½¿ç”¨-call-è®¾å®šä¸Šä¸‹æ–‡" tabindex="-1"><a class="header-anchor" href="#_18-1-ä½¿ç”¨-call-è®¾å®šä¸Šä¸‹æ–‡"><span>18.1 <strong>ä½¿ç”¨ â€œcallâ€ è®¾å®šä¸Šä¸‹æ–‡</strong></span></a></h3><p>ä¸é€‚ç”¨äºå¯¹è±¡æ–¹æ³•ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">func</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">call</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">context</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">arg1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">arg2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å®ƒè¿è¡Œ <code>func</code>ï¼Œæä¾›çš„ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸º <code>this</code>ï¼Œåé¢çš„ä½œä¸ºå‚æ•°ï¼ˆargumentsï¼‰</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> sayHi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> user</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;John&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> };</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> admin</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Admin&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ä½¿ç”¨ call å°†ä¸åŒçš„å¯¹è±¡ä¼ é€’ä¸º &quot;this&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">sayHi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">call</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// John</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">sayHi</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">call</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">admin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Admin</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_18-2-apply" tabindex="-1"><a class="header-anchor" href="#_18-2-apply"><span>18.2 <strong>apply</strong></span></a></h3><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>func.apply(this, arguments)</code> ä»£æ›¿ <code>func.call(this, ...arguments)</code>ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">func</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">apply</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">context</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">args</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å®ƒè¿è¡Œ <code>func</code> è®¾ç½® <code>this=context</code>ï¼Œå¹¶ä½¿ç”¨ç±»æ•°ç»„å¯¹è±¡ <code>args</code> ä½œä¸ºå‚æ•°åˆ—è¡¨ï¼ˆargumentsï¼‰ã€‚</p><ul><li><p><code>call</code> å’Œ <code>apply</code> ä¹‹é—´å”¯ä¸€çš„è¯­æ³•åŒºåˆ«æ˜¯ï¼Œ<code>call</code> æœŸæœ›ä¸€ä¸ªå‚æ•°åˆ—è¡¨ï¼Œè€Œ <code>apply</code> æœŸæœ›ä¸€ä¸ªåŒ…å«è¿™äº›å‚æ•°çš„ç±»æ•°ç»„å¯¹è±¡ã€‚</p></li><li><p><code>apply</code> åªæ¥å— <strong>ç±»æ•°ç»„</strong>ã€‚</p></li></ul><h3 id="_18-3-å‡½æ•°ç»‘å®š" tabindex="-1"><a class="header-anchor" href="#_18-3-å‡½æ•°ç»‘å®š"><span>18.3 å‡½æ•°ç»‘å®š</span></a></h3><p>å‡½æ•°æä¾›äº†ä¸€ä¸ªå†…å»ºæ–¹æ³• <code>bind</code>ï¼Œå®ƒå¯ä»¥ç»‘å®š <code>this</code>ã€‚</p><p>åŸºæœ¬çš„è¯­æ³•æ˜¯ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ç¨åå°†ä¼šæœ‰æ›´å¤æ‚çš„è¯­æ³•</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> boundFunc</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> func</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bind</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">context</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><code>func.bind(context)</code> çš„ç»“æœæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç±»ä¼¼äºå‡½æ•°çš„â€œå¤–æ¥å¯¹è±¡ï¼ˆexotic objectï¼‰â€ï¼Œå®ƒå¯ä»¥åƒå‡½æ•°ä¸€æ ·è¢«è°ƒç”¨ï¼Œå¹¶ä¸”é€æ˜åœ°ï¼ˆtransparentlyï¼‰å°†è°ƒç”¨ä¼ é€’ç»™ <code>func</code> å¹¶è®¾å®š <code>this=context</code>ã€‚</p><p>æˆ‘ä»¬ä¸ä»…å¯ä»¥ç»‘å®š <code>this</code>ï¼Œè¿˜å¯ä»¥ç»‘å®šå‚æ•°ï¼ˆargumentsï¼‰ã€‚è™½ç„¶å¾ˆå°‘è¿™ä¹ˆåšï¼Œä½†æœ‰æ—¶å®ƒå¯ä»¥æ´¾ä¸Šç”¨åœºã€‚</p><p><code>bind</code> çš„å®Œæ•´è¯­æ³•å¦‚ä¸‹ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> bound</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> func</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bind</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">context</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, [</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">arg1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], [</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">arg2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], </span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> mul</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> a</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> *</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> double</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> mul</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">bind</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">double</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) ); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// = mul(2, 3) = 6</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">double</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">4</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) ); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// = mul(2, 4) = 8</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">double</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">5</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) ); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// = mul(2, 5) = 10</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯¹ <code>mul.bind(null, 2)</code> çš„è°ƒç”¨åˆ›å»ºäº†ä¸€ä¸ªæ–°å‡½æ•° <code>double</code>ï¼Œå®ƒå°†è°ƒç”¨ä¼ é€’åˆ° <code>mul</code>ï¼Œå°† <code>null</code> ç»‘å®šä¸ºä¸Šä¸‹æ–‡ï¼Œå¹¶å°† <code>2</code> ç»‘å®šä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚å¹¶ä¸”ï¼Œå‚æ•°ï¼ˆargumentsï¼‰å‡è¢«â€œåŸæ ·â€ä¼ é€’ã€‚</p><h2 id="_19-å±æ€§æ ‡å¿—å’Œå±æ€§æè¿°ç¬¦" tabindex="-1"><a class="header-anchor" href="#_19-å±æ€§æ ‡å¿—å’Œå±æ€§æè¿°ç¬¦"><span>19. å±æ€§æ ‡å¿—å’Œå±æ€§æè¿°ç¬¦</span></a></h2><h3 id="_19-1-å±æ€§æ ‡å¿—" tabindex="-1"><a class="header-anchor" href="#_19-1-å±æ€§æ ‡å¿—"><span>19.1 <strong>å±æ€§æ ‡å¿—</strong>ï¼š</span></a></h3><p>å¯¹è±¡å±æ€§ï¼ˆpropertiesï¼‰ï¼Œé™¤ <strong><code>value</code></strong> å¤–ï¼Œè¿˜æœ‰ä¸‰ä¸ªç‰¹æ®Šçš„ç‰¹æ€§ï¼ˆattributesï¼‰ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„â€œæ ‡å¿—â€ï¼š</p><ul><li><strong><code>writable</code></strong> â€” å¦‚æœä¸º <code>true</code>ï¼Œåˆ™å€¼å¯ä»¥è¢«ä¿®æ”¹ï¼Œå¦åˆ™å®ƒæ˜¯åªå¯è¯»çš„ã€‚</li><li><strong><code>enumerable</code></strong> â€” å¦‚æœä¸º <code>true</code>ï¼Œåˆ™ä¼šè¢«åœ¨å¾ªç¯ä¸­åˆ—å‡ºï¼Œå¦åˆ™ä¸ä¼šè¢«åˆ—å‡ºã€‚</li><li><strong><code>configurable</code></strong> â€” å¦‚æœä¸º <code>true</code>ï¼Œåˆ™æ­¤å±æ€§å¯ä»¥è¢«åˆ é™¤ï¼Œè¿™äº›ç‰¹æ€§ä¹Ÿå¯ä»¥è¢«ä¿®æ”¹ï¼Œå¦åˆ™ä¸å¯ä»¥ã€‚</li></ul><p>å½“æˆ‘ä»¬ç”¨â€œå¸¸ç”¨çš„æ–¹å¼â€åˆ›å»ºä¸€ä¸ªå±æ€§æ—¶ï¼Œå®ƒä»¬éƒ½ä¸º <code>true</code>ã€‚ä½†æˆ‘ä»¬ä¹Ÿå¯ä»¥éšæ—¶æ›´æ”¹å®ƒä»¬ã€‚</p><p>é¦–å…ˆï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•è·å¾—è¿™äº›æ ‡å¿—ã€‚</p><h3 id="_19-2-getownpropertydescriptor" tabindex="-1"><a class="header-anchor" href="#_19-2-getownpropertydescriptor"><span>19.2 getOwnPropertyDescriptor</span></a></h3><p>æ–¹æ³•å…è®¸æŸ¥è¯¢æœ‰å…³å±æ€§çš„ <strong>å®Œæ•´</strong> ä¿¡æ¯ã€‚</p><p>è¯­æ³•æ˜¯ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> descriptor</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Object</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getOwnPropertyDescriptor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">obj</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">propertyName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><p><code>obj</code></p><p>éœ€è¦ä»ä¸­è·å–ä¿¡æ¯çš„å¯¹è±¡ã€‚</p></li><li><p><code>propertyName</code></p><p>å±æ€§çš„åç§°ã€‚</p></li></ul><p>è¿”å›å€¼æ˜¯ä¸€ä¸ªæ‰€è°“çš„â€œå±æ€§æè¿°ç¬¦â€å¯¹è±¡ï¼šå®ƒåŒ…å«å€¼å’Œæ‰€æœ‰çš„æ ‡å¿—ã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> user</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  name</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;John&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> descriptor</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Object</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getOwnPropertyDescriptor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;name&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_19-3-defineproperty" tabindex="-1"><a class="header-anchor" href="#_19-3-defineproperty"><span>19.3 defineProperty</span></a></h3><p>ä¿®æ”¹æ ‡å¿—</p><p>è¯­æ³•æ˜¯ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Object</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">defineProperty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">obj</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">propertyName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">descriptor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><p><code>obj</code>ï¼Œ<code>propertyName</code></p><p>è¦åº”ç”¨æè¿°ç¬¦çš„å¯¹è±¡åŠå…¶å±æ€§ã€‚</p></li><li><p><code>descriptor</code></p><p>è¦åº”ç”¨çš„å±æ€§æè¿°ç¬¦å¯¹è±¡ã€‚</p></li></ul><p>å¦‚æœè¯¥å±æ€§å­˜åœ¨ï¼Œ<code>defineProperty</code> ä¼šæ›´æ–°å…¶æ ‡å¿—ã€‚å¦åˆ™ï¼Œå®ƒä¼šä½¿ç”¨ç»™å®šçš„å€¼å’Œæ ‡å¿—åˆ›å»ºå±æ€§ï¼›åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœæ²¡æœ‰æä¾›æ ‡å¿—ï¼Œåˆ™ä¼šå‡å®šå®ƒæ˜¯ <code>false</code>ã€‚</p><p>ä¾‹å¦‚ï¼Œè¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ªå±æ€§ <code>name</code>ï¼Œè¯¥å±æ€§çš„æ‰€æœ‰æ ‡å¿—éƒ½ä¸º <code>false</code>ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> user</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Object</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">defineProperty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;name&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  value</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;John&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> descriptor</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Object</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getOwnPropertyDescriptor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;name&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">JSON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stringify</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">descriptor</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">null</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ) );</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">/*</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">{</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  &quot;value&quot;: &quot;John&quot;,</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  &quot;writable&quot;: false,</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  &quot;enumerable&quot;: false,</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  &quot;configurable&quot;: false</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">}</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> */</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_19-4-è®¾å®šä¸€ä¸ªå…¨å±€çš„å¯†å°å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_19-4-è®¾å®šä¸€ä¸ªå…¨å±€çš„å¯†å°å¯¹è±¡"><span>19.4 <strong>è®¾å®šä¸€ä¸ªå…¨å±€çš„å¯†å°å¯¹è±¡</strong>ï¼š</span></a></h3><p>å±æ€§æè¿°ç¬¦åœ¨å•ä¸ªå±æ€§çš„çº§åˆ«ä¸Šå·¥ä½œã€‚</p><p>è¿˜æœ‰ä¸€äº›é™åˆ¶è®¿é—® <strong>æ•´ä¸ª</strong> å¯¹è±¡çš„æ–¹æ³•ï¼š</p><ul><li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/preventExtensions" target="_blank" rel="noopener noreferrer">Object.preventExtensions(obj)</a></p><p>ç¦æ­¢å‘å¯¹è±¡æ·»åŠ æ–°å±æ€§ã€‚</p></li><li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/seal" target="_blank" rel="noopener noreferrer">Object.seal(obj)</a></p><p>ç¦æ­¢æ·»åŠ /åˆ é™¤å±æ€§ã€‚ä¸ºæ‰€æœ‰ç°æœ‰çš„å±æ€§è®¾ç½® <code>configurable: false</code>ã€‚</p></li><li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/freeze" target="_blank" rel="noopener noreferrer">Object.freeze(obj)</a></p><p>ç¦æ­¢æ·»åŠ /åˆ é™¤/æ›´æ”¹å±æ€§ã€‚ä¸ºæ‰€æœ‰ç°æœ‰çš„å±æ€§è®¾ç½® <code>configurable: false, writable: false</code>ã€‚</p></li><li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isExtensible" target="_blank" rel="noopener noreferrer">Object.isExtensible(obj)</a></p><p>å¦‚æœæ·»åŠ å±æ€§è¢«ç¦æ­¢ï¼Œåˆ™è¿”å› <code>false</code>ï¼Œå¦åˆ™è¿”å› <code>true</code>ã€‚</p></li><li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isSealed" target="_blank" rel="noopener noreferrer">Object.isSealed(obj)</a></p><p>å¦‚æœæ·»åŠ /åˆ é™¤å±æ€§è¢«ç¦æ­¢ï¼Œå¹¶ä¸”æ‰€æœ‰ç°æœ‰çš„å±æ€§éƒ½å…·æœ‰ <code>configurable: false</code>åˆ™è¿”å› <code>true</code>ã€‚</p></li><li><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isFrozen" target="_blank" rel="noopener noreferrer">Object.isFrozen(obj)</a></p><p>å¦‚æœæ·»åŠ /åˆ é™¤/æ›´æ”¹å±æ€§è¢«ç¦æ­¢ï¼Œå¹¶ä¸”æ‰€æœ‰å½“å‰å±æ€§éƒ½æ˜¯ <code>configurable: false, writable: false</code>ï¼Œåˆ™è¿”å› <code>true</code>ã€‚</p></li></ul><h3 id="_19-5-å±æ€§çš„-getter-å’Œ-setter" tabindex="-1"><a class="header-anchor" href="#_19-5-å±æ€§çš„-getter-å’Œ-setter"><span>19.5 å±æ€§çš„ getter å’Œ setter</span></a></h3><p><strong>getter å’Œ setter</strong>ï¼š</p><p>è®¿é—®å™¨å±æ€§ç”± â€œgetterâ€ å’Œ â€œsetterâ€ æ–¹æ³•è¡¨ç¤ºã€‚åœ¨å¯¹è±¡å­—é¢é‡ä¸­ï¼Œå®ƒä»¬ç”¨ <code>get</code> å’Œ <code>set</code> è¡¨ç¤ºï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> obj</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#C678DD;">  get</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> propName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // å½“è¯»å– obj.propName æ—¶ï¼Œgetter èµ·ä½œç”¨</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#C678DD;">  set</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> propName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    // å½“æ‰§è¡Œ obj.propName = value æ“ä½œæ—¶ï¼Œsetter èµ·ä½œç”¨</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“è¯»å– <code>obj.propName</code> æ—¶ï¼Œgetter èµ·ä½œç”¨ï¼Œå½“ <code>obj.propName</code> è¢«èµ‹å€¼æ—¶ï¼Œsetter èµ·ä½œç”¨ã€‚</p><h3 id="_19-6-è®¿é—®å™¨æè¿°ç¬¦" tabindex="-1"><a class="header-anchor" href="#_19-6-è®¿é—®å™¨æè¿°ç¬¦"><span>19.6 <strong>è®¿é—®å™¨æè¿°ç¬¦</strong></span></a></h3><p>è®¿é—®å™¨å±æ€§çš„æè¿°ç¬¦ä¸æ•°æ®å±æ€§çš„ä¸åŒã€‚</p><p>å¯¹äºè®¿é—®å™¨å±æ€§ï¼Œæ²¡æœ‰ <code>value</code> å’Œ <code>writable</code>ï¼Œä½†æ˜¯æœ‰ <code>get</code> å’Œ <code>set</code> å‡½æ•°ã€‚</p><p>æ‰€ä»¥è®¿é—®å™¨æè¿°ç¬¦å¯èƒ½æœ‰ï¼š</p><ul><li><strong><code>get</code></strong> â€”â€” ä¸€ä¸ªæ²¡æœ‰å‚æ•°çš„å‡½æ•°ï¼Œåœ¨è¯»å–å±æ€§æ—¶å·¥ä½œï¼Œ</li><li><strong><code>set</code></strong> â€”â€” å¸¦æœ‰ä¸€ä¸ªå‚æ•°çš„å‡½æ•°ï¼Œå½“å±æ€§è¢«è®¾ç½®æ—¶è°ƒç”¨ï¼Œ</li><li><strong><code>enumerable</code></strong> â€”â€” ä¸æ•°æ®å±æ€§çš„ç›¸åŒï¼Œ</li><li><strong><code>configurable</code></strong> â€”â€” ä¸æ•°æ®å±æ€§çš„ç›¸åŒã€‚</li></ul><p>ä¾‹å¦‚ï¼Œè¦ä½¿ç”¨ <code>defineProperty</code> åˆ›å»ºä¸€ä¸ª <code>fullName</code> è®¿é—®å™¨ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>get</code> å’Œ <code>set</code> æ¥ä¼ é€’æè¿°ç¬¦ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> user</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  name</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;John&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  surname</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Smith&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Object</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">defineProperty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;fullName&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> `</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#50A14F;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;"> ${</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#50A14F;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">surname</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    [</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#C18401;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#C18401;--shiki-dark:#E06C75;">surname</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">split</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot; &quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">fullName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// John Smith</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> key</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// name, surname</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¯·æ³¨æ„ï¼Œä¸€ä¸ªå±æ€§è¦ä¹ˆæ˜¯è®¿é—®å™¨ï¼ˆå…·æœ‰ <code>get/set</code> æ–¹æ³•ï¼‰ï¼Œè¦ä¹ˆæ˜¯æ•°æ®å±æ€§ï¼ˆå…·æœ‰ <code>value</code>ï¼‰ï¼Œä½†ä¸èƒ½ä¸¤è€…éƒ½æ˜¯ã€‚</p><p>å¦‚æœæˆ‘ä»¬è¯•å›¾åœ¨åŒä¸€ä¸ªæè¿°ç¬¦ä¸­åŒæ—¶æä¾› <code>get</code> å’Œ <code>value</code>ï¼Œåˆ™ä¼šå‡ºç°é”™è¯¯ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Error: Invalid property descriptor.</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Object</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">defineProperty</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">({}, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;prop&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  get</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    return</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  value</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_20-åŸå‹é“¾" tabindex="-1"><a class="header-anchor" href="#_20-åŸå‹é“¾"><span>20. åŸå‹é“¾</span></a></h2><h3 id="_20-1-åŸå‹ç»§æ‰¿" tabindex="-1"><a class="header-anchor" href="#_20-1-åŸå‹ç»§æ‰¿"><span>20.1 åŸå‹ç»§æ‰¿</span></a></h3><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª <code>user</code> å¯¹è±¡åŠå…¶å±æ€§å’Œæ–¹æ³•ï¼Œå¹¶å¸Œæœ›å°† <code>admin</code> å’Œ <code>guest</code> ä½œä¸ºåŸºäº <code>user</code> ç¨åŠ ä¿®æ”¹çš„å˜ä½“ã€‚æˆ‘ä»¬æƒ³é‡ç”¨ <code>user</code> ä¸­çš„å†…å®¹ï¼Œè€Œä¸æ˜¯å¤åˆ¶/é‡æ–°å®ç°å®ƒçš„æ–¹æ³•ï¼Œè€Œåªæ˜¯åœ¨å…¶ä¹‹ä¸Šæ„å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚</p><p><strong>åŸå‹ç»§æ‰¿ï¼ˆPrototypal inheritanceï¼‰</strong> è¿™ä¸ªè¯­è¨€ç‰¹æ€§èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬å®ç°è¿™ä¸€éœ€æ±‚ã€‚</p><p>åœ¨ JavaScript ä¸­ï¼Œå¯¹è±¡æœ‰ä¸€ä¸ªç‰¹æ®Šçš„éšè—å±æ€§ <code>[[Prototype]]</code>ï¼ˆå¦‚è§„èŒƒä¸­æ‰€å‘½åçš„ï¼‰ï¼Œå®ƒè¦ä¹ˆä¸º <code>null</code>ï¼Œè¦ä¹ˆå°±æ˜¯å¯¹å¦ä¸€ä¸ªå¯¹è±¡çš„å¼•ç”¨ã€‚è¯¥å¯¹è±¡è¢«ç§°ä¸ºâ€œåŸå‹â€</p><p>å±æ€§ <code>[[Prototype]]</code> æ˜¯å†…éƒ¨çš„è€Œä¸”æ˜¯éšè—çš„ï¼Œä½†æ˜¯è¿™å„¿æœ‰å¾ˆå¤šè®¾ç½®å®ƒçš„æ–¹å¼ã€‚</p><p>å…¶ä¸­ä¹‹ä¸€å°±æ˜¯ä½¿ç”¨ç‰¹æ®Šçš„åå­— <code>__proto__</code>ï¼Œå°±åƒè¿™æ ·ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> animal</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  eats</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> rabbit</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  jumps</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">rabbit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">__proto__</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> animal</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// è®¾ç½® rabbit.[[Prototype]] = animal</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› æ­¤ï¼Œå¦‚æœ <code>animal</code> æœ‰è®¸å¤šæœ‰ç”¨çš„å±æ€§å’Œæ–¹æ³•ï¼Œé‚£ä¹ˆå®ƒä»¬å°†è‡ªåŠ¨åœ°å˜ä¸ºåœ¨ <code>rabbit</code> ä¸­å¯ç”¨ã€‚è¿™ç§å±æ€§è¢«ç§°ä¸ºâ€œç»§æ‰¿â€ã€‚</p><p>å¦‚æœæˆ‘ä»¬åœ¨ <code>animal</code> ä¸­æœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒå¯ä»¥åœ¨ <code>rabbit</code> ä¸­è¢«è°ƒç”¨ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> animal</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  eats</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  walk</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Animal walk&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> rabbit</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  jumps</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  __proto__</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> animal</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// walk æ–¹æ³•æ˜¯ä»åŸå‹ä¸­è·å¾—çš„</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">rabbit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">walk</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Animal walk</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œåªæœ‰ä¸¤ä¸ªé™åˆ¶ï¼š</p><ol><li>å¼•ç”¨ä¸èƒ½å½¢æˆé—­ç¯ã€‚å¦‚æœæˆ‘ä»¬è¯•å›¾åœ¨ä¸€ä¸ªé—­ç¯ä¸­åˆ†é… <code>__proto__</code>ï¼ŒJavaScript ä¼šæŠ›å‡ºé”™è¯¯ã€‚</li><li><code>__proto__</code> çš„å€¼å¯ä»¥æ˜¯å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æ˜¯ <code>null</code>ã€‚è€Œå…¶ä»–çš„ç±»å‹éƒ½ä¼šè¢«å¿½ç•¥ã€‚</li></ol><p>å½“ç„¶ï¼Œè¿™å¯èƒ½å¾ˆæ˜¾è€Œæ˜“è§ï¼Œä½†æ˜¯ä»ç„¶è¦å¼ºè°ƒï¼šåªèƒ½æœ‰ä¸€ä¸ª <code>[[Prototype]]</code>ã€‚ä¸€ä¸ªå¯¹è±¡ä¸èƒ½ä»å…¶ä»–ä¸¤ä¸ªå¯¹è±¡è·å¾—ç»§æ‰¿ã€‚</p><p><strong><code>__proto__</code> æ˜¯ <code>[[Prototype]]</code> çš„å› å†å²åŸå› è€Œç•™ä¸‹æ¥çš„ getter/setter</strong></p><p>åˆå­¦è€…å¸¸çŠ¯ä¸€ä¸ªæ™®éçš„é”™è¯¯ï¼Œå°±æ˜¯ä¸çŸ¥é“ <code>__proto__</code> å’Œ <code>[[Prototype]]</code> çš„åŒºåˆ«ã€‚</p><p>è¯·æ³¨æ„ï¼Œ<code>__proto__</code> ä¸å†…éƒ¨çš„ <code>[[Prototype]]</code> <strong>ä¸ä¸€æ ·</strong>ã€‚<code>__proto__</code> æ˜¯ <code>[[Prototype]]</code> çš„ getter/setterã€‚<code>__proto__</code> å±æ€§æœ‰ç‚¹è¿‡æ—¶äº†ã€‚å®ƒçš„å­˜åœ¨æ˜¯å‡ºäºå†å²çš„åŸå› ï¼Œç°ä»£ç¼–ç¨‹è¯­è¨€å»ºè®®æˆ‘ä»¬åº”è¯¥ä½¿ç”¨å‡½æ•°<code>Object.getPrototypeOf/Object.setPrototypeOf</code> æ¥å–ä»£ <code>__proto__</code> å» get/set åŸå‹ã€‚ç¨åæˆ‘ä»¬å°†ä»‹ç»è¿™äº›å‡½æ•°ã€‚</p><p>æ ¹æ®è§„èŒƒï¼Œ<code>__proto__</code> å¿…é¡»ä»…å—æµè§ˆå™¨ç¯å¢ƒçš„æ”¯æŒã€‚ä½†å®é™…ä¸Šï¼ŒåŒ…æ‹¬æœåŠ¡ç«¯åœ¨å†…çš„æ‰€æœ‰ç¯å¢ƒéƒ½æ”¯æŒå®ƒï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨å®ƒæ˜¯éå¸¸å®‰å…¨çš„ã€‚</p><ul><li><p>åŸå‹ä»…ç”¨äºè¯»å–å±æ€§ã€‚</p></li><li><p>å¯¹äºå†™å…¥/åˆ é™¤æ“ä½œå¯ä»¥ç›´æ¥åœ¨å¯¹è±¡ä¸Šè¿›è¡Œã€‚</p></li></ul><p>è®¿é—®å™¨ï¼ˆaccessorï¼‰å±æ€§æ˜¯ä¸€ä¸ªä¾‹å¤–ï¼Œå› ä¸ºåˆ†é…ï¼ˆassignmentï¼‰æ“ä½œæ˜¯ç”± setter å‡½æ•°å¤„ç†çš„ã€‚å› æ­¤ï¼Œå†™å…¥æ­¤ç±»å±æ€§å®é™…ä¸Šä¸è°ƒç”¨å‡½æ•°ç›¸åŒã€‚</p><p><strong>â€œthisâ€ çš„å€¼</strong>ï¼š</p><p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­å¯èƒ½ä¼šå‡ºç°ä¸€ä¸ªæœ‰è¶£çš„é—®é¢˜ï¼šåœ¨ <code>set fullName(value)</code> ä¸­ <code>this</code> çš„å€¼æ˜¯ä»€ä¹ˆï¼Ÿå±æ€§ <code>this.name</code> å’Œ <code>this.surname</code> è¢«å†™åœ¨å“ªé‡Œï¼šåœ¨ <code>user</code> è¿˜æ˜¯ <code>admin</code>ï¼Ÿ</p><p>ç­”æ¡ˆå¾ˆç®€å•ï¼š<code>this</code> æ ¹æœ¬ä¸å—åŸå‹çš„å½±å“ã€‚</p><p><strong>æ— è®ºåœ¨å“ªé‡Œæ‰¾åˆ°æ–¹æ³•ï¼šåœ¨ä¸€ä¸ªå¯¹è±¡è¿˜æ˜¯åœ¨åŸå‹ä¸­ã€‚åœ¨ä¸€ä¸ªæ–¹æ³•è°ƒç”¨ä¸­ï¼Œ<code>this</code> å§‹ç»ˆæ˜¯ç‚¹ç¬¦å· <code>.</code> å‰é¢çš„å¯¹è±¡ã€‚</strong></p><p>å› æ­¤ï¼Œsetter è°ƒç”¨ <code>admin.fullName=</code> ä½¿ç”¨ <code>admin</code> ä½œä¸º <code>this</code>ï¼Œè€Œä¸æ˜¯ <code>user</code>ã€‚</p><p>è¿™æ˜¯ä¸€ä»¶éå¸¸é‡è¦çš„äº‹å„¿ï¼Œå› ä¸ºæˆ‘ä»¬å¯èƒ½æœ‰ä¸€ä¸ªå¸¦æœ‰å¾ˆå¤šæ–¹æ³•çš„å¤§å¯¹è±¡ï¼Œå¹¶ä¸”è¿˜æœ‰ä»å…¶ç»§æ‰¿çš„å¯¹è±¡ã€‚å½“ç»§æ‰¿çš„å¯¹è±¡è¿è¡Œç»§æ‰¿çš„æ–¹æ³•æ—¶ï¼Œå®ƒä»¬å°†ä»…ä¿®æ”¹è‡ªå·±çš„çŠ¶æ€ï¼Œè€Œä¸ä¼šä¿®æ”¹å¤§å¯¹è±¡çš„çŠ¶æ€ã€‚</p><p>ä¾‹å¦‚ï¼Œè¿™é‡Œçš„ <code>animal</code> ä»£è¡¨â€œæ–¹æ³•å­˜å‚¨â€ï¼Œ<code>rabbit</code> åœ¨ä½¿ç”¨å…¶ä¸­çš„æ–¹æ³•ã€‚</p><p>è°ƒç”¨ <code>rabbit.sleep()</code> ä¼šåœ¨ <code>rabbit</code> å¯¹è±¡ä¸Šè®¾ç½® <code>this.isSleeping</code>ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// animal æœ‰ä¸€äº›æ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> animal</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  walk</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">!</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">isSleeping</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">      alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`I walk`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  },</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  sleep</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">    this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">isSleeping</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> rabbit</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  name</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;White Rabbit&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  __proto__</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> animal</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ä¿®æ”¹ rabbit.isSleeping</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">rabbit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sleep</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">rabbit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">isSleeping</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// true</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">animal</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">isSleeping</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// undefinedï¼ˆåŸå‹ä¸­æ²¡æœ‰æ­¤å±æ€§ï¼‰</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>for..in</code> å¾ªç¯ä¹Ÿä¼šè¿­ä»£ç»§æ‰¿çš„å±æ€§ã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> animal</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  eats</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> rabbit</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  jumps</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  __proto__</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> animal</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Object.keys åªè¿”å›è‡ªå·±çš„ key</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Object</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">keys</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">rabbit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// jumps</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// for..in ä¼šéå†è‡ªå·±ä»¥åŠç»§æ‰¿çš„é”®</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> prop</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> rabbit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">prop</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// jumpsï¼Œç„¶åæ˜¯ eats</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœè¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œå¹¶ä¸”æˆ‘ä»¬æƒ³æ’é™¤ç»§æ‰¿çš„å±æ€§ï¼Œé‚£ä¹ˆè¿™å„¿æœ‰ä¸€ä¸ªå†…å»ºæ–¹æ³•<code>obj.hasOwnProperty(key)</code>ï¼šå¦‚æœ <code>obj</code> å…·æœ‰è‡ªå·±çš„ï¼ˆéç»§æ‰¿çš„ï¼‰åä¸º <code>key</code> çš„å±æ€§ï¼Œåˆ™è¿”å› <code>true</code>ã€‚</p><h3 id="_20-2-f-prototype" tabindex="-1"><a class="header-anchor" href="#_20-2-f-prototype"><span>20.2 F.prototype</span></a></h3><p>æˆ‘ä»¬è¿˜è®°å¾—ï¼Œå¯ä»¥ä½¿ç”¨è¯¸å¦‚ <code>new F()</code> è¿™æ ·çš„æ„é€ å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ã€‚</p><p>å¦‚æœ <code>F.prototype</code> æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œé‚£ä¹ˆ <code>new</code> æ“ä½œç¬¦ä¼šä½¿ç”¨å®ƒä¸ºæ–°å¯¹è±¡è®¾ç½® <code>[[Prototype]]</code>ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> animal</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  eats</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Rabbit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">  this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Rabbit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">prototype</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> animal</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> rabbit</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Rabbit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;White Rabbit&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">//  rabbit.__proto__ == animal</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">rabbit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">eats</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// true</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è®¾ç½® <code>Rabbit.prototype = animal</code> çš„å­—é¢æ„æ€æ˜¯ï¼šâ€œå½“åˆ›å»ºäº†ä¸€ä¸ª <code>new Rabbit</code> æ—¶ï¼ŒæŠŠå®ƒçš„ <code>[[Prototype]]</code> èµ‹å€¼ä¸º <code>animal</code>â€ã€‚</p><p><strong><code>F.prototype</code> ä»…ç”¨åœ¨ <code>new F</code> æ—¶</strong></p><p><code>F.prototype</code> å±æ€§ä»…åœ¨ <code>new F</code> è¢«è°ƒç”¨æ—¶ä½¿ç”¨ï¼Œå®ƒä¸ºæ–°å¯¹è±¡çš„ <code>[[Prototype]]</code> èµ‹å€¼ã€‚</p><p>å¦‚æœåœ¨åˆ›å»ºä¹‹åï¼Œ<code>F.prototype</code> å±æ€§æœ‰äº†å˜åŒ–ï¼ˆ<code>F.prototype = &lt;another object&gt;</code>ï¼‰ï¼Œé‚£ä¹ˆé€šè¿‡ <code>new F</code> åˆ›å»ºçš„æ–°å¯¹è±¡ä¹Ÿå°†éšä¹‹æ‹¥æœ‰æ–°çš„å¯¹è±¡ä½œä¸º <code>[[Prototype]]</code>ï¼Œä½†å·²ç»å­˜åœ¨çš„å¯¹è±¡å°†ä¿æŒæ—§æœ‰çš„å€¼ã€‚</p><p><strong>é»˜è®¤çš„ F.prototypeï¼Œæ„é€ å™¨å±æ€§</strong></p><p>æ¯ä¸ªå‡½æ•°éƒ½æœ‰ <code>&quot;prototype&quot;</code> å±æ€§ï¼Œå³ä½¿æˆ‘ä»¬æ²¡æœ‰æä¾›å®ƒã€‚</p><p>é»˜è®¤çš„ <code>&quot;prototype&quot;</code> æ˜¯ä¸€ä¸ªåªæœ‰å±æ€§ <code>constructor</code> çš„å¯¹è±¡ï¼Œå±æ€§ <code>constructor</code> æŒ‡å‘å‡½æ•°è‡ªèº«ã€‚</p><p><strong>â€¦â€¦JavaScript è‡ªèº«å¹¶ä¸èƒ½ç¡®ä¿æ­£ç¡®çš„ <code>&quot;constructor&quot;</code> å‡½æ•°å€¼ã€‚</strong></p><p>æ˜¯çš„ï¼Œå®ƒå­˜åœ¨äºå‡½æ•°çš„é»˜è®¤ <code>&quot;prototype&quot;</code> ä¸­ï¼Œä½†ä»…æ­¤è€Œå·²ã€‚ä¹‹åä¼šå‘ç”Ÿä»€ä¹ˆ â€”â€” å®Œå…¨å–å†³äºæˆ‘ä»¬ã€‚</p><p>ç‰¹åˆ«æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬å°†æ•´ä¸ªé»˜è®¤ prototype æ›¿æ¢æ‰ï¼Œé‚£ä¹ˆå…¶ä¸­å°±ä¸ä¼šæœ‰ <code>&quot;constructor&quot;</code> äº†ã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Rabbit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {}</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Rabbit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">prototype</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  jumps</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> rabbit</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Rabbit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">rabbit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">constructor</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> ===</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> Rabbit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// false</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› æ­¤ï¼Œä¸ºäº†ç¡®ä¿æ­£ç¡®çš„ <code>&quot;constructor&quot;</code>ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æ·»åŠ /åˆ é™¤å±æ€§åˆ°é»˜è®¤ <code>&quot;prototype&quot;</code>ï¼Œè€Œä¸æ˜¯å°†å…¶æ•´ä¸ªè¦†ç›–ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Rabbit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ä¸è¦å°† Rabbit.prototype æ•´ä¸ªè¦†ç›–</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å¯ä»¥å‘å…¶ä¸­æ·»åŠ å†…å®¹</span></span>
<span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Rabbit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">prototype</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">jumps</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// é»˜è®¤çš„ Rabbit.prototype.constructor è¢«ä¿ç•™äº†ä¸‹æ¥</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ–è€…ï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨é‡æ–°åˆ›å»º <code>constructor</code> å±æ€§ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Rabbit</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">prototype</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  jumps</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  constructor</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> Rabbit</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// è¿™æ ·çš„ constructor ä¹Ÿæ˜¯æ­£ç¡®çš„ï¼Œå› ä¸ºæˆ‘ä»¬æ‰‹åŠ¨æ·»åŠ äº†å®ƒ</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_12-3-åŸå‹æ–¹æ³•-æ²¡æœ‰-proto-çš„å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_12-3-åŸå‹æ–¹æ³•-æ²¡æœ‰-proto-çš„å¯¹è±¡"><span>12.3 åŸå‹æ–¹æ³•ï¼Œæ²¡æœ‰ <strong>proto</strong> çš„å¯¹è±¡</span></a></h3><p><code>__proto__</code> è¢«è®¤ä¸ºæ˜¯è¿‡æ—¶ä¸”ä¸æ¨èä½¿ç”¨çš„ï¼ˆdeprecatedï¼‰ï¼Œè¿™é‡Œçš„ä¸æ¨èä½¿ç”¨æ˜¯æŒ‡ JavaScript è§„èŒƒä¸­è§„å®šï¼Œ<strong>proto</strong> å¿…é¡»ä»…åœ¨æµè§ˆå™¨ç¯å¢ƒä¸‹æ‰èƒ½å¾—åˆ°æ”¯æŒã€‚</p><p>ç°ä»£çš„æ–¹æ³•æœ‰ï¼š</p><ul><li><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/create" target="_blank" rel="noopener noreferrer">Object.create(proto, descriptors])</a> â€”â€” åˆ©ç”¨ç»™å®šçš„ <code>proto</code> ä½œä¸º <code>[[Prototype]]</code> å’Œå¯é€‰çš„å±æ€§æè¿°æ¥åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ã€‚</li><li><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf" target="_blank" rel="noopener noreferrer">Object.getPrototypeOf(obj)</a> â€”â€” è¿”å›å¯¹è±¡ <code>obj</code> çš„ <code>[[Prototype]]</code>ã€‚</li><li><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf" target="_blank" rel="noopener noreferrer">Object.setPrototypeOf(obj, proto)</a> â€”â€” å°†å¯¹è±¡ <code>obj</code> çš„ <code>[[Prototype]]</code> è®¾ç½®ä¸º <code>proto</code>ã€‚</li></ul><p>åº”è¯¥ä½¿ç”¨è¿™äº›æ–¹æ³•æ¥ä»£æ›¿ <code>__proto__</code>ã€‚</p><p>å…¶ä»–æ–¹æ³•ï¼š</p><ul><li><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/keys" target="_blank" rel="noopener noreferrer">Object.keys(obj)</a> / <a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/values" target="_blank" rel="noopener noreferrer">Object.values(obj)</a> / <a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/entries" target="_blank" rel="noopener noreferrer">Object.entries(obj)</a> â€”â€” è¿”å›ä¸€ä¸ªå¯æšä¸¾çš„ç”±è‡ªèº«çš„å­—ç¬¦ä¸²å±æ€§å/å€¼/é”®å€¼å¯¹ç»„æˆçš„æ•°ç»„ã€‚</li><li><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertySymbols" target="_blank" rel="noopener noreferrer">Object.getOwnPropertySymbols(obj)</a> â€”â€” è¿”å›ä¸€ä¸ªç”±è‡ªèº«æ‰€æœ‰çš„ symbol ç±»å‹çš„é”®ç»„æˆçš„æ•°ç»„ã€‚</li><li><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames" target="_blank" rel="noopener noreferrer">Object.getOwnPropertyNames(obj)</a> â€”â€” è¿”å›ä¸€ä¸ªç”±è‡ªèº«æ‰€æœ‰çš„å­—ç¬¦ä¸²é”®ç»„æˆçš„æ•°ç»„ã€‚</li><li><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Reflect/ownKeys" target="_blank" rel="noopener noreferrer">Reflect.ownKeys(obj)</a> â€”â€” è¿”å›ä¸€ä¸ªç”±è‡ªèº«æ‰€æœ‰é”®ç»„æˆçš„æ•°ç»„ã€‚</li><li><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty" target="_blank" rel="noopener noreferrer">obj.hasOwnProperty(key)</a>ï¼šå¦‚æœ <code>obj</code> æ‹¥æœ‰åä¸º <code>key</code> çš„è‡ªèº«çš„å±æ€§ï¼ˆéç»§æ‰¿è€Œæ¥çš„ï¼‰ï¼Œåˆ™è¿”å› <code>true</code>ã€‚</li></ul><h3 id="_20-4-æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#_20-4-æ€»ç»“"><span>20.4 <strong>æ€»ç»“</strong></span></a></h3><p>åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬ç®€è¦ä»‹ç»äº†ä¸ºé€šè¿‡æ„é€ å‡½æ•°åˆ›å»ºçš„å¯¹è±¡è®¾ç½® <code>[[Prototype]]</code> çš„æ–¹æ³•ã€‚ç¨åæˆ‘ä»¬å°†çœ‹åˆ°æ›´å¤šä¾èµ–äºæ­¤çš„é«˜çº§ç¼–ç¨‹æ¨¡å¼ã€‚</p><p>ä¸€åˆ‡éƒ½å¾ˆç®€å•ï¼Œåªéœ€è¦è®°ä½å‡ æ¡é‡ç‚¹å°±å¯ä»¥æ¸…æ™°åœ°æŒæ¡äº†ï¼š</p><ul><li><code>F.prototype</code> å±æ€§ï¼ˆä¸è¦æŠŠå®ƒä¸ <code>[[Prototype]]</code> å¼„æ··äº†ï¼‰åœ¨ <code>new F</code> è¢«è°ƒç”¨æ—¶ä¸ºæ–°å¯¹è±¡çš„ <code>[[Prototype]]</code> èµ‹å€¼ã€‚</li><li><code>F.prototype</code> çš„å€¼è¦ä¹ˆæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¦ä¹ˆå°±æ˜¯ <code>null</code>ï¼šå…¶ä»–å€¼éƒ½ä¸èµ·ä½œç”¨ã€‚</li><li><code>&quot;prototype&quot;</code> å±æ€§ä»…åœ¨è®¾ç½®äº†ä¸€ä¸ªæ„é€ å‡½æ•°ï¼ˆconstructor functionï¼‰ï¼Œå¹¶é€šè¿‡ <code>new</code> è°ƒç”¨æ—¶ï¼Œæ‰å…·æœ‰è¿™ç§ç‰¹æ®Šçš„å½±å“ã€‚</li></ul><h2 id="_21-promise" tabindex="-1"><a class="header-anchor" href="#_21-promise"><span>21. Promise</span></a></h2><h3 id="_21-1-promise" tabindex="-1"><a class="header-anchor" href="#_21-1-promise"><span>21.1 Promise</span></a></h3><p><a href="https://www.cnblogs.com/constantince/p/15423644.html" target="_blank" rel="noopener noreferrer">Promise - chenÂ·yan - åšå®¢å›­ (cnblogs.com)</a></p><p>Promise å¯¹è±¡çš„æ„é€ å™¨ï¼ˆconstructorï¼‰è¯­æ³•å¦‚ä¸‹ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> promise</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Promise</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">resolve</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">reject</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // executorï¼ˆç”Ÿäº§è€…ä»£ç ï¼Œâ€œæ­Œæ‰‹â€ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¼ é€’ç»™ <code>new Promise</code> çš„å‡½æ•°è¢«ç§°ä¸º <strong>executor</strong>ã€‚å½“ <code>new Promise</code> è¢«åˆ›å»ºï¼Œexecutor ä¼šè‡ªåŠ¨è¿è¡Œã€‚å®ƒåŒ…å«æœ€ç»ˆåº”äº§å‡ºç»“æœçš„ç”Ÿäº§è€…ä»£ç ã€‚æŒ‰ç…§ä¸Šé¢çš„ç±»æ¯”ï¼šexecutor å°±æ˜¯â€œæ­Œæ‰‹â€ã€‚</p><p>å®ƒçš„å‚æ•° <code>resolve</code> å’Œ <code>reject</code> æ˜¯ç”± JavaScript è‡ªèº«æä¾›çš„å›è°ƒã€‚æˆ‘ä»¬çš„ä»£ç ä»…åœ¨ executor çš„å†…éƒ¨ã€‚</p><p>å½“ executor è·å¾—äº†ç»“æœï¼Œæ— è®ºæ˜¯æ—©è¿˜æ˜¯æ™šéƒ½æ²¡å…³ç³»ï¼Œå®ƒåº”è¯¥è°ƒç”¨ä»¥ä¸‹å›è°ƒä¹‹ä¸€ï¼š</p><ul><li><code>resolve(value)</code> â€”â€” å¦‚æœä»»åŠ¡æˆåŠŸå®Œæˆå¹¶å¸¦æœ‰ç»“æœ <code>value</code>ã€‚</li><li><code>reject(error)</code> â€”â€” å¦‚æœå‡ºç°äº† errorï¼Œ<code>error</code> å³ä¸º error å¯¹è±¡ã€‚</li></ul><p>æ‰€ä»¥æ€»ç»“ä¸€ä¸‹å°±æ˜¯ï¼šexecutor ä¼šè‡ªåŠ¨è¿è¡Œå¹¶å°è¯•æ‰§è¡Œä¸€é¡¹å·¥ä½œã€‚å°è¯•ç»“æŸåï¼Œå¦‚æœæˆåŠŸåˆ™è°ƒç”¨ <code>resolve</code>ï¼Œå¦‚æœå‡ºç° error åˆ™è°ƒç”¨ <code>reject</code>ã€‚</p><p>ç”± <code>new Promise</code> æ„é€ å™¨è¿”å›çš„ <code>promise</code> å¯¹è±¡å…·æœ‰ä»¥ä¸‹å†…éƒ¨å±æ€§ï¼š</p><ul><li><code>state</code> â€”â€” æœ€åˆæ˜¯ <code>&quot;pending&quot;</code>ï¼Œç„¶ååœ¨ <code>resolve</code> è¢«è°ƒç”¨æ—¶å˜ä¸º <code>&quot;fulfilled&quot;</code>ï¼Œæˆ–è€…åœ¨ <code>reject</code> è¢«è°ƒç”¨æ—¶å˜ä¸º <code>&quot;rejected&quot;</code>ã€‚</li><li><code>result</code> â€”â€” æœ€åˆæ˜¯ <code>undefined</code>ï¼Œç„¶ååœ¨ <code>resolve(value)</code> è¢«è°ƒç”¨æ—¶å˜ä¸º <code>value</code>ï¼Œæˆ–è€…åœ¨ <code>reject(error)</code> è¢«è°ƒç”¨æ—¶å˜ä¸º <code>error</code>ã€‚</li></ul><p><strong><code>state</code> å’Œ <code>result</code> éƒ½æ˜¯å†…éƒ¨çš„</strong></p><p>Promise å¯¹è±¡çš„ <code>state</code> å’Œ <code>result</code> å±æ€§éƒ½æ˜¯å†…éƒ¨çš„ã€‚æˆ‘ä»¬æ— æ³•ç›´æ¥è®¿é—®å®ƒä»¬ã€‚ä½†æˆ‘ä»¬å¯ä»¥å¯¹å®ƒä»¬ä½¿ç”¨ <code>.then</code>/<code>.catch</code>/<code>.finally</code> æ–¹æ³•ã€‚æˆ‘ä»¬åœ¨ä¸‹é¢å¯¹è¿™äº›æ–¹æ³•è¿›è¡Œäº†æè¿°ã€‚</p><h3 id="_21-2-then-catch-finally" tabindex="-1"><a class="header-anchor" href="#_21-2-then-catch-finally"><span>21.2 thenï¼Œcatchï¼Œfinally</span></a></h3><p>å¦‚æœ <code>.then</code>ï¼ˆæˆ– <code>catch/finally</code> éƒ½å¯ä»¥ï¼‰å¤„ç†ç¨‹åºï¼ˆhandlerï¼‰è¿”å›ä¸€ä¸ª promiseï¼Œé‚£ä¹ˆé“¾çš„å…¶ä½™éƒ¨åˆ†å°†ä¼šç­‰å¾…ï¼Œç›´åˆ°å®ƒçŠ¶æ€å˜ä¸º settledã€‚å½“å®ƒè¢« settled åï¼Œå…¶ resultï¼ˆæˆ– errorï¼‰å°†è¢«è¿›ä¸€æ­¥ä¼ é€’ä¸‹å»ã€‚</p><p>Promise çš„å¤„ç†ç¨‹åºï¼ˆhandlersï¼‰<code>.then</code>ã€<code>.catch</code> å’Œ <code>.finally</code> éƒ½æ˜¯å¼‚æ­¥çš„ã€‚</p><h4 id="_21-2-1-then" tabindex="-1"><a class="header-anchor" href="#_21-2-1-then"><span>21.2.1 <strong>then</strong></span></a></h4><p>æœ€é‡è¦æœ€åŸºç¡€çš„ä¸€ä¸ªå°±æ˜¯ <code>.then</code>ã€‚</p><p>è¯­æ³•å¦‚ä¸‹ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">promise</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">then</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">result</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) { </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">/* handle a successful result */</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> },</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">error</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) { </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">/* handle an error */</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>.then</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°å°†åœ¨ promise resolved åè¿è¡Œå¹¶æ¥æ”¶ç»“æœã€‚</p><p><code>.then</code> çš„ç¬¬äºŒä¸ªå‚æ•°ä¹Ÿæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°å°†åœ¨ promise rejected åè¿è¡Œå¹¶æ¥æ”¶ errorã€‚</p><h4 id="_21-2-2-catch" tabindex="-1"><a class="header-anchor" href="#_21-2-2-catch"><span>21.2.2 <strong>catch</strong></span></a></h4><p>å¦‚æœæˆ‘ä»¬åªå¯¹ error æ„Ÿå…´è¶£ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>null</code> ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼š<code>.then(null, errorHandlingFunction)</code>ã€‚æˆ–è€…æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>.catch(errorHandlingFunction)</code>ï¼Œå…¶å®æ˜¯ä¸€æ ·çš„ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> promise</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Promise</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">resolve</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">reject</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  setTimeout</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> reject</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Error</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Whoops!&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// .catch(f) ä¸ promise.then(null, f) ä¸€æ ·</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">promise</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">catch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 1 ç§’åæ˜¾ç¤º &quot;Error: Whoops!&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>.catch(f)</code> è°ƒç”¨æ˜¯ <code>.then(null, f)</code> çš„å®Œå…¨çš„æ¨¡æ‹Ÿï¼Œå®ƒåªæ˜¯ä¸€ä¸ªç®€å†™å½¢å¼ã€‚</p><h4 id="_21-2-3-finally" tabindex="-1"><a class="header-anchor" href="#_21-2-3-finally"><span>21.2.3 <strong>finally</strong></span></a></h4><p>å°±åƒå¸¸è§„ <code>try {...} catch {...}</code> ä¸­çš„ <code>finally</code> å­å¥ä¸€æ ·ï¼Œpromise ä¸­ä¹Ÿæœ‰ <code>finally</code>ã€‚</p><p><code>.finally(f)</code> è°ƒç”¨ä¸ <code>.then(f, f)</code> ç±»ä¼¼ï¼Œåœ¨æŸç§æ„ä¹‰ä¸Šï¼Œ<code>f</code> æ€»æ˜¯åœ¨ promise è¢« settled æ—¶è¿è¡Œï¼šå³ promise è¢« resolve æˆ– rejectã€‚</p><p><code>finally</code> æ˜¯æ‰§è¡Œæ¸…ç†ï¼ˆcleanupï¼‰çš„å¾ˆå¥½çš„å¤„ç†ç¨‹åºï¼ˆhandlerï¼‰ï¼Œä¾‹å¦‚æ— è®ºç»“æœå¦‚ä½•ï¼Œéƒ½åœæ­¢ä½¿ç”¨ä¸å†éœ€è¦çš„åŠ è½½æŒ‡ç¤ºç¬¦ï¼ˆindicatorï¼‰ã€‚</p><p>åƒè¿™æ ·ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Promise</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">resolve</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">reject</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  /* åšä¸€äº›éœ€è¦æ—¶é—´çš„äº‹å„¿ï¼Œç„¶åè°ƒç”¨ resolve/reject */</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // åœ¨ promise ä¸º settled æ—¶è¿è¡Œï¼Œæ— è®ºæˆåŠŸä¸å¦</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">finally</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> stop</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> loading</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> indicator</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  // æ‰€ä»¥ï¼ŒåŠ è½½æŒ‡ç¤ºå™¨ï¼ˆloading indicatorï¼‰å§‹ç»ˆä¼šåœ¨æˆ‘ä»¬å¤„ç†ç»“æœ/é”™è¯¯ä¹‹å‰åœæ­¢</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">then</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">result</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> show</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> result</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">err</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> show</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> error</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œ<code>finally(f)</code> å…¶å®å¹¶ä¸æ˜¯ <code>then(f,f)</code> çš„åˆ«åã€‚å®ƒä»¬ä¹‹é—´æœ‰ä¸€äº›ç»†å¾®çš„åŒºåˆ«ï¼š</p><ol><li><code>finally</code> å¤„ç†ç¨‹åºï¼ˆhandlerï¼‰æ²¡æœ‰å‚æ•°ã€‚åœ¨ <code>finally</code> ä¸­ï¼Œæˆ‘ä»¬ä¸çŸ¥é“ promise æ˜¯å¦æˆåŠŸã€‚æ²¡å…³ç³»ï¼Œå› ä¸ºæˆ‘ä»¬çš„ä»»åŠ¡é€šå¸¸æ˜¯æ‰§è¡Œâ€œå¸¸è§„â€çš„å®šç¨¿ç¨‹åºï¼ˆfinalizing proceduresï¼‰ã€‚</li><li><code>finally</code> å¤„ç†ç¨‹åºå°†ç»“æœå’Œ error ä¼ é€’ç»™ä¸‹ä¸€ä¸ªå¤„ç†ç¨‹åºã€‚</li></ol><h3 id="_21-3-promise-api" tabindex="-1"><a class="header-anchor" href="#_21-3-promise-api"><span>21.3 Promise API</span></a></h3><h4 id="_21-3-1-promise-all" tabindex="-1"><a class="header-anchor" href="#_21-3-1-promise-all"><span>21.3.1 <strong>Promise.all</strong></span></a></h4><p>å‡è®¾æˆ‘ä»¬å¸Œæœ›å¹¶è¡Œæ‰§è¡Œå¤šä¸ª promiseï¼Œå¹¶ç­‰å¾…æ‰€æœ‰ promise éƒ½å‡†å¤‡å°±ç»ªã€‚</p><p>ä¾‹å¦‚ï¼Œå¹¶è¡Œä¸‹è½½å‡ ä¸ª URLï¼Œå¹¶ç­‰åˆ°æ‰€æœ‰å†…å®¹éƒ½ä¸‹è½½å®Œæ¯•åå†å¯¹å®ƒä»¬è¿›è¡Œå¤„ç†ã€‚</p><p>è¿™å°±æ˜¯ <code>Promise.all</code> çš„ç”¨é€”ã€‚</p><p>è¯­æ³•ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> promise</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Promise</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">all</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">iterable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><code>Promise.all</code> æ¥å—ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªæ•°ç»„é¡¹ä¸º promise çš„æ•°ç»„ï¼‰ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„ promiseã€‚</p><p>å½“æ‰€æœ‰ç»™å®šçš„ promise éƒ½ resolve æ—¶ï¼Œæ–°çš„ promise æ‰ä¼š resolveï¼Œå¹¶ä¸”å…¶ç»“æœæ•°ç»„å°†æˆä¸ºæ–° promise çš„ç»“æœã€‚</p><p>å¦‚æœpromise çš„æ•°ç»„å…¶ä¸­ä¸€ä¸ª promise è¢« rejectï¼Œ<code>Promise.all</code> å°±ä¼šç«‹å³è¢« rejectï¼Œå®Œå…¨å¿½ç•¥åˆ—è¡¨ä¸­å…¶ä»–çš„ promiseã€‚å®ƒä»¬çš„ç»“æœä¹Ÿè¢«å¿½ç•¥ã€‚</p><h4 id="_21-3-2-promise-allsettled" tabindex="-1"><a class="header-anchor" href="#_21-3-2-promise-allsettled"><span>21.3.2 <strong>Promise.allSettled</strong></span></a></h4><p><code>Promise.allSettled</code> ç­‰å¾…æ‰€æœ‰çš„ promise éƒ½è¢« settleï¼Œæ— è®ºç»“æœå¦‚ä½•ã€‚ç»“æœæ•°ç»„å…·æœ‰ï¼š</p><ul><li><code>{status:&quot;fulfilled&quot;, value:result}</code> å¯¹äºæˆåŠŸçš„å“åº”ï¼Œ</li><li><code>{status:&quot;rejected&quot;, reason:error}</code> å¯¹äº errorã€‚</li></ul><h4 id="_21-3-3-promise-race" tabindex="-1"><a class="header-anchor" href="#_21-3-3-promise-race"><span>21.3.3 <strong>Promise.race</strong></span></a></h4><p>ä¸ <code>Promise.all</code> ç±»ä¼¼ï¼Œä½†åªç­‰å¾…ç¬¬ä¸€ä¸ª settled çš„ promise å¹¶è·å–å…¶ç»“æœï¼ˆæˆ– errorï¼‰ã€‚</p><p>ä¾‹å¦‚ï¼Œè¿™é‡Œçš„ç»“æœå°†æ˜¯ <code>1</code>ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Promise</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">race</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">([</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Promise</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">resolve</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">reject</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> setTimeout</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> resolve</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)),</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Promise</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">resolve</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">reject</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> setTimeout</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> reject</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Error</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Whoops!&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)),</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Promise</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">((</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">resolve</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">reject</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> setTimeout</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> resolve</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">), </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">))</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]).</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">then</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œç¬¬ä¸€ä¸ª promise æœ€å¿«ï¼Œæ‰€ä»¥å®ƒå˜æˆäº†ç»“æœã€‚ç¬¬ä¸€ä¸ª settled çš„ promise â€œèµ¢å¾—äº†æ¯”èµ›â€ä¹‹åï¼Œæ‰€æœ‰è¿›ä¸€æ­¥çš„ result/error éƒ½ä¼šè¢«å¿½ç•¥ã€‚</p><h4 id="_21-3-4-promise-any" tabindex="-1"><a class="header-anchor" href="#_21-3-4-promise-any"><span>21.3.4 <strong>Promise.any</strong></span></a></h4><p>ä¸ <code>Promise.race</code> ç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äº <code>Promise.any</code> åªç­‰å¾…ç¬¬ä¸€ä¸ª fulfilled çš„ promiseï¼Œå¹¶å°†è¿™ä¸ª fulfilled çš„ promise è¿”å›ã€‚å¦‚æœç»™å‡ºçš„ promise éƒ½ rejectedï¼Œé‚£ä¹ˆåˆ™è¿”å› rejected çš„ promise å’Œ <a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/AggregateError" target="_blank" rel="noopener noreferrer"><code>AggregateError</code></a> é”™è¯¯ç±»å‹çš„ error å®ä¾‹ã€‚</p><h4 id="_21-3-5-æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#_21-3-5-æ€»ç»“"><span>21.3.5 <strong>æ€»ç»“</strong>ï¼š</span></a></h4><p><code>Promise</code> ç±»æœ‰ 6 ç§é™æ€æ–¹æ³•ï¼š</p><ol><li><code>Promise.all(promises)</code> â€”â€” ç­‰å¾…æ‰€æœ‰ promise éƒ½ resolve æ—¶ï¼Œè¿”å›å­˜æ”¾å®ƒä»¬ç»“æœçš„æ•°ç»„ã€‚å¦‚æœç»™å®šçš„ä»»æ„ä¸€ä¸ª promise ä¸º rejectï¼Œé‚£ä¹ˆå®ƒå°±ä¼šå˜æˆ <code>Promise.all</code> çš„ errorï¼Œæ‰€æœ‰å…¶ä»– promise çš„ç»“æœéƒ½ä¼šè¢«å¿½ç•¥ã€‚</li><li><code>Promise.allSettled(promises)</code>ï¼ˆES2020 æ–°å¢æ–¹æ³•ï¼‰â€”â€” ç­‰å¾…æ‰€æœ‰ promise éƒ½ settle æ—¶ï¼Œå¹¶ä»¥åŒ…å«ä»¥ä¸‹å†…å®¹çš„å¯¹è±¡æ•°ç»„çš„å½¢å¼è¿”å›å®ƒä»¬çš„ç»“æœï¼š <ul><li><code>status</code>: <code>&quot;fulfilled&quot;</code> æˆ– <code>&quot;rejected&quot;</code></li><li><code>value</code>ï¼ˆå¦‚æœ fulfilledï¼‰æˆ– <code>reason</code>ï¼ˆå¦‚æœ rejectedï¼‰ã€‚</li></ul></li><li><code>Promise.race(promises)</code> â€”â€” ç­‰å¾…ç¬¬ä¸€ä¸ª settle çš„ promiseï¼Œå¹¶å°†å…¶ result/error ä½œä¸ºç»“æœè¿”å›ã€‚</li><li><code>Promise.any(promises)</code>ï¼ˆES2021 æ–°å¢æ–¹æ³•ï¼‰â€”â€” ç­‰å¾…ç¬¬ä¸€ä¸ª fulfilled çš„ promiseï¼Œå¹¶å°†å…¶ç»“æœä½œä¸ºç»“æœè¿”å›ã€‚å¦‚æœæ‰€æœ‰ promise éƒ½ rejectedï¼Œ<code>Promise.any</code> åˆ™ä¼šæŠ›å‡º <a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/AggregateError" target="_blank" rel="noopener noreferrer"><code>AggregateError</code></a> é”™è¯¯ç±»å‹çš„ error å®ä¾‹ã€‚</li><li><code>Promise.resolve(value)</code> â€”â€” ä½¿ç”¨ç»™å®š value åˆ›å»ºä¸€ä¸ª resolved çš„ promiseã€‚</li><li><code>Promise.reject(error)</code> â€”â€” ä½¿ç”¨ç»™å®š error åˆ›å»ºä¸€ä¸ª rejected çš„ promiseã€‚</li></ol><p>ä»¥ä¸Šæ‰€æœ‰æ–¹æ³•ï¼Œ<code>Promise.all</code> å¯èƒ½æ˜¯åœ¨å®æˆ˜ä¸­ä½¿ç”¨æœ€å¤šçš„ã€‚</p><h3 id="_21-4-async-await" tabindex="-1"><a class="header-anchor" href="#_21-4-async-await"><span>21.4 Async/await</span></a></h3><p>Async/await æ˜¯ä»¥æ›´èˆ’é€‚çš„æ–¹å¼ä½¿ç”¨ promise çš„ä¸€ç§ç‰¹æ®Šè¯­æ³•ï¼ŒåŒæ—¶å®ƒä¹Ÿéå¸¸æ˜“äºç†è§£å’Œä½¿ç”¨ã€‚</p><h4 id="_21-4-1-async-function" tabindex="-1"><a class="header-anchor" href="#_21-4-1-async-function"><span>21.4.1 <strong>Async function</strong>:</span></a></h4><p>è®©æˆ‘ä»¬ä»¥ <code>async</code> è¿™ä¸ªå…³é”®å­—å¼€å§‹ã€‚å®ƒå¯ä»¥è¢«æ”¾ç½®åœ¨ä¸€ä¸ªå‡½æ•°å‰é¢ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">async</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> f</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨å‡½æ•°å‰é¢çš„ â€œasyncâ€ è¿™ä¸ªå•è¯è¡¨è¾¾äº†ä¸€ä¸ªç®€å•çš„äº‹æƒ…ï¼šå³è¿™ä¸ªå‡½æ•°æ€»æ˜¯è¿”å›ä¸€ä¸ª promiseã€‚å…¶ä»–å€¼å°†è‡ªåŠ¨è¢«åŒ…è£…åœ¨ä¸€ä¸ª resolved çš„ promise ä¸­ã€‚</p><h4 id="_21-4-2-await" tabindex="-1"><a class="header-anchor" href="#_21-4-2-await"><span>21.4.2 <strong>Await</strong>ï¼š</span></a></h4><p>è¯­æ³•å¦‚ä¸‹ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// åªåœ¨ async å‡½æ•°å†…å·¥ä½œ</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> value</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> await</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> promise</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>å…³é”®å­— <code>await</code> è®© JavaScript å¼•æ“ç­‰å¾…ç›´åˆ° promise å®Œæˆï¼ˆsettleï¼‰å¹¶è¿”å›ç»“æœã€‚</p><p><code>await</code> å®é™…ä¸Šä¼šæš‚åœå‡½æ•°çš„æ‰§è¡Œï¼Œç›´åˆ° promise çŠ¶æ€å˜ä¸º settledï¼Œç„¶åä»¥ promise çš„ç»“æœç»§ç»­æ‰§è¡Œã€‚è¿™ä¸ªè¡Œä¸ºä¸ä¼šè€—è´¹ä»»ä½• CPU èµ„æºï¼Œå› ä¸º JavaScript å¼•æ“å¯ä»¥åŒæ—¶å¤„ç†å…¶ä»–ä»»åŠ¡ï¼šæ‰§è¡Œå…¶ä»–è„šæœ¬ï¼Œå¤„ç†äº‹ä»¶ç­‰ã€‚</p><p><strong>ä¸èƒ½åœ¨æ™®é€šå‡½æ•°ä¸­ä½¿ç”¨</strong> <code>await</code></p><p><strong>åœ¨ç°ä»£æµè§ˆå™¨ä¸­ï¼Œå½“æˆ‘ä»¬å¤„äºä¸€ä¸ª module ä¸­æ—¶ï¼Œé‚£ä¹ˆåœ¨é¡¶å±‚ä½¿ç”¨ <code>await</code> ä¹Ÿæ˜¯è¢«å…è®¸çš„ã€‚</strong></p><h2 id="_22-generator-é«˜çº§-iteration" tabindex="-1"><a class="header-anchor" href="#_22-generator-é«˜çº§-iteration"><span>22. Generatorï¼Œé«˜çº§ iteration</span></a></h2><p><strong>Generator å‡½æ•°</strong>ï¼š</p><p>è€Œ Generator å¯ä»¥æŒ‰éœ€ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°è¿”å›ï¼ˆâ€œyieldâ€ï¼‰å¤šä¸ªå€¼ã€‚å®ƒä»¬å¯ä¸ <a href="https://zh.javascript.info/iterable" target="_blank" rel="noopener noreferrer">iterable</a> å®Œç¾é…åˆä½¿ç”¨ï¼Œä»è€Œå¯ä»¥è½»æ¾åœ°åˆ›å»ºæ•°æ®æµã€‚</p><p>è¦åˆ›å»ºä¸€ä¸ª generatorï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªç‰¹æ®Šçš„è¯­æ³•ç»“æ„ï¼š<code>function*</code>ï¼Œå³æ‰€è°“çš„ â€œgenerator functionâ€ã€‚</p><p>å®ƒçœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function*</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> generateSequence</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  yield</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  yield</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Generator å‡½æ•°ä¸å¸¸è§„å‡½æ•°çš„è¡Œä¸ºä¸åŒã€‚åœ¨æ­¤ç±»å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œå®ƒä¸ä¼šè¿è¡Œå…¶ä»£ç ã€‚è€Œæ˜¯è¿”å›ä¸€ä¸ªè¢«ç§°ä¸º â€œgenerator objectâ€ çš„ç‰¹æ®Šå¯¹è±¡ï¼Œæ¥ç®¡ç†æ‰§è¡Œæµç¨‹ã€‚</p><p>ä¸€ä¸ª generator çš„ä¸»è¦æ–¹æ³•å°±æ˜¯ <code>next()</code></p><p><code>next()</code> çš„ç»“æœå§‹ç»ˆæ˜¯ä¸€ä¸ªå…·æœ‰ä¸¤ä¸ªå±æ€§çš„å¯¹è±¡ï¼š</p><ul><li><code>value</code>: äº§å‡ºçš„ï¼ˆyieldedï¼‰çš„å€¼ã€‚</li><li><code>done</code>: å¦‚æœ generator å‡½æ•°å·²æ‰§è¡Œå®Œæˆåˆ™ä¸º <code>true</code>ï¼Œå¦åˆ™ä¸º <code>false</code>ã€‚</li></ul><p>generator æ˜¯ <code>å¯è¿­ä»£</code>çš„</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>for..of</code> å¾ªç¯éå†å®ƒæ‰€æœ‰çš„å€¼ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">function*</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> generateSequence</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  yield</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  yield</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  return</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 3</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> generator</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> generateSequence</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> value</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> of</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> generator</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">value</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 1ï¼Œç„¶åæ˜¯ 2</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="_23-æ¨¡å—" tabindex="-1"><a class="header-anchor" href="#_23-æ¨¡å—"><span>23. æ¨¡å—</span></a></h2><p>æ¨¡å—å¯ä»¥ç›¸äº’åŠ è½½ï¼Œå¹¶å¯ä»¥ä½¿ç”¨ç‰¹æ®Šçš„æŒ‡ä»¤ <code>export</code> å’Œ <code>import</code> æ¥äº¤æ¢åŠŸèƒ½ï¼Œä»å¦ä¸€ä¸ªæ¨¡å—è°ƒç”¨ä¸€ä¸ªæ¨¡å—çš„å‡½æ•°ï¼š</p><ul><li><code>export</code> å…³é”®å­—æ ‡è®°äº†å¯ä»¥ä»å½“å‰æ¨¡å—å¤–éƒ¨è®¿é—®çš„å˜é‡å’Œå‡½æ•°ã€‚</li><li><code>import</code> å…³é”®å­—å…è®¸ä»å…¶ä»–æ¨¡å—å¯¼å…¥åŠŸèƒ½ã€‚</li></ul><p>ç”±äºæ¨¡å—æ”¯æŒç‰¹æ®Šçš„å…³é”®å­—å’ŒåŠŸèƒ½ï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»é€šè¿‡ä½¿ç”¨ <code>&lt;script type=&quot;module&quot;&gt;</code> ç‰¹æ€§ï¼ˆattributeï¼‰æ¥å‘Šè¯‰æµè§ˆå™¨ï¼Œæ­¤è„šæœ¬åº”è¯¥è¢«å½“ä½œæ¨¡å—ï¼ˆmoduleï¼‰æ¥å¯¹å¾…ã€‚</p><p><strong>æ¨¡å—åªé€šè¿‡ HTTP(s) å·¥ä½œï¼Œè€Œéæœ¬åœ°</strong></p><p>å¦‚æœä½ å°è¯•é€šè¿‡ <code>file://</code> åè®®åœ¨æœ¬åœ°æ‰“å¼€ä¸€ä¸ªç½‘é¡µï¼Œä½ ä¼šå‘ç° <code>import/export</code> æŒ‡ä»¤ä¸èµ·ä½œç”¨ã€‚ä½ å¯ä»¥ä½¿ç”¨æœ¬åœ° Web æœåŠ¡å™¨ï¼Œä¾‹å¦‚ <a href="https://www.npmjs.com/package/static-server#getting-started" target="_blank" rel="noopener noreferrer">static-server</a>ï¼Œæˆ–è€…ä½¿ç”¨ç¼–è¾‘å™¨çš„â€œå®æ—¶æœåŠ¡å™¨â€åŠŸèƒ½ï¼Œä¾‹å¦‚ VS Code çš„ <a href="https://marketplace.visualstudio.com/items?itemName=ritwickdey.LiveServer" target="_blank" rel="noopener noreferrer">Live Server Extension</a> æ¥æµ‹è¯•æ¨¡å—ã€‚</p><p>å¦‚æœåŒä¸€ä¸ªæ¨¡å—è¢«å¯¼å…¥åˆ°å¤šä¸ªå…¶ä»–ä½ç½®ï¼Œé‚£ä¹ˆå®ƒçš„ä»£ç åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼Œå³åœ¨ç¬¬ä¸€æ¬¡è¢«å¯¼å…¥æ—¶ã€‚ç„¶åå°†å…¶å¯¼å‡ºï¼ˆexportï¼‰çš„å†…å®¹æä¾›ç»™è¿›ä¸€æ­¥çš„å¯¼å…¥ï¼ˆimporterï¼‰ã€‚</p><p>å¦‚æœè¿™ä¸ªæ¨¡å—è¢«å¯¼å…¥åˆ°å¤šä¸ªæ–‡ä»¶ä¸­ï¼Œæ¨¡å—ä»…åœ¨ç¬¬ä¸€æ¬¡è¢«å¯¼å…¥æ—¶è¢«è§£æï¼Œå¹¶åˆ›å»º <code>admin</code> å¯¹è±¡ï¼Œç„¶åå°†å…¶ä¼ å…¥åˆ°æ‰€æœ‰çš„å¯¼å…¥ã€‚</p><p>æ‰€æœ‰çš„å¯¼å…¥éƒ½åªè·å¾—äº†ä¸€ä¸ªå”¯ä¸€çš„ <code>admin</code> å¯¹è±¡ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ğŸ“ 1.js</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">admin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;./admin.js&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">admin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Pete&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ğŸ“ 2.js</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">admin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">from</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;./admin.js&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">admin</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Pete</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 1.js å’Œ 2.js å¼•ç”¨çš„æ˜¯åŒä¸€ä¸ª admin å¯¹è±¡</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// åœ¨ 1.js ä¸­å¯¹å¯¹è±¡åšçš„æ›´æ”¹ï¼Œåœ¨ 2.js ä¸­ä¹Ÿæ˜¯å¯è§çš„</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œå½“åœ¨ <code>1.js</code> ä¸­ä¿®æ”¹äº†å¯¼å…¥çš„ <code>admin</code> ä¸­çš„ <code>name</code> å±æ€§æ—¶ï¼Œæˆ‘ä»¬åœ¨ <code>2.js</code> ä¸­å¯ä»¥çœ‹åˆ°æ–°çš„ <code>admin.name</code>ã€‚</p><p>è¿™æ­£æ˜¯å› ä¸ºè¯¥æ¨¡å—åªæ‰§è¡Œäº†ä¸€æ¬¡ã€‚ç”Ÿæˆå¯¼å‡ºï¼Œç„¶åè¿™äº›å¯¼å‡ºåœ¨å¯¼å…¥ä¹‹é—´å…±äº«ï¼Œå› æ­¤å¦‚æœæ›´æ”¹äº† <code>admin</code> å¯¹è±¡ï¼Œåœ¨å…¶ä»–å¯¼å…¥ä¸­ä¹Ÿä¼šçœ‹åˆ°ã€‚</p><p><code>import.meta</code> å¯¹è±¡åŒ…å«å…³äºå½“å‰æ¨¡å—çš„ä¿¡æ¯ã€‚</p><p>å®ƒçš„å†…å®¹å–å†³äºå…¶æ‰€åœ¨çš„ç¯å¢ƒã€‚åœ¨æµè§ˆå™¨ç¯å¢ƒä¸­ï¼Œå®ƒåŒ…å«å½“å‰è„šæœ¬çš„ URLï¼Œæˆ–è€…å¦‚æœå®ƒæ˜¯åœ¨ HTML ä¸­çš„è¯ï¼Œåˆ™åŒ…å«å½“å‰é¡µé¢çš„ URLã€‚</p><div class="language-markup line-numbers-mode" data-highlighter="shiki" data-ext="markup" data-title="markup" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&lt;script type=&quot;module&quot;&gt;</span></span>
<span class="line"><span>  alert(import.meta.url); // è„šæœ¬çš„ URLï¼ˆå¯¹äºå†…è”è„šæœ¬æ¥è¯´ï¼Œåˆ™æ˜¯å½“å‰ HTML é¡µé¢çš„ URLï¼‰</span></span>
<span class="line"><span>&lt;/script&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸€ä¸ªæ¨¡å—ä¸­ï¼Œé¡¶çº§ <code>this</code> æ˜¯ undefinedã€‚</p><p>å°†å…¶ä¸éæ¨¡å—è„šæœ¬è¿›è¡Œæ¯”è¾ƒä¼šå‘ç°ï¼Œéæ¨¡å—è„šæœ¬çš„é¡¶çº§ <code>this</code> æ˜¯å…¨å±€å¯¹è±¡ï¼š</p><div class="language-markup line-numbers-mode" data-highlighter="shiki" data-ext="markup" data-title="markup" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&lt;script&gt;</span></span>
<span class="line"><span>  alert(this); // window</span></span>
<span class="line"><span>&lt;/script&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;script type=&quot;module&quot;&gt;</span></span>
<span class="line"><span>  alert(this); // undefined</span></span>
<span class="line"><span>&lt;/script&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>async</code>å¯¹äºæ¨¡å—è„šæœ¬ï¼Œå®ƒä¹Ÿé€‚ç”¨äºå†…è”è„šæœ¬ã€‚</p><p>ä¾‹å¦‚ï¼Œä¸‹é¢çš„å†…è”è„šæœ¬å…·æœ‰ <code>async</code> ç‰¹æ€§ï¼Œå› æ­¤å®ƒä¸ä¼šç­‰å¾…ä»»ä½•ä¸œè¥¿ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&lt;!--</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> æ‰€æœ‰ä¾èµ–éƒ½è·å–å®Œæˆï¼ˆ</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">analytics</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">js</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ï¼‰ç„¶åè„šæœ¬å¼€å§‹è¿è¡Œ </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">--&gt;</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&lt;!--</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ä¸ä¼šç­‰å¾… </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">HTML</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> æ–‡æ¡£æˆ–è€…å…¶ä»– </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> æ ‡ç­¾ </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">--&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> async</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> type</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;module&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  import </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">counter</span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> from &#39;./analytics.js&#39;;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  counter.count();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_23-1-å¯¼å‡ºå’Œå¯¼å…¥" tabindex="-1"><a class="header-anchor" href="#_23-1-å¯¼å‡ºå’Œå¯¼å…¥"><span>23.1 å¯¼å‡ºå’Œå¯¼å…¥</span></a></h3><p>å¯¼å‡ºï¼ˆexportï¼‰å’Œå¯¼å…¥ï¼ˆimportï¼‰æŒ‡ä»¤æœ‰å‡ ç§è¯­æ³•å˜ä½“ã€‚</p><p>è¯·è®°ä½ï¼Œ<code>import</code> å‘½åçš„å¯¼å‡ºæ—¶éœ€è¦èŠ±æ‹¬å·ï¼Œè€Œ <code>import</code> é»˜è®¤çš„å¯¼å‡ºæ—¶ä¸éœ€è¦èŠ±æ‹¬å·ã€‚</p><p>ä½ å¯ä»¥é˜…è¯»å¹¶å›å¿†å®ƒä»¬çš„å«ä¹‰æ¥è¿›è¡Œè‡ªæŸ¥ï¼š</p><ul><li>åœ¨å£°æ˜ä¸€ä¸ª class/function/â€¦ ä¹‹å‰ï¼š <ul><li><code>export [default] class/function/variable ...</code></li></ul></li><li>ç‹¬ç«‹çš„å¯¼å‡ºï¼š <ul><li><code>export {x [as y], ...}</code>.</li></ul></li><li>é‡æ–°å¯¼å‡ºï¼š <ul><li><code>export {x [as y], ...} from &quot;module&quot;</code></li><li><code>export * from &quot;module&quot;</code>ï¼ˆä¸ä¼šé‡æ–°å¯¼å‡ºé»˜è®¤çš„å¯¼å‡ºï¼‰ã€‚</li><li><code>export {default [as y]} from &quot;module&quot;</code>ï¼ˆé‡æ–°å¯¼å‡ºé»˜è®¤çš„å¯¼å‡ºï¼‰ã€‚</li></ul></li></ul><p>å¯¼å…¥ï¼š</p><ul><li>å¯¼å…¥å‘½åçš„å¯¼å‡ºï¼š <ul><li><code>import {x [as y], ...} from &quot;module&quot;</code></li></ul></li><li>å¯¼å…¥é»˜è®¤çš„å¯¼å‡ºï¼š <ul><li><code>import x from &quot;module&quot;</code></li><li><code>import {default as x} from &quot;module&quot;</code></li></ul></li><li>å¯¼å…¥æ‰€æœ‰ï¼š <ul><li><code>import * as obj from &quot;module&quot;</code></li></ul></li><li>å¯¼å…¥æ¨¡å—ï¼ˆå…¶ä»£ç ï¼Œå¹¶è¿è¡Œï¼‰ï¼Œä½†ä¸è¦å°†å…¶ä»»ä½•å¯¼å‡ºèµ‹å€¼ç»™å˜é‡ï¼š <ul><li><code>import &quot;module&quot;</code></li></ul></li></ul><h3 id="_23-2-åŠ¨æ€å¯¼å…¥" tabindex="-1"><a class="header-anchor" href="#_23-2-åŠ¨æ€å¯¼å…¥"><span>23.2 åŠ¨æ€å¯¼å…¥</span></a></h3><p><strong>import() è¡¨è¾¾å¼</strong>ï¼š</p><p><code>import(module)</code> è¡¨è¾¾å¼åŠ è½½æ¨¡å—å¹¶è¿”å›ä¸€ä¸ª promiseï¼Œè¯¥ promise resolve ä¸ºä¸€ä¸ªåŒ…å«å…¶æ‰€æœ‰å¯¼å‡ºçš„æ¨¡å—å¯¹è±¡ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ä»£ç ä¸­çš„ä»»æ„ä½ç½®è°ƒç”¨è¿™ä¸ªè¡¨è¾¾å¼ã€‚</p><p>æˆ‘ä»¬å¯ä»¥åœ¨ä»£ç ä¸­çš„ä»»æ„ä½ç½®åŠ¨æ€åœ°ä½¿ç”¨å®ƒã€‚ä¾‹å¦‚ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> modulePath</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> prompt</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Which module to load?&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">import</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">modulePath</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">then</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">obj</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">module</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> object</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .catch(err =&gt; &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">loading</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;"> error,</span><span style="--shiki-light:white;--shiki-dark:#FFFFFF;"> e.g.</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> if</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> no</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> such</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> module</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ–è€…ï¼Œå¦‚æœåœ¨å¼‚æ­¥å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>let module = await import(modulePath)</code>ã€‚</p><h2 id="_24-æ‚é¡¹" tabindex="-1"><a class="header-anchor" href="#_24-æ‚é¡¹"><span>24. æ‚é¡¹</span></a></h2><h3 id="_24-1-proxy" tabindex="-1"><a class="header-anchor" href="#_24-1-proxy"><span>24.1 <strong>Proxy</strong></span></a></h3><p>ä»£ç†æä¾›äº†ä¸€ç§ç‹¬ç‰¹çš„æ–¹æ³•ï¼Œå¯ä»¥åœ¨æœ€åº•å±‚æ›´æ”¹æˆ–è°ƒæ•´ç°æœ‰å¯¹è±¡çš„è¡Œä¸ºã€‚ä½†æ˜¯ï¼Œå®ƒå¹¶ä¸å®Œç¾ã€‚æœ‰å±€é™æ€§ã€‚</p><p>ä»£ç†å’ŒåŸå§‹å¯¹è±¡æ˜¯ä¸åŒçš„å¯¹è±¡ã€‚</p><p>è¯­æ³•ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> proxy</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Proxy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">target</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">handler</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><p><code>target</code> â€”â€” æ˜¯è¦åŒ…è£…çš„å¯¹è±¡ï¼Œå¯ä»¥æ˜¯ä»»ä½•ä¸œè¥¿ï¼ŒåŒ…æ‹¬å‡½æ•°ã€‚</p></li><li><p><code>handler</code> â€”â€” ä»£ç†é…ç½®ï¼šå¸¦æœ‰â€œæ•æ‰å™¨â€ï¼ˆâ€œtrapsâ€ï¼Œå³æ‹¦æˆªæ“ä½œçš„æ–¹æ³•ï¼‰çš„å¯¹è±¡ã€‚æ¯”å¦‚ <code>get</code> æ•æ‰å™¨ç”¨äºè¯»å– <code>target</code> çš„å±æ€§ï¼Œ<code>set</code> æ•æ‰å™¨ç”¨äºå†™å…¥ <code>target</code> çš„å±æ€§ï¼Œç­‰ç­‰ã€‚</p><table><thead><tr><th style="text-align:left;">å†…éƒ¨æ–¹æ³•</th><th style="text-align:left;">Handler æ–¹æ³•</th><th style="text-align:left;">ä½•æ—¶è§¦å‘</th></tr></thead><tbody><tr><td style="text-align:left;"><code>[[Get]]</code></td><td style="text-align:left;"><code>get</code></td><td style="text-align:left;">è¯»å–å±æ€§</td></tr><tr><td style="text-align:left;"><code>[[Set]]</code></td><td style="text-align:left;"><code>set</code></td><td style="text-align:left;">å†™å…¥å±æ€§</td></tr><tr><td style="text-align:left;"><code>[[HasProperty]]</code></td><td style="text-align:left;"><code>has</code></td><td style="text-align:left;"><code>in</code> æ“ä½œç¬¦</td></tr><tr><td style="text-align:left;"><code>[[Delete]]</code></td><td style="text-align:left;"><code>deleteProperty</code></td><td style="text-align:left;"><code>delete</code> æ“ä½œç¬¦</td></tr><tr><td style="text-align:left;"><code>[[Call]]</code></td><td style="text-align:left;"><code>apply</code></td><td style="text-align:left;">å‡½æ•°è°ƒç”¨</td></tr><tr><td style="text-align:left;"><code>[[Construct]]</code></td><td style="text-align:left;"><code>construct</code></td><td style="text-align:left;"><code>new</code> æ“ä½œç¬¦</td></tr><tr><td style="text-align:left;"><code>[[GetPrototypeOf]]</code></td><td style="text-align:left;"><code>getPrototypeOf</code></td><td style="text-align:left;"><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/getPrototypeOf" target="_blank" rel="noopener noreferrer">Object.getPrototypeOf</a></td></tr><tr><td style="text-align:left;"><code>[[SetPrototypeOf]]</code></td><td style="text-align:left;"><code>setPrototypeOf</code></td><td style="text-align:left;"><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/setPrototypeOf" target="_blank" rel="noopener noreferrer">Object.setPrototypeOf</a></td></tr><tr><td style="text-align:left;"><code>[[IsExtensible]]</code></td><td style="text-align:left;"><code>isExtensible</code></td><td style="text-align:left;"><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/isExtensible" target="_blank" rel="noopener noreferrer">Object.isExtensible</a></td></tr><tr><td style="text-align:left;"><code>[[PreventExtensions]]</code></td><td style="text-align:left;"><code>preventExtensions</code></td><td style="text-align:left;"><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/preventExtensions" target="_blank" rel="noopener noreferrer">Object.preventExtensions</a></td></tr><tr><td style="text-align:left;"><code>[[DefineOwnProperty]]</code></td><td style="text-align:left;"><code>defineProperty</code></td><td style="text-align:left;"><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" target="_blank" rel="noopener noreferrer">Object.defineProperty</a>, <a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties" target="_blank" rel="noopener noreferrer">Object.defineProperties</a></td></tr><tr><td style="text-align:left;"><code>[[GetOwnProperty]]</code></td><td style="text-align:left;"><code>getOwnPropertyDescriptor</code></td><td style="text-align:left;"><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyDescriptor" target="_blank" rel="noopener noreferrer">Object.getOwnPropertyDescriptor</a>, <code>for..in</code>, <code>Object.keys/values/entries</code></td></tr><tr><td style="text-align:left;"><code>[[OwnPropertyKeys]]</code></td><td style="text-align:left;"><code>ownKeys</code></td><td style="text-align:left;"><a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertyNames" target="_blank" rel="noopener noreferrer">Object.getOwnPropertyNames</a>, <a href="https://developer.mozilla.org/zh/docs/Web/JavaScript/Reference/Global_Objects/Object/getOwnPropertySymbols" target="_blank" rel="noopener noreferrer">Object.getOwnPropertySymbols</a>, <code>for..in</code>, <code>Object.keys/values/entries</code></td></tr></tbody></table><p><code>get(target, property, receiver)</code> æ–¹æ³•ã€‚</p><p>è¯»å–å±æ€§æ—¶è§¦å‘è¯¥æ–¹æ³•ï¼Œå‚æ•°å¦‚ä¸‹ï¼š</p><ul><li><p><code>target</code> â€”â€” æ˜¯ç›®æ ‡å¯¹è±¡ï¼Œè¯¥å¯¹è±¡è¢«ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ç»™ <code>new Proxy</code>ï¼Œ</p></li><li><p><code>property</code> â€”â€” ç›®æ ‡å±æ€§åï¼Œ</p></li><li><p><code>receiver</code> â€”â€” å¦‚æœç›®æ ‡å±æ€§æ˜¯ä¸€ä¸ª getter è®¿é—®å™¨å±æ€§ï¼Œåˆ™ <code>receiver</code> å°±æ˜¯æœ¬æ¬¡è¯»å–å±æ€§æ‰€åœ¨çš„ <code>this</code> å¯¹è±¡ã€‚é€šå¸¸ï¼Œè¿™å°±æ˜¯ <code>proxy</code> å¯¹è±¡æœ¬èº«ï¼ˆæˆ–è€…ï¼Œå¦‚æœæˆ‘ä»¬ä» proxy ç»§æ‰¿ï¼Œåˆ™æ˜¯ä»è¯¥ proxy ç»§æ‰¿çš„å¯¹è±¡ï¼‰ã€‚ç°åœ¨æˆ‘ä»¬ä¸éœ€è¦æ­¤å‚æ•°ï¼Œå› æ­¤ç¨åæˆ‘ä»¬å°†å¯¹å…¶è¿›è¡Œè¯¦ç»†ä»‹ç»ã€‚</p></li></ul><p><code>set(target, property, value, receiver)</code>ï¼š</p><ul><li><p><code>target</code> â€”â€” æ˜¯ç›®æ ‡å¯¹è±¡ï¼Œè¯¥å¯¹è±¡è¢«ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ç»™ <code>new Proxy</code>ï¼Œ</p></li><li><p><code>property</code> â€”â€” ç›®æ ‡å±æ€§åç§°ï¼Œ</p></li><li><p><code>value</code> â€”â€” ç›®æ ‡å±æ€§çš„å€¼ï¼Œ</p></li><li><p><code>receiver</code> â€”â€” ä¸ <code>get</code> æ•æ‰å™¨ç±»ä¼¼ï¼Œä»…ä¸ setter è®¿é—®å™¨å±æ€§ç›¸å…³ã€‚</p></li></ul><p><code>has(target, property)</code></p><ul><li><p><code>target</code> â€”â€” æ˜¯ç›®æ ‡å¯¹è±¡ï¼Œè¢«ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ç»™ <code>new Proxy</code>ï¼Œ</p></li><li><p><code>property</code> â€”â€” å±æ€§åç§°ã€‚</p></li></ul><p><code>apply(target, thisArg, args)</code> æ•æ‰å™¨èƒ½ä½¿ä»£ç†ä»¥å‡½æ•°çš„æ–¹å¼è¢«è°ƒç”¨ï¼š</p><ul><li><code>target</code> æ˜¯ç›®æ ‡å¯¹è±¡ï¼ˆåœ¨ JavaScript ä¸­ï¼Œå‡½æ•°å°±æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼‰ï¼Œ</li><li><code>thisArg</code> æ˜¯ <code>this</code> çš„å€¼ã€‚</li><li><code>args</code> æ˜¯å‚æ•°åˆ—è¡¨ã€‚</li></ul><h3 id="_24-2-reflect" tabindex="-1"><a class="header-anchor" href="#_24-2-reflect"><span>24.2 <strong>Reflect</strong></span></a></h3><p><code>Reflect</code> æ˜¯ä¸€ä¸ªå†…å»ºå¯¹è±¡ï¼Œå¯ç®€åŒ– <code>Proxy</code> çš„åˆ›å»ºã€‚</p><p>å‰é¢æ‰€è®²è¿‡çš„å†…éƒ¨æ–¹æ³•ï¼Œä¾‹å¦‚ <code>[[Get]]</code> å’Œ <code>[[Set]]</code> ç­‰ï¼Œéƒ½åªæ˜¯è§„èŒƒæ€§çš„ï¼Œä¸èƒ½ç›´æ¥è°ƒç”¨ã€‚</p><p><code>Reflect</code> å¯¹è±¡ä½¿è°ƒç”¨è¿™äº›å†…éƒ¨æ–¹æ³•æˆä¸ºäº†å¯èƒ½ã€‚å®ƒçš„æ–¹æ³•æ˜¯å†…éƒ¨æ–¹æ³•çš„æœ€å°åŒ…è£…ã€‚</p><p>ä»¥ä¸‹æ˜¯æ‰§è¡Œç›¸åŒæ“ä½œå’Œ <code>Reflect</code> è°ƒç”¨çš„ç¤ºä¾‹ï¼š</p><table><thead><tr><th style="text-align:left;">æ“ä½œ</th><th style="text-align:left;"><code>Reflect</code> è°ƒç”¨</th><th style="text-align:left;">å†…éƒ¨æ–¹æ³•</th></tr></thead><tbody><tr><td style="text-align:left;"><code>obj[prop]</code></td><td style="text-align:left;"><code>Reflect.get(obj, prop)</code></td><td style="text-align:left;"><code>[[Get]]</code></td></tr><tr><td style="text-align:left;"><code>obj[prop] = value</code></td><td style="text-align:left;"><code>Reflect.set(obj, prop, value)</code></td><td style="text-align:left;"><code>[[Set]]</code></td></tr><tr><td style="text-align:left;"><code>delete obj[prop]</code></td><td style="text-align:left;"><code>Reflect.deleteProperty(obj, prop)</code></td><td style="text-align:left;"><code>[[Delete]]</code></td></tr><tr><td style="text-align:left;"><code>new F(value)</code></td><td style="text-align:left;"><code>Reflect.construct(F, value)</code></td><td style="text-align:left;"><code>[[Construct]]</code></td></tr><tr><td style="text-align:left;">â€¦</td><td style="text-align:left;">â€¦</td><td style="text-align:left;">â€¦</td></tr></tbody></table><p>ä¾‹å¦‚ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> user</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Reflect</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;name&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;John&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">name</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// John</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å°¤å…¶æ˜¯ï¼Œ<code>Reflect</code> å…è®¸æˆ‘ä»¬å°†æ“ä½œç¬¦ï¼ˆ<code>new</code>ï¼Œ<code>delete</code>ï¼Œâ€¦â€¦ï¼‰ä½œä¸ºå‡½æ•°ï¼ˆ<code>Reflect.construct</code>ï¼Œ<code>Reflect.deleteProperty</code>ï¼Œâ€¦â€¦ï¼‰æ‰§è¡Œè°ƒç”¨ã€‚è¿™æ˜¯ä¸€ä¸ªæœ‰è¶£çš„åŠŸèƒ½ï¼Œä½†æ˜¯è¿™é‡Œè¿˜æœ‰ä¸€ç‚¹å¾ˆé‡è¦ã€‚</p><p><strong>å¯¹äºæ¯ä¸ªå¯è¢« <code>Proxy</code> æ•è·çš„å†…éƒ¨æ–¹æ³•ï¼Œåœ¨ <code>Reflect</code> ä¸­éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„æ–¹æ³•ï¼Œå…¶åç§°å’Œå‚æ•°ä¸ <code>Proxy</code> æ•æ‰å™¨ç›¸åŒã€‚</strong></p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>Reflect</code> æ¥å°†æ“ä½œè½¬å‘ç»™åŸå§‹å¯¹è±¡ã€‚</p><p>åœ¨ä¸‹é¢è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæ•æ‰å™¨ <code>get</code> å’Œ <code>set</code> å‡é€æ˜åœ°ï¼ˆå¥½åƒå®ƒä»¬éƒ½ä¸å­˜åœ¨ä¸€æ ·ï¼‰å°†è¯»å–/å†™å…¥æ“ä½œè½¬å‘åˆ°å¯¹è±¡ï¼Œå¹¶æ˜¾ç¤ºä¸€æ¡æ¶ˆæ¯ï¼š</p><p>ä¸€ä¸ª <strong>å¯æ’¤é”€</strong> çš„ä»£ç†æ˜¯å¯ä»¥è¢«ç¦ç”¨çš„ä»£ç†ã€‚</p><p>å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªèµ„æºï¼Œå¹¶ä¸”æƒ³éšæ—¶å…³é—­å¯¹è¯¥èµ„æºçš„è®¿é—®ã€‚</p><p>æˆ‘ä»¬å¯ä»¥åšçš„æ˜¯å°†å®ƒåŒ…è£…æˆå¯ä¸€ä¸ªæ’¤é”€çš„ä»£ç†ï¼Œæ²¡æœ‰ä»»ä½•æ•æ‰å™¨ã€‚è¿™æ ·çš„ä»£ç†ä¼šå°†æ“ä½œè½¬å‘ç»™å¯¹è±¡ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥éšæ—¶å°†å…¶ç¦ç”¨ã€‚</p><p>è¯­æ³•ä¸ºï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">proxy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">revoke</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Proxy</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">revocable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">target</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">handler</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å¯¹ <code>revoke()</code> çš„è°ƒç”¨ä¼šä»ä»£ç†ä¸­åˆ é™¤å¯¹ç›®æ ‡å¯¹è±¡çš„æ‰€æœ‰å†…éƒ¨å¼•ç”¨ï¼Œå› æ­¤å®ƒä»¬ä¹‹é—´å†æ— è¿æ¥ã€‚</p></li></ul><h3 id="_24-3-eval-æ‰§è¡Œä»£ç å­—ç¬¦ä¸²" tabindex="-1"><a class="header-anchor" href="#_24-3-eval-æ‰§è¡Œä»£ç å­—ç¬¦ä¸²"><span>24.3 Evalï¼šæ‰§è¡Œä»£ç å­—ç¬¦ä¸²</span></a></h3><p>è¯­æ³•å¦‚ä¸‹ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> result</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> eval</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">code</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>è°ƒç”¨ <code>eval(code)</code> ä¼šè¿è¡Œä»£ç å­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›æœ€åä¸€æ¡è¯­å¥çš„ç»“æœã€‚</p><ul><li>åœ¨ç°ä»£ JavaScript ç¼–ç¨‹ä¸­ï¼Œå¾ˆå°‘ä½¿ç”¨å®ƒï¼Œé€šå¸¸ä¹Ÿä¸éœ€è¦ä½¿ç”¨å®ƒã€‚</li><li>å¯ä»¥è®¿é—®å¤–éƒ¨å±€éƒ¨å˜é‡ã€‚è¿™è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªä¸å¥½çš„ç¼–ç¨‹ä¹ æƒ¯ã€‚</li><li>è¦åœ¨å…¨å±€ä½œç”¨åŸŸä¸­ <code>eval</code> ä»£ç ï¼Œå¯ä»¥ä½¿ç”¨ <code>window.eval(code)</code> è¿›è¡Œæ›¿ä»£ã€‚</li><li>æ­¤å¤–ï¼Œå¦‚æœä½ çš„ä»£ç éœ€è¦ä»å¤–éƒ¨ä½œç”¨åŸŸè·å–æ•°æ®ï¼Œè¯·ä½¿ç”¨ <code>new Function</code>ï¼Œå¹¶å°†æ•°æ®ä½œä¸ºå‚æ•°ä¼ é€’ç»™å‡½æ•°ã€‚</li></ul><h3 id="_24-4-reference-type-è§£è¯»" tabindex="-1"><a class="header-anchor" href="#_24-4-reference-type-è§£è¯»"><span>24.4 Reference type è§£è¯»</span></a></h3><p>ä»”ç»†çœ‹çš„è¯ï¼Œæˆ‘ä»¬å¯èƒ½æ³¨æ„åˆ° <code>obj.method()</code> è¯­å¥ä¸­çš„ä¸¤ä¸ªæ“ä½œï¼š</p><ol><li>é¦–å…ˆï¼Œç‚¹ <code>&#39;.&#39;</code> å–äº†å±æ€§ <code>obj.method</code> çš„å€¼ã€‚</li><li>æ¥ç€ <code>()</code> æ‰§è¡Œäº†å®ƒã€‚</li></ol><p>é‚£ä¹ˆï¼Œ<code>this</code> çš„ä¿¡æ¯æ˜¯æ€ä¹ˆä»ç¬¬ä¸€éƒ¨åˆ†ä¼ é€’åˆ°ç¬¬äºŒéƒ¨åˆ†çš„å‘¢ï¼Ÿ</p><p>å¦‚æœæˆ‘ä»¬å°†è¿™äº›æ“ä½œæ”¾åœ¨ä¸åŒçš„è¡Œï¼Œ<code>this</code> å¿…å®šæ˜¯ä¼šä¸¢å¤±çš„ï¼š</p><p>Reference Type æ˜¯ ECMA ä¸­çš„ä¸€ä¸ªâ€œè§„èŒƒç±»å‹â€ã€‚æˆ‘ä»¬ä¸èƒ½ç›´æ¥ä½¿ç”¨å®ƒï¼Œä½†å®ƒè¢«ç”¨åœ¨ JavaScript è¯­è¨€å†…éƒ¨ã€‚</p><p>Reference Type çš„å€¼æ˜¯ä¸€ä¸ªä¸‰ä¸ªå€¼çš„ç»„åˆ <code>(base, name, strict)</code>ï¼Œå…¶ä¸­ï¼š</p><ul><li><code>base</code> æ˜¯å¯¹è±¡ã€‚</li><li><code>name</code> æ˜¯å±æ€§åã€‚</li><li><code>strict</code> åœ¨ <code>use strict</code> æ¨¡å¼ä¸‹ä¸º trueã€‚</li></ul><hr><h2 id="_25-æµè§ˆå™¨-æ–‡æ¡£-äº‹ä»¶-æ¥å£" tabindex="-1"><a class="header-anchor" href="#_25-æµè§ˆå™¨-æ–‡æ¡£-äº‹ä»¶-æ¥å£"><span>25. æµè§ˆå™¨ï¼šæ–‡æ¡£ï¼Œäº‹ä»¶ï¼Œæ¥å£</span></a></h2><h3 id="_25-1-document" tabindex="-1"><a class="header-anchor" href="#_25-1-document"><span>25.1 Document</span></a></h3><h4 id="_25-1-1-dom-æ ‘" tabindex="-1"><a class="header-anchor" href="#_25-1-1-dom-æ ‘"><span>25.1.1 DOM æ ‘</span></a></h4><p>HTML/XML æ–‡æ¡£åœ¨æµè§ˆå™¨å†…å‡è¢«è¡¨ç¤ºä¸º DOM æ ‘ã€‚</p><ul><li>æ ‡ç­¾ï¼ˆtagï¼‰æˆä¸ºå…ƒç´ èŠ‚ç‚¹ï¼Œå¹¶å½¢æˆæ–‡æ¡£ç»“æ„ã€‚</li><li>æ–‡æœ¬ï¼ˆtextï¼‰æˆä¸ºæ–‡æœ¬èŠ‚ç‚¹ã€‚</li><li>â€¦â€¦ç­‰ï¼ŒHTML ä¸­çš„æ‰€æœ‰ä¸œè¥¿åœ¨ DOM ä¸­éƒ½æœ‰å®ƒçš„ä½ç½®ï¼Œç”šè‡³å¯¹æ³¨é‡Šä¹Ÿæ˜¯å¦‚æ­¤ã€‚</li></ul><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¼€å‘è€…å·¥å…·æ¥æ£€æŸ¥ï¼ˆinspectï¼‰DOM å¹¶æ‰‹åŠ¨ä¿®æ”¹å®ƒã€‚</p><h4 id="_25-1-2-éå†-dom" tabindex="-1"><a class="header-anchor" href="#_25-1-2-éå†-dom"><span>25.1.2 éå† DOM</span></a></h4><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&lt;html&gt;` = `document.documentElement</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æœ€é¡¶å±‚çš„ document èŠ‚ç‚¹æ˜¯ <code>document.documentElement</code>ã€‚è¿™æ˜¯å¯¹åº” <code>&lt;html&gt;</code> æ ‡ç­¾çš„ DOM èŠ‚ç‚¹ã€‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&lt;body&gt;` = `document.body</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å¦ä¸€ä¸ªè¢«å¹¿æ³›ä½¿ç”¨çš„ DOM èŠ‚ç‚¹æ˜¯ <code>&lt;body&gt;</code> å…ƒç´  â€” <code>document.body</code>ã€‚</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" data-title="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&lt;head&gt;` = `document.head</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><code>&lt;head&gt;</code> æ ‡ç­¾å¯ä»¥é€šè¿‡ <code>document.head</code> è®¿é—®ã€‚</p><p>DOMé›†åˆï¼š<code>childNodes</code> çœ‹èµ·æ¥å°±åƒä¸€ä¸ªæ•°ç»„ã€‚ä½†å®é™…ä¸Šå®ƒå¹¶ä¸æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œè€Œæ˜¯ä¸€ä¸ª <strong>é›†åˆ</strong> â€” ä¸€ä¸ªç±»æ•°ç»„çš„å¯è¿­ä»£å¯¹è±¡ã€‚</p><p>ç»™å®šä¸€ä¸ª DOM èŠ‚ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¯¼èˆªï¼ˆnavigationï¼‰å±æ€§è®¿é—®å…¶ç›´æ¥çš„é‚»å±…ã€‚</p><p>è¿™äº›å±æ€§ä¸»è¦åˆ†ä¸ºä¸¤ç»„ï¼š</p><ul><li>å¯¹äºæ‰€æœ‰èŠ‚ç‚¹ï¼š<code>parentNode</code>ï¼Œ<code>childNodes</code>ï¼Œ<code>firstChild</code>ï¼Œ<code>lastChild</code>ï¼Œ<code>previousSibling</code>ï¼Œ<code>nextSibling</code>ã€‚</li><li>ä»…å¯¹äºå…ƒç´ èŠ‚ç‚¹ï¼š<code>parentElement</code>ï¼Œ<code>children</code>ï¼Œ<code>firstElementChild</code>ï¼Œ<code>lastElementChild</code>ï¼Œ<code>previousElementSibling</code>ï¼Œ<code>nextElementSibling</code>ã€‚</li></ul><h4 id="_25-1-3-æœç´¢-getelement-queryselector" tabindex="-1"><a class="header-anchor" href="#_25-1-3-æœç´¢-getelement-queryselector"><span>25.1.3 æœç´¢ï¼šgetElement*ï¼ŒquerySelector*</span></a></h4><p>æœ‰ 6 ç§ä¸»è¦çš„æ–¹æ³•ï¼Œå¯ä»¥åœ¨ DOM ä¸­æœç´¢å…ƒç´ èŠ‚ç‚¹ï¼š</p><table><thead><tr><th>æ–¹æ³•å</th><th>æœç´¢æ–¹å¼</th><th>å¯ä»¥åœ¨å…ƒç´ ä¸Šè°ƒç”¨ï¼Ÿ</th><th>å®æ—¶çš„ï¼Ÿ</th></tr></thead><tbody><tr><td><code>querySelector</code></td><td>CSS-selector</td><td>âœ”</td><td>-</td></tr><tr><td><code>querySelectorAll</code></td><td>CSS-selector</td><td>âœ”</td><td>-</td></tr><tr><td><code>getElementById</code></td><td><code>id</code></td><td>-</td><td>-</td></tr><tr><td><code>getElementsByName</code></td><td><code>name</code></td><td>-</td><td>âœ”</td></tr><tr><td><code>getElementsByTagName</code></td><td>tag or <code>&#39;*&#39;</code></td><td>âœ”</td><td>âœ”</td></tr><tr><td><code>getElementsByClassName</code></td><td>class</td><td>âœ”</td><td>âœ”</td></tr></tbody></table><p>ç›®å‰ä¸ºæ­¢ï¼Œæœ€å¸¸ç”¨çš„æ˜¯ <code>querySelector</code> å’Œ <code>querySelectorAll</code>ï¼Œä½†æ˜¯ <code>getElement(s)By*</code> å¯èƒ½ä¼šå¶å°”æœ‰ç”¨ï¼Œæˆ–è€…å¯ä»¥åœ¨æ—§è„šæœ¬ä¸­æ‰¾åˆ°ã€‚</p><p>æ­¤å¤–ï¼š</p><ul><li><code>elem.matches(css)</code> ç”¨äºæ£€æŸ¥ <code>elem</code> ä¸ç»™å®šçš„ CSS é€‰æ‹©å™¨æ˜¯å¦åŒ¹é…ã€‚</li><li><code>elem.closest(css)</code> ç”¨äºæŸ¥æ‰¾ä¸ç»™å®š CSS é€‰æ‹©å™¨ç›¸åŒ¹é…çš„æœ€è¿‘çš„ç¥–å…ˆã€‚<code>elem</code> æœ¬èº«ä¹Ÿä¼šè¢«æ£€æŸ¥ã€‚</li></ul><p>è®©æˆ‘ä»¬åœ¨è¿™é‡Œæä¸€ä¸‹å¦ä¸€ç§ç”¨æ¥æ£€æŸ¥å­çº§ä¸çˆ¶çº§ä¹‹é—´å…³ç³»çš„æ–¹æ³•ï¼Œå› ä¸ºå®ƒæœ‰æ—¶å¾ˆæœ‰ç”¨ï¼š</p><ul><li>å¦‚æœ <code>elemB</code> åœ¨ <code>elemA</code> å†…ï¼ˆ<code>elemA</code> çš„åä»£ï¼‰æˆ–è€… <code>elemA==elemB</code>ï¼Œ<code>elemA.contains(elemB)</code> å°†è¿”å› trueã€‚</li></ul><h4 id="_25-1-4-èŠ‚ç‚¹å±æ€§-type-tag-å’Œ-content" tabindex="-1"><a class="header-anchor" href="#_25-1-4-èŠ‚ç‚¹å±æ€§-type-tag-å’Œ-content"><span>25.1.4 èŠ‚ç‚¹å±æ€§ï¼štypeï¼Œtag å’Œ content</span></a></h4><ul><li><p><code>nodeType</code></p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒæ¥æŸ¥çœ‹èŠ‚ç‚¹æ˜¯æ–‡æœ¬èŠ‚ç‚¹è¿˜æ˜¯å…ƒç´ èŠ‚ç‚¹ã€‚å®ƒå…·æœ‰ä¸€ä¸ªæ•°å€¼å‹å€¼ï¼ˆnumeric valueï¼‰ï¼š<code>1</code> è¡¨ç¤ºå…ƒç´ ï¼Œ<code>3</code> è¡¨ç¤ºæ–‡æœ¬èŠ‚ç‚¹ï¼Œå…¶ä»–ä¸€äº›åˆ™ä»£è¡¨å…¶ä»–èŠ‚ç‚¹ç±»å‹ã€‚åªè¯»ã€‚</p></li><li><p><code>nodeName/tagName</code></p><p>ç”¨äºå…ƒç´ åï¼Œæ ‡ç­¾åï¼ˆé™¤äº† XML æ¨¡å¼ï¼Œéƒ½è¦å¤§å†™ï¼‰ã€‚å¯¹äºéå…ƒç´ èŠ‚ç‚¹ï¼Œ<code>nodeName</code> æè¿°äº†å®ƒæ˜¯ä»€ä¹ˆã€‚åªè¯»ã€‚</p><ul><li><code>tagName</code> å±æ€§ä»…é€‚ç”¨äº <code>Element</code> èŠ‚ç‚¹ã€‚</li><li>nodeNameæ˜¯ä¸ºä»»æ„Nodeå®šä¹‰çš„ï¼š <ul><li>å¯¹äºå…ƒç´ ï¼Œå®ƒçš„æ„ä¹‰ä¸ <code>tagName</code> ç›¸åŒã€‚</li><li>å¯¹äºå…¶ä»–èŠ‚ç‚¹ç±»å‹ï¼ˆtextï¼Œcomment ç­‰ï¼‰ï¼Œå®ƒæ‹¥æœ‰ä¸€ä¸ªå¯¹åº”èŠ‚ç‚¹ç±»å‹çš„å­—ç¬¦ä¸²ã€‚</li></ul></li></ul></li><li><p><code>innerHTML</code></p><p>å…ƒç´ çš„ HTML å†…å®¹ã€‚å¯ä»¥è¢«ä¿®æ”¹ã€‚ä»…å¯¹å…ƒç´ èŠ‚ç‚¹æœ‰æ•ˆã€‚</p></li><li><p><code>outerHTML</code></p><p>å…ƒç´ çš„å®Œæ•´ HTMLã€‚å¯¹ <code>elem.outerHTML</code> çš„å†™å…¥æ“ä½œä¸ä¼šè§¦åŠ <code>elem</code> æœ¬èº«ã€‚è€Œæ˜¯åœ¨å¤–éƒ¨ä¸Šä¸‹æ–‡ä¸­å°†å…¶æ›¿æ¢ä¸ºæ–°çš„ HTMLã€‚</p><p>åœ¨ <code>div.outerHTML=...</code> ä¸­å‘ç”Ÿçš„äº‹æƒ…æ˜¯ï¼š</p><ul><li><code>div</code> è¢«ä»æ–‡æ¡£ï¼ˆdocumentï¼‰ä¸­ç§»é™¤ã€‚</li><li>å¦ä¸€ä¸ª HTML ç‰‡æ®µ <code>&lt;p&gt;A new element&lt;/p&gt;</code> è¢«æ’å…¥åˆ°å…¶ä½ç½®ä¸Šã€‚</li><li><code>div</code> ä»æ‹¥æœ‰å…¶æ—§çš„å€¼ã€‚æ–°çš„ HTML æ²¡æœ‰è¢«èµ‹å€¼ç»™ä»»ä½•å˜é‡ã€‚</li></ul></li><li><p><code>nodeValue/data</code></p><p>éå…ƒç´ èŠ‚ç‚¹ï¼ˆæ–‡æœ¬ã€æ³¨é‡Šï¼‰çš„å†…å®¹ã€‚ä¸¤è€…å‡ ä¹ä¸€æ ·ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ <code>data</code>ã€‚å¯ä»¥è¢«ä¿®æ”¹ã€‚</p></li><li><p><code>textContent</code></p><p>å…ƒç´ å†…çš„æ–‡æœ¬ï¼šHTML å‡å»æ‰€æœ‰ <code>&lt;tags&gt;</code>ã€‚å†™å…¥æ–‡æœ¬ä¼šå°†æ–‡æœ¬æ”¾å…¥å…ƒç´ å†…ï¼Œæ‰€æœ‰ç‰¹æ®Šå­—ç¬¦å’Œæ ‡ç­¾å‡è¢«è§†ä¸ºæ–‡æœ¬ã€‚å¯ä»¥å®‰å…¨åœ°æ’å…¥ç”¨æˆ·ç”Ÿæˆçš„æ–‡æœ¬ï¼Œå¹¶é˜²æ­¢ä¸å¿…è¦çš„ HTML æ’å…¥ã€‚</p></li><li><p><code>hidden</code></p><p>å½“è¢«è®¾ç½®ä¸º <code>true</code> æ—¶ï¼Œæ‰§è¡Œä¸ CSS <code>display:none</code> ç›¸åŒçš„äº‹ã€‚</p></li></ul><p>DOM èŠ‚ç‚¹è¿˜å…·æœ‰å…¶ä»–å±æ€§ï¼Œå…·ä½“æœ‰å“ªäº›å±æ€§åˆ™å–å†³äºå®ƒä»¬çš„ç±»ã€‚ä¾‹å¦‚ï¼Œ<code>&lt;input&gt;</code> å…ƒç´ ï¼ˆ<code>HTMLInputElement</code>ï¼‰æ”¯æŒ <code>value</code>ï¼Œ<code>type</code>ï¼Œè€Œ <code>&lt;a&gt;</code> å…ƒç´ ï¼ˆ<code>HTMLAnchorElement</code>ï¼‰åˆ™æ”¯æŒ <code>href</code> ç­‰ã€‚å¤§å¤šæ•°æ ‡å‡† HTML ç‰¹æ€§ï¼ˆattributeï¼‰éƒ½å…·æœ‰ç›¸åº”çš„ DOM å±æ€§ã€‚</p><h4 id="_25-1-5-ç‰¹æ€§å’Œå±æ€§-attributes-and-properties" tabindex="-1"><a class="header-anchor" href="#_25-1-5-ç‰¹æ€§å’Œå±æ€§-attributes-and-properties"><span>25.1.5 ç‰¹æ€§å’Œå±æ€§ï¼ˆAttributes and propertiesï¼‰</span></a></h4><ul><li><p>ç‰¹æ€§ï¼ˆattributeï¼‰â€” å†™åœ¨ HTML ä¸­çš„å†…å®¹ã€‚</p><p>HTML ç‰¹æ€§æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹å¾ï¼š</p><ul><li>å®ƒä»¬çš„åå­—æ˜¯å¤§å°å†™ä¸æ•æ„Ÿçš„ï¼ˆ<code>id</code> ä¸ <code>ID</code> ç›¸åŒï¼‰ã€‚</li><li>å®ƒä»¬çš„å€¼æ€»æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„ã€‚</li></ul></li><li><p>å±æ€§ï¼ˆpropertyï¼‰â€” DOM å¯¹è±¡ä¸­çš„å†…å®¹ã€‚</p><p>DOM å±æ€§å’Œæ–¹æ³•çš„è¡Œä¸ºå°±åƒå¸¸è§„çš„ Javascript å¯¹è±¡ä¸€æ ·ï¼š</p><ul><li><p>å®ƒä»¬å¯ä»¥æœ‰å¾ˆå¤šå€¼ã€‚</p></li><li><p>å®ƒä»¬æ˜¯å¤§å°å†™æ•æ„Ÿçš„ï¼ˆè¦å†™æˆ <code>elem.nodeType</code>ï¼Œè€Œä¸æ˜¯ <code>elem.NoDeTyPe</code>ï¼‰ã€‚</p></li></ul></li><li><p>æ”¹å˜ç‰¹æ€§å€¼ä¼šæ›´æ–°å±æ€§ã€‚</p></li><li><p>ä½†æ˜¯å±æ€§çš„æ›´æ”¹ä¸ä¼šå½±å“ç‰¹æ€§ã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">input</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  let input = document.querySelector(&#39;input&#39;);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  // ç‰¹æ€§ =&gt; å±æ€§</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  input.setAttribute(&#39;value&#39;, &#39;text&#39;);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  alert(input.value); // text</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  // è¿™ä¸ªæ“ä½œæ— æ•ˆï¼Œå±æ€§ =&gt; ç‰¹æ€§</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  input.value = &#39;newValue&#39;;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  alert(input.getAttribute(&#39;value&#39;)); // textï¼ˆæ²¡æœ‰è¢«æ›´æ–°ï¼ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p>ç®€ç•¥çš„å¯¹æ¯”ï¼š</p><table><thead><tr><th style="text-align:left;"></th><th style="text-align:left;">å±æ€§</th><th style="text-align:left;">ç‰¹æ€§</th></tr></thead><tbody><tr><td style="text-align:left;">ç±»å‹</td><td style="text-align:left;">ä»»ä½•å€¼ï¼Œæ ‡å‡†çš„å±æ€§å…·æœ‰è§„èŒƒä¸­æè¿°çš„ç±»å‹</td><td style="text-align:left;">å­—ç¬¦ä¸²</td></tr><tr><td style="text-align:left;">åå­—</td><td style="text-align:left;">åå­—ï¼ˆnameï¼‰æ˜¯å¤§å°å†™æ•æ„Ÿçš„</td><td style="text-align:left;">åå­—ï¼ˆnameï¼‰æ˜¯å¤§å°å†™ä¸æ•æ„Ÿçš„</td></tr></tbody></table><p>æ“ä½œç‰¹æ€§çš„æ–¹æ³•ï¼š</p><ul><li><code>elem.hasAttribute(name)</code> â€” æ£€æŸ¥æ˜¯å¦å­˜åœ¨è¿™ä¸ªç‰¹æ€§ã€‚</li><li><code>elem.getAttribute(name)</code> â€” è·å–è¿™ä¸ªç‰¹æ€§å€¼ã€‚</li><li><code>elem.setAttribute(name, value)</code> â€” è®¾ç½®è¿™ä¸ªç‰¹æ€§å€¼ã€‚</li><li><code>elem.removeAttribute(name)</code> â€” ç§»é™¤è¿™ä¸ªç‰¹æ€§ã€‚</li><li><code>elem.attributes</code> â€” æ‰€æœ‰ç‰¹æ€§çš„é›†åˆã€‚</li></ul><p>åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæœ€å¥½ä½¿ç”¨ DOM å±æ€§ã€‚ä»…å½“ DOM å±æ€§æ— æ³•æ»¡è¶³å¼€å‘éœ€æ±‚ï¼Œå¹¶ä¸”æˆ‘ä»¬çœŸçš„éœ€è¦ç‰¹æ€§æ—¶ï¼Œæ‰ä½¿ç”¨ç‰¹æ€§ï¼Œä¾‹å¦‚ï¼š</p><ul><li><p>æˆ‘ä»¬éœ€è¦ä¸€ä¸ªéæ ‡å‡†çš„ç‰¹æ€§ã€‚ä½†æ˜¯å¦‚æœå®ƒä»¥ <code>data-</code> å¼€å¤´ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥ä½¿ç”¨ <code>dataset</code>ã€‚</p><p><strong>æ‰€æœ‰ä»¥ â€œdata-â€ å¼€å¤´çš„ç‰¹æ€§å‡è¢«ä¿ç•™ä¾›ç¨‹åºå‘˜ä½¿ç”¨ã€‚å®ƒä»¬å¯åœ¨ <code>dataset</code> å±æ€§ä¸­ä½¿ç”¨ã€‚</strong></p><p>ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ª <code>elem</code> æœ‰ä¸€ä¸ªåä¸º <code>&quot;data-about&quot;</code> çš„ç‰¹æ€§ï¼Œé‚£ä¹ˆå¯ä»¥é€šè¿‡ <code>elem.dataset.about</code> å–åˆ°å®ƒã€‚</p><p>åƒ <code>data-order-state</code> è¿™æ ·çš„å¤šè¯ç‰¹æ€§å¯ä»¥ä»¥é©¼å³°å¼è¿›è¡Œè°ƒç”¨ï¼š<code>dataset.orderState</code>ã€‚</p></li><li><p>å¯¹åº”çš„ DOM å±æ€§å¯èƒ½ä¸åŒï¼Œä¾‹å¦‚ <code>href</code> å±æ€§ä¸€ç›´æ˜¯ä¸€ä¸ª <strong>å®Œæ•´çš„</strong> URL</p><p>å¦‚æœæˆ‘ä»¬éœ€è¦ <code>href</code> ç‰¹æ€§çš„å€¼ï¼Œæˆ–è€…å…¶ä»–ä¸ HTML ä¸­æ‰€å†™çš„å®Œå…¨ç›¸åŒçš„ç‰¹æ€§ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ <code>getAttribute</code>ã€‚</p></li></ul><h4 id="_25-1-6-ä¿®æ”¹æ–‡æ¡£-document" tabindex="-1"><a class="header-anchor" href="#_25-1-6-ä¿®æ”¹æ–‡æ¡£-document"><span>25.1.6 ä¿®æ”¹æ–‡æ¡£ï¼ˆdocumentï¼‰</span></a></h4><ul><li><p>åˆ›å»ºæ–°èŠ‚ç‚¹çš„æ–¹æ³•ï¼š</p><ul><li><code>document.createElement(tag)</code> â€” ç”¨ç»™å®šçš„æ ‡ç­¾åˆ›å»ºä¸€ä¸ªå…ƒç´ èŠ‚ç‚¹ï¼Œ</li><li><code>document.createTextNode(value)</code> â€” åˆ›å»ºä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹ï¼ˆå¾ˆå°‘ä½¿ç”¨ï¼‰ï¼Œ</li><li><code>elem.cloneNode(deep)</code> â€” å…‹éš†å…ƒç´ ï¼Œå¦‚æœ <code>deep==true</code> åˆ™ä¸å…¶åä»£ä¸€èµ·å…‹éš†ã€‚</li></ul></li><li><p>æ’å…¥å’Œç§»é™¤èŠ‚ç‚¹çš„æ–¹æ³•ï¼š</p><ul><li><code>node.append(...nodes or strings)</code> â€” åœ¨ <code>node</code> æœ«å°¾æ’å…¥ï¼Œ</li><li><code>node.prepend(...nodes or strings)</code> â€” åœ¨ <code>node</code> å¼€å¤´æ’å…¥ï¼Œ</li><li><code>node.before(...nodes or strings)</code> â€” åœ¨ <code>node</code> ä¹‹å‰æ’å…¥ï¼Œ</li><li><code>node.after(...nodes or strings)</code> â€” åœ¨ <code>node</code> ä¹‹åæ’å…¥ï¼Œ</li><li><code>node.replaceWith(...nodes or strings)</code> â€” æ›¿æ¢ <code>node</code>ã€‚</li><li><code>node.remove()</code> â€” ç§»é™¤ <code>node</code>ã€‚</li></ul><p>æ–‡æœ¬å­—ç¬¦ä¸²è¢«â€œä½œä¸ºæ–‡æœ¬â€æ’å…¥ã€‚</p></li><li><p>è¿™é‡Œè¿˜æœ‰â€œæ—§å¼â€çš„æ–¹æ³•ï¼š</p><ul><li><code>parent.appendChild(node)</code></li><li><code>parent.insertBefore(node, nextSibling)</code></li><li><code>parent.removeChild(node)</code></li><li><code>parent.replaceChild(newElem, node)</code></li></ul><p>è¿™äº›æ–¹æ³•éƒ½è¿”å› <code>node</code>ã€‚</p></li><li><p>åœ¨ <code>html</code> ä¸­ç»™å®šä¸€äº› HTMLï¼Œ<code>elem.insertAdjacentHTML(where, html)</code> ä¼šæ ¹æ® <code>where</code> çš„å€¼æ¥æ’å…¥å®ƒï¼š</p><ul><li><code>&quot;beforebegin&quot;</code> â€” å°† <code>html</code> æ’å…¥åˆ° <code>elem</code> å‰é¢ï¼Œ</li><li><code>&quot;afterbegin&quot;</code> â€” å°† <code>html</code> æ’å…¥åˆ° <code>elem</code> çš„å¼€å¤´ï¼Œ</li><li><code>&quot;beforeend&quot;</code> â€” å°† <code>html</code> æ’å…¥åˆ° <code>elem</code> çš„æœ«å°¾ï¼Œ</li><li><code>&quot;afterend&quot;</code> â€” å°† <code>html</code> æ’å…¥åˆ° <code>elem</code> åé¢ã€‚</li></ul></li></ul><p>å¦å¤–ï¼Œè¿˜æœ‰ç±»ä¼¼çš„æ–¹æ³•ï¼Œ<code>elem.insertAdjacentText</code> å’Œ <code>elem.insertAdjacentElement</code>ï¼Œå®ƒä»¬ä¼šæ’å…¥æ–‡æœ¬å­—ç¬¦ä¸²å’Œå…ƒç´ ï¼Œä½†å¾ˆå°‘ä½¿ç”¨ã€‚</p><ul><li><p>è¦åœ¨é¡µé¢åŠ è½½å®Œæˆä¹‹å‰å°† HTML é™„åŠ åˆ°é¡µé¢ï¼š</p><ul><li><code>document.write(html)</code></li></ul><p>é¡µé¢åŠ è½½å®Œæˆåï¼Œè¿™æ ·çš„è°ƒç”¨å°†ä¼šæ“¦é™¤æ–‡æ¡£ã€‚å¤šè§äºæ—§è„šæœ¬ã€‚</p></li></ul><h4 id="_25-1-7-æ ·å¼å’Œç±»" tabindex="-1"><a class="header-anchor" href="#_25-1-7-æ ·å¼å’Œç±»"><span>25.1.7 æ ·å¼å’Œç±»</span></a></h4><p>è¦ç®¡ç† classï¼Œæœ‰ä¸¤ä¸ª DOM å±æ€§ï¼š</p><ul><li><code>className</code> â€” å­—ç¬¦ä¸²å€¼ï¼Œå¯ä»¥å¾ˆå¥½åœ°ç®¡ç†æ•´ä¸ªç±»çš„é›†åˆã€‚</li><li><code>classList</code> â€” å…·æœ‰ <code>add/remove/toggle/contains</code> æ–¹æ³•çš„å¯¹è±¡ï¼Œå¯ä»¥å¾ˆå¥½åœ°æ”¯æŒå•ä¸ªç±»ã€‚ <ul><li><code>elem.classList.add/remove(class)</code> â€” æ·»åŠ /ç§»é™¤ç±»ã€‚</li><li><code>elem.classList.toggle(class)</code> â€” å¦‚æœç±»ä¸å­˜åœ¨å°±æ·»åŠ ç±»ï¼Œå­˜åœ¨å°±ç§»é™¤å®ƒã€‚</li><li><code>elem.classList.contains(class)</code> â€” æ£€æŸ¥ç»™å®šç±»ï¼Œè¿”å› <code>true/false</code>ã€‚</li></ul></li></ul><p>è¦æ”¹å˜æ ·å¼ï¼š</p><ul><li><code>style</code> å±æ€§æ˜¯å…·æœ‰é©¼å³°ï¼ˆcamelCasedï¼‰æ ·å¼çš„å¯¹è±¡ã€‚å¯¹å…¶è¿›è¡Œè¯»å–å’Œä¿®æ”¹ä¸ä¿®æ”¹ <code>&quot;style&quot;</code> ç‰¹æ€§ï¼ˆattributeï¼‰ä¸­çš„å„ä¸ªå±æ€§å…·æœ‰ç›¸åŒçš„æ•ˆæœã€‚è¦äº†è§£å¦‚ä½•åº”ç”¨ <code>important</code> å’Œå…¶ä»–ç‰¹æ®Šå†…å®¹ â€” åœ¨ <a href="https://developer.mozilla.org/zh/docs/Web/API/CSSStyleDeclaration" target="_blank" rel="noopener noreferrer">MDN</a> ä¸­æœ‰ä¸€ä¸ªæ–¹æ³•åˆ—è¡¨ã€‚</li><li><code>style.cssText</code> å±æ€§å¯¹åº”äºæ•´ä¸ª <code>&quot;style&quot;</code> ç‰¹æ€§ï¼ˆattributeï¼‰ï¼Œå³å®Œæ•´çš„æ ·å¼å­—ç¬¦ä¸²ã€‚</li></ul><p>è¦è¯»å–å·²è§£æçš„ï¼ˆresolvedï¼‰æ ·å¼ï¼ˆå¯¹äºæ‰€æœ‰ç±»ï¼Œåœ¨åº”ç”¨æ‰€æœ‰ CSS å¹¶è®¡ç®—æœ€ç»ˆå€¼ä¹‹åï¼‰ï¼š</p><ul><li><p><code>getComputedStyle(elem, [pseudo])</code> è¿”å›ä¸ <code>style</code> å¯¹è±¡ç±»ä¼¼çš„ï¼Œä¸”åŒ…å«äº†æ‰€æœ‰ç±»çš„å¯¹è±¡ã€‚åªè¯»ã€‚</p><p><strong><code>getComputedStyle</code> éœ€è¦å®Œæ•´çš„å±æ€§å</strong></p><p>æˆ‘ä»¬åº”è¯¥æ€»æ˜¯ä½¿ç”¨æˆ‘ä»¬æƒ³è¦çš„ç¡®åˆ‡çš„å±æ€§ï¼Œä¾‹å¦‚ <code>paddingLeft</code>ã€<code>marginTop</code> æˆ– <code>borderTopWidth</code>ã€‚å¦åˆ™ï¼Œå°±ä¸èƒ½ä¿è¯æ­£ç¡®çš„ç»“æœã€‚</p><p>è¯­æ³•å¦‚ä¸‹ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">getComputedStyle</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">element</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, [</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">pseudo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><p>element</p><p>éœ€è¦è¢«è¯»å–æ ·å¼å€¼çš„å…ƒç´ ã€‚</p></li><li><p>pseudo</p><p>ä¼ªå…ƒç´ ï¼ˆå¦‚æœéœ€è¦ï¼‰ï¼Œä¾‹å¦‚ <code>::before</code>ã€‚ç©ºå­—ç¬¦ä¸²æˆ–æ— å‚æ•°åˆ™æ„å‘³ç€å…ƒç´ æœ¬èº«ã€‚</p></li></ul></li></ul><h4 id="_25-1-8-å…ƒç´ å¤§å°å’Œæ»šåŠ¨" tabindex="-1"><a class="header-anchor" href="#_25-1-8-å…ƒç´ å¤§å°å’Œæ»šåŠ¨"><span>25.1.8 å…ƒç´ å¤§å°å’Œæ»šåŠ¨</span></a></h4><p>å…ƒç´ å…·æœ‰ä»¥ä¸‹å‡ ä½•å±æ€§ï¼š</p><ul><li><code>offsetParent</code> â€” æ˜¯æœ€æ¥è¿‘çš„ CSS å®šä½çš„ç¥–å…ˆï¼Œæˆ–è€…æ˜¯ <code>td</code>ï¼Œ<code>th</code>ï¼Œ<code>table</code>ï¼Œ<code>body</code>ã€‚</li><li><code>offsetLeft/offsetTop</code> â€” æ˜¯ç›¸å¯¹äº <code>offsetParent</code> çš„å·¦ä¸Šè§’è¾¹ç¼˜çš„åæ ‡ã€‚</li><li><code>offsetWidth/offsetHeight</code> â€”è‡ªèº«å®Œæ•´å¤§å°ï¼Œè¾¹æ¡†ï¼ˆborderï¼‰å°ºå¯¸è®¡ç®—åœ¨å†…ã€‚</li><li><code>clientLeft/clientTop</code> â€” è¾¹æ¡†çš„å®½åº¦ï¼Œ <code>clientLeft</code> ä¹ŸåŒ…æ‹¬æ»šåŠ¨æ¡çš„å®½åº¦ã€‚</li><li><code>clientWidth/clientHeight</code> â€” å†…å®¹çš„ width/heightï¼ŒåŒ…æ‹¬ paddingï¼Œä½†ä¸åŒ…æ‹¬æ»šåŠ¨æ¡ï¼ˆscrollbarï¼‰ã€‚</li><li><code>scrollWidth/scrollHeight</code> â€” å†…å®¹çš„ width/heightï¼Œå°±åƒ <code>clientWidth/clientHeight</code> ä¸€æ ·ï¼Œä½†è¿˜åŒ…æ‹¬å…ƒç´ çš„æ»šåŠ¨å‡ºçš„ä¸å¯è§çš„éƒ¨åˆ†ã€‚</li><li><code>scrollLeft/scrollTop</code> â€” ä»å…ƒç´ çš„å·¦ä¸Šè§’å¼€å§‹ï¼Œæ»šåŠ¨å‡ºå…ƒç´ çš„ä¸ŠåŠéƒ¨åˆ†çš„ width/heightã€‚</li></ul><p>é™¤äº† <code>scrollLeft/scrollTop</code> å¤–ï¼Œæ‰€æœ‰å±æ€§éƒ½æ˜¯åªè¯»çš„ã€‚å¦‚æœæˆ‘ä»¬ä¿®æ”¹ <code>scrollLeft/scrollTop</code>ï¼Œæµè§ˆå™¨ä¼šæ»šåŠ¨å¯¹åº”çš„å…ƒç´ ã€‚</p><h4 id="_25-1-9-window-å¤§å°å’Œæ»šåŠ¨" tabindex="-1"><a class="header-anchor" href="#_25-1-9-window-å¤§å°å’Œæ»šåŠ¨"><span>25.1.9 <strong>Window</strong> å¤§å°å’Œæ»šåŠ¨</span></a></h4><ul><li><p>æ–‡æ¡£å¯è§éƒ¨åˆ†çš„ width/heightï¼ˆå†…å®¹åŒºåŸŸçš„ width/heightï¼‰ï¼š<code>document.documentElement.clientWidth/clientHeight</code></p><p>å¦‚æœè¿™é‡Œå­˜åœ¨ä¸€ä¸ªæ»šåŠ¨æ¡ï¼Œé‚£ä¹ˆ <code>clientWidth/clientHeight</code> ä¼šæä¾›æ²¡æœ‰æ»šåŠ¨æ¡ï¼ˆå‡å»å®ƒï¼‰çš„ width/heightã€‚æ¢å¥è¯è¯´ï¼Œå®ƒä»¬è¿”å›çš„æ˜¯å¯ç”¨äºå†…å®¹çš„æ–‡æ¡£çš„å¯è§éƒ¨åˆ†çš„ width/heightã€‚</p><p><code>window.innerWidth/innerHeight</code> åŒ…æ‹¬äº†æ»šåŠ¨æ¡ã€‚</p></li><li><p>æ•´ä¸ªæ–‡æ¡£çš„ width/heightï¼Œå…¶ä¸­åŒ…æ‹¬æ»šåŠ¨å‡ºå»çš„éƒ¨åˆ†ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> scrollHeight</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> Math</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">max</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  document</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">body</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">scrollHeight</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">document</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">documentElement</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">scrollHeight</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  document</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">body</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">offsetHeight</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">document</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">documentElement</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">offsetHeight</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  document</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">body</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">clientHeight</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">document</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">documentElement</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">clientHeight</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p>æ»šåŠ¨ï¼š</p><ul><li>è¯»å–å½“å‰çš„æ»šåŠ¨ï¼š<code>window.pageYOffset/pageXOffset</code>ã€‚</li><li>æ›´æ”¹å½“å‰çš„æ»šåŠ¨ï¼š <ul><li><code>window.scrollTo(pageX,pageY)</code> â€” ç»å¯¹åæ ‡ï¼Œ</li><li><code>window.scrollBy(x,y)</code> â€” ç›¸å¯¹å½“å‰ä½ç½®è¿›è¡Œæ»šåŠ¨ï¼Œ</li><li><code>elem.scrollIntoView(top)</code> â€” æ»šåŠ¨ä»¥ä½¿ <code>elem</code> å¯è§ï¼ˆ<code>elem</code> ä¸çª—å£çš„é¡¶éƒ¨/åº•éƒ¨å¯¹é½ï¼‰ã€‚</li></ul></li></ul><h4 id="_25-1-10-åæ ‡" tabindex="-1"><a class="header-anchor" href="#_25-1-10-åæ ‡"><span>25.1.10 åæ ‡</span></a></h4><ol><li><p>ç›¸å¯¹äºçª—å£â€” ç±»ä¼¼äº`position:fixed``ï¼Œä»çª—å£çš„é¡¶éƒ¨/å·¦ä¾§è¾¹ç¼˜è®¡ç®—å¾—å‡ºã€‚</p><ul><li>æˆ‘ä»¬å°†è¿™äº›åæ ‡è¡¨ç¤ºä¸º <code>clientX/clientY</code>ï¼Œå½“æˆ‘ä»¬ç ”ç©¶äº‹ä»¶å±æ€§æ—¶ï¼Œå°±ä¼šæ˜ç™½ä¸ºä»€ä¹ˆä½¿ç”¨è¿™ç§åç§°æ¥è¡¨ç¤ºåæ ‡ã€‚</li></ul></li><li><p>ç›¸å¯¹äºæ–‡æ¡£â€” ä¸æ–‡æ¡£æ ¹ï¼ˆdocument rootï¼‰ä¸­çš„<code>position:absolute</code>ç±»ä¼¼ï¼Œä»æ–‡æ¡£çš„é¡¶éƒ¨/å·¦ä¾§è¾¹ç¼˜è®¡ç®—å¾—å‡ºã€‚</p><ul><li>æˆ‘ä»¬å°†å®ƒä»¬è¡¨ç¤ºä¸º <code>pageX/pageY</code>ã€‚</li></ul></li></ol><p>é¡µé¢ä¸Šçš„ä»»ä½•ç‚¹éƒ½æœ‰åæ ‡ï¼š</p><ol><li>ç›¸å¯¹äºçª—å£çš„åæ ‡ â€” <code>elem.getBoundingClientRect()</code>ã€‚</li><li>ç›¸å¯¹äºæ–‡æ¡£çš„åæ ‡ â€” <code>elem.getBoundingClientRect()</code> åŠ ä¸Šå½“å‰é¡µé¢æ»šåŠ¨ã€‚</li></ol><p>æ–¹æ³• <code>elem.getBoundingClientRect()</code> è¿”å›æœ€å°çŸ©å½¢çš„çª—å£åæ ‡ï¼Œè¯¥çŸ©å½¢å°† <code>elem</code> ä½œä¸ºå†…å»º <a href="https://www.w3.org/TR/geometry-1/#domrect" target="_blank" rel="noopener noreferrer">DOMRect</a> ç±»çš„å¯¹è±¡ã€‚</p><p>ä¸»è¦çš„ <code>DOMRect</code> å±æ€§ï¼š</p><ul><li><code>x/y</code> â€” çŸ©å½¢åŸç‚¹ç›¸å¯¹äºçª—å£çš„ X/Y åæ ‡ï¼Œ</li><li><code>width/height</code> â€” çŸ©å½¢çš„ width/heightï¼ˆå¯ä»¥ä¸ºè´Ÿï¼‰ã€‚</li></ul><p>æ­¤å¤–ï¼Œè¿˜æœ‰æ´¾ç”Ÿï¼ˆderivedï¼‰å±æ€§ï¼š</p><ul><li><code>top/bottom</code> â€” é¡¶éƒ¨/åº•éƒ¨çŸ©å½¢è¾¹ç¼˜çš„ Y åæ ‡ï¼Œ</li><li><code>left/right</code> â€” å·¦/å³çŸ©å½¢è¾¹ç¼˜çš„ X åæ ‡ã€‚</li></ul><hr><h3 id="_25-2-äº‹ä»¶ç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#_25-2-äº‹ä»¶ç®€ä»‹"><span>25.2 äº‹ä»¶ç®€ä»‹</span></a></h3><h4 id="_25-2-1-æµè§ˆå™¨äº‹ä»¶ç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#_25-2-1-æµè§ˆå™¨äº‹ä»¶ç®€ä»‹"><span>25.2.1 æµè§ˆå™¨äº‹ä»¶ç®€ä»‹</span></a></h4><p><strong>äº‹ä»¶</strong> æ˜¯æŸäº‹å‘ç”Ÿçš„ä¿¡å·ã€‚æ‰€æœ‰çš„ DOM èŠ‚ç‚¹éƒ½ç”Ÿæˆè¿™æ ·çš„ä¿¡å·ï¼ˆä½†äº‹ä»¶ä¸ä»…é™äº DOMï¼‰ã€‚</p><p><strong>é™Œç”Ÿçš„äº‹ä»¶ç±»å‹:</strong></p><p><code>touchstart</code>äº‹ä»¶ï¼šå½“æ‰‹æŒ‡è§¦æ‘¸å±å¹•æ—¶å€™è§¦å‘ï¼Œå³ä½¿å·²ç»æœ‰ä¸€ä¸ªæ‰‹æŒ‡æ”¾åœ¨å±å¹•ä¸Šä¹Ÿä¼šè§¦å‘ã€‚</p><p><code>touchmove</code>äº‹ä»¶ï¼šå½“æ‰‹æŒ‡åœ¨å±å¹•ä¸Šæ»‘åŠ¨çš„æ—¶å€™è¿ç»­åœ°è§¦å‘ã€‚åœ¨è¿™ä¸ªäº‹ä»¶å‘ç”ŸæœŸé—´ï¼Œè°ƒç”¨preventDefault()äº‹ä»¶å¯ä»¥é˜»æ­¢æ»šåŠ¨ã€‚</p><p><code>touchend</code>äº‹ä»¶ï¼šå½“æ‰‹æŒ‡ä»å±å¹•ä¸Šç¦»å¼€çš„æ—¶å€™è§¦å‘ã€‚</p><h4 id="_25-2-2-è®¿é—®å…ƒç´ -this" tabindex="-1"><a class="header-anchor" href="#_25-2-2-è®¿é—®å…ƒç´ -this"><span>25.2.2 <strong>è®¿é—®å…ƒç´ ï¼šthis</strong></span></a></h4><p>å¤„ç†ç¨‹åºä¸­çš„ <code>this</code> çš„å€¼æ˜¯å¯¹åº”çš„å…ƒç´ ã€‚å°±æ˜¯å¤„ç†ç¨‹åºæ‰€åœ¨çš„é‚£ä¸ªå…ƒç´ ã€‚</p><p>ä¸‹é¢è¿™è¡Œä»£ç ä¸­çš„ <code>button</code> ä½¿ç”¨ <code>this.innerHTML</code> æ¥æ˜¾ç¤ºå®ƒçš„å†…å®¹ï¼š</p><div class="language-markup line-numbers-mode" data-highlighter="shiki" data-ext="markup" data-title="markup" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&lt;button onclick=&quot;alert(this.innerHTML)&quot;&gt;Click me&lt;/button&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>å› ä¸ºè¿™é‡Œåªæœ‰ä¸€ä¸ª <code>onclick</code> å±æ€§ï¼Œæ‰€ä»¥æˆ‘ä»¬æ— æ³•åˆ†é…æ›´å¤šäº‹ä»¶å¤„ç†ç¨‹åºã€‚</strong></p><p>åœ¨ä¸‹é¢è¿™ä¸ªç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ JavaScript æ·»åŠ äº†ä¸€ä¸ªå¤„ç†ç¨‹åºï¼Œè¦†ç›–äº†ç°æœ‰çš„å¤„ç†ç¨‹åºï¼š</p><div class="language-markup line-numbers-mode" data-highlighter="shiki" data-ext="markup" data-title="markup" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&lt;input type=&quot;button&quot; id=&quot;elem&quot; onclick=&quot;alert(&#39;Before&#39;)&quot; value=&quot;Click me&quot;&gt;</span></span>
<span class="line"><span>&lt;script&gt;</span></span>
<span class="line"><span>  elem.onclick = function() { // è¦†ç›–äº†ç°æœ‰çš„å¤„ç†ç¨‹åº</span></span>
<span class="line"><span>    alert(&#39;After&#39;); // åªä¼šæ˜¾ç¤ºæ­¤å†…å®¹</span></span>
<span class="line"><span>  };</span></span>
<span class="line"><span>&lt;/script&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_25-2-3-addeventlistener" tabindex="-1"><a class="header-anchor" href="#_25-2-3-addeventlistener"><span>25.2.3 <strong>addEventListenerï¼š</strong></span></a></h4><p>ä¸Šè¿°åˆ†é…å¤„ç†ç¨‹åºçš„æ–¹å¼çš„æ ¹æœ¬é—®é¢˜æ˜¯ â€”â€” æˆ‘ä»¬ä¸èƒ½ä¸ºä¸€ä¸ªäº‹ä»¶åˆ†é…å¤šä¸ªå¤„ç†ç¨‹åºã€‚</p><p>å‡è®¾ï¼Œåœ¨æˆ‘ä»¬ç‚¹å‡»äº†ä¸€ä¸ªæŒ‰é’®æ—¶ï¼Œæˆ‘ä»¬ä»£ç ä¸­çš„ä¸€éƒ¨åˆ†æƒ³è¦é«˜äº®æ˜¾ç¤ºè¿™ä¸ªæŒ‰é’®ï¼Œå¦ä¸€éƒ¨åˆ†åˆ™æƒ³è¦æ˜¾ç¤ºä¸€æ¡æ¶ˆæ¯ã€‚</p><p>æˆ‘ä»¬æƒ³ä¸ºæ­¤äº‹ä»¶åˆ†é…ä¸¤ä¸ªå¤„ç†ç¨‹åºã€‚ä½†æ˜¯ï¼Œæ–°çš„ DOM å±æ€§å°†è¦†ç›–ç°æœ‰çš„ DOM å±æ€§ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">input</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">onclick</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() { </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">1</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); }</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ...</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">input</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">onclick</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() { </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">2</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); } </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// æ›¿æ¢äº†å‰ä¸€ä¸ªå¤„ç†ç¨‹åº</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Web æ ‡å‡†çš„å¼€å‘è€…å¾ˆæ—©å°±äº†è§£åˆ°äº†è¿™ä¸€ç‚¹ï¼Œå¹¶æå‡ºäº†ä¸€ç§ä½¿ç”¨ç‰¹æ®Šæ–¹æ³• <code>addEventListener</code> å’Œ <code>removeEventListener</code> æ¥ç®¡ç†å¤„ç†ç¨‹åºçš„æ›¿ä»£æ–¹æ³•ã€‚å®ƒä»¬æ²¡æœ‰è¿™æ ·çš„é—®é¢˜ã€‚</p><p>æ·»åŠ å¤„ç†ç¨‹åºçš„è¯­æ³•ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">element</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">addEventListener</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">event</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">handler</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">options</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><p><code>event</code></p><p>äº‹ä»¶åï¼Œä¾‹å¦‚ï¼š<code>&quot;click&quot;</code>ã€‚</p></li><li><p><code>handler</code></p><p>å¤„ç†ç¨‹åºã€‚</p></li><li><p><code>options</code></p><p>å…·æœ‰ä»¥ä¸‹å±æ€§çš„é™„åŠ å¯é€‰å¯¹è±¡ï¼š<code>once</code>ï¼šå¦‚æœä¸º <code>true</code>ï¼Œé‚£ä¹ˆä¼šåœ¨è¢«è§¦å‘åè‡ªåŠ¨åˆ é™¤ç›‘å¬å™¨ã€‚<code>capture</code>ï¼šäº‹ä»¶å¤„ç†çš„é˜¶æ®µï¼Œæˆ‘ä»¬ç¨åå°†åœ¨ <a href="https://zh.javascript.info/bubbling-and-capturing" target="_blank" rel="noopener noreferrer">å†’æ³¡å’Œæ•è·</a> ä¸€ç« ä¸­ä»‹ç»ã€‚ç”±äºå†å²åŸå› ï¼Œ<code>options</code> ä¹Ÿå¯ä»¥æ˜¯ <code>false/true</code>ï¼Œå®ƒä¸ <code>{capture: false/true}</code> ç›¸åŒã€‚<code>passive</code>ï¼šå¦‚æœä¸º <code>true</code>ï¼Œé‚£ä¹ˆå¤„ç†ç¨‹åºå°†ä¸ä¼šè°ƒç”¨ <code>preventDefault()</code>ï¼Œæˆ‘ä»¬ç¨åå°†åœ¨ <a href="https://zh.javascript.info/default-browser-action" target="_blank" rel="noopener noreferrer">æµè§ˆå™¨é»˜è®¤è¡Œä¸º</a> ä¸€ç« ä¸­ä»‹ç»ã€‚</p></li></ul><p>è¦ç§»é™¤å¤„ç†ç¨‹åºï¼Œå¯ä»¥ä½¿ç”¨ <code>removeEventListener</code>ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">element</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">removeEventListener</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">event</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">handler</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">options</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="_25-2-4-äº‹ä»¶å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_25-2-4-äº‹ä»¶å¯¹è±¡"><span>25.2.4 <strong>äº‹ä»¶å¯¹è±¡ï¼š</strong></span></a></h4><p>å½“äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œæµè§ˆå™¨ä¼šåˆ›å»ºä¸€ä¸ª <strong><code>event</code> å¯¹è±¡</strong>ï¼Œå°†è¯¦ç»†ä¿¡æ¯æ”¾å…¥å…¶ä¸­ï¼Œå¹¶å°†å…¶ä½œä¸ºå‚æ•°ä¼ é€’ç»™å¤„ç†ç¨‹åºã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä» <code>event</code> å¯¹è±¡è·å–é¼ æ ‡æŒ‡é’ˆçš„åæ ‡çš„ç¤ºä¾‹ï¼š</p><div class="language-markup line-numbers-mode" data-highlighter="shiki" data-ext="markup" data-title="markup" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&lt;input type=&quot;button&quot; value=&quot;Click me&quot; id=&quot;elem&quot;&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;script&gt;</span></span>
<span class="line"><span>  elem.onclick = function(event) {</span></span>
<span class="line"><span>    // æ˜¾ç¤ºäº‹ä»¶ç±»å‹ã€å…ƒç´ å’Œç‚¹å‡»çš„åæ ‡</span></span>
<span class="line"><span>    alert(event.type + &quot; at &quot; + event.currentTarget);</span></span>
<span class="line"><span>    alert(&quot;Coordinates: &quot; + event.clientX + &quot;:&quot; + event.clientY);</span></span>
<span class="line"><span>  };</span></span>
<span class="line"><span>&lt;/script&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>event</code> å¯¹è±¡çš„ä¸€äº›å±æ€§ï¼š</p><ul><li><p><code>event.type</code></p><p>äº‹ä»¶ç±»å‹ï¼Œè¿™é‡Œæ˜¯ <code>&quot;click&quot;</code>ã€‚</p></li><li><p><code>event.currentTarget</code></p><p>å¤„ç†äº‹ä»¶çš„å…ƒç´ ã€‚è¿™ä¸ <code>this</code> ç›¸åŒï¼Œé™¤éå¤„ç†ç¨‹åºæ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œæˆ–è€…å®ƒçš„ <code>this</code> è¢«ç»‘å®šåˆ°äº†å…¶ä»–ä¸œè¥¿ä¸Šï¼Œä¹‹åæˆ‘ä»¬å°±å¯ä»¥ä» <code>event.currentTarget</code> è·å–å…ƒç´ äº†ã€‚</p></li><li><p><code>event.clientX / event.clientY</code></p><p>æŒ‡é’ˆäº‹ä»¶ï¼ˆpointer eventï¼‰çš„æŒ‡é’ˆçš„çª—å£ç›¸å¯¹åæ ‡ã€‚</p></li></ul><p>è¿˜æœ‰å¾ˆå¤šå±æ€§ã€‚å…¶ä¸­å¾ˆå¤šéƒ½å–å†³äºäº‹ä»¶ç±»å‹ï¼šé”®ç›˜äº‹ä»¶å…·æœ‰ä¸€ç»„å±æ€§ï¼ŒæŒ‡é’ˆäº‹ä»¶å…·æœ‰å¦ä¸€ç»„å±æ€§ï¼Œç¨åæˆ‘ä»¬å°†è¯¦ç»†è®¨è®ºä¸åŒäº‹ä»¶ï¼Œé‚£æ—¶æˆ‘ä»¬å†å¯¹å…¶è¿›è¡Œè¯¦ç»†ç ”ç©¶ã€‚</p><h4 id="_25-2-5-å¯¹è±¡å¤„ç†ç¨‹åº-handleevent" tabindex="-1"><a class="header-anchor" href="#_25-2-5-å¯¹è±¡å¤„ç†ç¨‹åº-handleevent"><span>25.2.5 å¯¹è±¡å¤„ç†ç¨‹åºï¼šhandleEvent</span></a></h4><p>æˆ‘ä»¬ä¸ä»…å¯ä»¥åˆ†é…å‡½æ•°ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ <code>addEventListener</code> å°†ä¸€ä¸ªå¯¹è±¡åˆ†é…ä¸ºäº‹ä»¶å¤„ç†ç¨‹åºã€‚å½“äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå°±ä¼šè°ƒç”¨è¯¥å¯¹è±¡çš„ <code>handleEvent</code> æ–¹æ³•ã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="language-markup line-numbers-mode" data-highlighter="shiki" data-ext="markup" data-title="markup" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&lt;button id=&quot;elem&quot;&gt;Click me&lt;/button&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;script&gt;</span></span>
<span class="line"><span>  let obj = {</span></span>
<span class="line"><span>    handleEvent(event) {</span></span>
<span class="line"><span>      alert(event.type + &quot; at &quot; + event.currentTarget);</span></span>
<span class="line"><span>    }</span></span>
<span class="line"><span>  };</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  elem.addEventListener(&#39;click&#39;, obj);</span></span>
<span class="line"><span>&lt;/script&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­£å¦‚æˆ‘ä»¬æ‰€çœ‹åˆ°çš„ï¼Œå½“ <code>addEventListener</code> æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå¤„ç†ç¨‹åºæ—¶ï¼Œåœ¨äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œå®ƒå°±ä¼šè°ƒç”¨ <code>obj.handleEvent(event)</code> æ¥å¤„ç†äº‹ä»¶ã€‚</p><h4 id="_25-2-6-å†’æ³¡å’Œæ•è·" tabindex="-1"><a class="header-anchor" href="#_25-2-6-å†’æ³¡å’Œæ•è·"><span>25.2.6 å†’æ³¡å’Œæ•è·</span></a></h4><h5 id="_25-2-6-1-å†’æ³¡" tabindex="-1"><a class="header-anchor" href="#_25-2-6-1-å†’æ³¡"><span>25.2.6.1 å†’æ³¡</span></a></h5><p>å†’æ³¡ï¼ˆbubblingï¼‰åŸç†å¾ˆç®€å•ã€‚</p><p><strong>å½“ä¸€ä¸ªäº‹ä»¶å‘ç”Ÿåœ¨ä¸€ä¸ªå…ƒç´ ä¸Šï¼Œå®ƒä¼šé¦–å…ˆè¿è¡Œåœ¨è¯¥å…ƒç´ ä¸Šçš„å¤„ç†ç¨‹åºï¼Œç„¶åè¿è¡Œå…¶çˆ¶å…ƒç´ ä¸Šçš„å¤„ç†ç¨‹åºï¼Œç„¶åä¸€ç›´å‘ä¸Šåˆ°å…¶ä»–ç¥–å…ˆä¸Šçš„å¤„ç†ç¨‹åºã€‚</strong></p><h5 id="_25-2-6-2-event-target" tabindex="-1"><a class="header-anchor" href="#_25-2-6-2-event-target"><span>25.2.6.2 event.target</span></a></h5><p>çˆ¶å…ƒç´ ä¸Šçš„å¤„ç†ç¨‹åºå§‹ç»ˆå¯ä»¥è·å–äº‹ä»¶å®é™…å‘ç”Ÿä½ç½®çš„è¯¦ç»†ä¿¡æ¯ã€‚</p><p><strong>å¼•å‘äº‹ä»¶çš„é‚£ä¸ªåµŒå¥—å±‚çº§æœ€æ·±çš„å…ƒç´ è¢«ç§°ä¸ºç›®æ ‡å…ƒç´ ,å¯ä»¥é€šè¿‡ <code>event.target</code> è®¿é—®ã€‚</strong></p><p>æ³¨æ„ä¸ <code>this</code>ï¼ˆ=<code>event.currentTarget</code>ï¼‰ä¹‹é—´çš„åŒºåˆ«ï¼š</p><ul><li><code>event.target</code> â€”â€” æ˜¯å¼•å‘äº‹ä»¶çš„â€œç›®æ ‡â€å…ƒç´ ï¼Œå®ƒåœ¨å†’æ³¡è¿‡ç¨‹ä¸­ä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚</li><li><code>this</code> â€”â€” æ˜¯â€œå½“å‰â€å…ƒç´ ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ªå½“å‰æ­£åœ¨è¿è¡Œçš„å¤„ç†ç¨‹åºã€‚</li></ul><p>ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªå¤„ç†ç¨‹åº <code>form.onclick</code>ï¼Œé‚£ä¹ˆå®ƒå¯ä»¥â€œæ•è·â€è¡¨å•å†…çš„æ‰€æœ‰ç‚¹å‡»ã€‚æ— è®ºç‚¹å‡»å‘ç”Ÿåœ¨å“ªé‡Œï¼Œå®ƒéƒ½ä¼šå†’æ³¡åˆ° <code>&lt;form&gt;</code> å¹¶è¿è¡Œå¤„ç†ç¨‹åºã€‚</p><p>åœ¨ <code>form.onclick</code> å¤„ç†ç¨‹åºä¸­ï¼š</p><ul><li><code>this</code>ï¼ˆ=<code>event.currentTarget</code>ï¼‰æ˜¯ <code>&lt;form&gt;</code> å…ƒç´ ï¼Œå› ä¸ºå¤„ç†ç¨‹åºåœ¨å®ƒä¸Šé¢è¿è¡Œã€‚</li><li><code>event.target</code> æ˜¯è¡¨å•ä¸­å®é™…è¢«ç‚¹å‡»çš„å…ƒç´ ã€‚</li></ul><h5 id="_25-2-6-3-åœæ­¢å†’æ³¡" tabindex="-1"><a class="header-anchor" href="#_25-2-6-3-åœæ­¢å†’æ³¡"><span>25.2.6.3 åœæ­¢å†’æ³¡</span></a></h5><p>å†’æ³¡äº‹ä»¶ä»ç›®æ ‡å…ƒç´ å¼€å§‹å‘ä¸Šå†’æ³¡ã€‚é€šå¸¸ï¼Œå®ƒä¼šä¸€ç›´ä¸Šå‡åˆ° <code>&lt;html&gt;</code>ï¼Œç„¶åå†åˆ° <code>document</code> å¯¹è±¡ï¼Œæœ‰äº›äº‹ä»¶ç”šè‡³ä¼šåˆ°è¾¾ <code>window</code>ï¼Œå®ƒä»¬ä¼šè°ƒç”¨è·¯å¾„ä¸Šæ‰€æœ‰çš„å¤„ç†ç¨‹åºã€‚</p><p>ä½†æ˜¯ä»»æ„å¤„ç†ç¨‹åºéƒ½å¯ä»¥å†³å®šäº‹ä»¶å·²ç»è¢«å®Œå…¨å¤„ç†ï¼Œå¹¶åœæ­¢å†’æ³¡ã€‚</p><p>ç”¨äºåœæ­¢å†’æ³¡çš„æ–¹æ³•æ˜¯ <code>event.stopPropagation()</code>ã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœä½ ç‚¹å‡» <code>&lt;button&gt;</code>ï¼Œè¿™é‡Œçš„ <code>body.onclick</code> ä¸ä¼šå·¥ä½œï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">body</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> onclick</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;alert(`the bubbling doesn&#39;t reach here`)&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> onclick</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;event.stopPropagation()&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;Click me&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">button</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">body</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_25-2-6-4-æ•è·" tabindex="-1"><a class="header-anchor" href="#_25-2-6-4-æ•è·"><span>25.2.6.4 æ•è·</span></a></h5><p>äº‹ä»¶å¤„ç†çš„å¦ä¸€ä¸ªé˜¶æ®µè¢«ç§°ä¸ºâ€œæ•è·ï¼ˆcapturingï¼‰â€ã€‚å®ƒå¾ˆå°‘è¢«ç”¨åœ¨å®é™…å¼€å‘ä¸­ï¼Œä½†æœ‰æ—¶æ˜¯æœ‰ç”¨çš„ã€‚</p><p><a href="http://www.w3.org/TR/DOM-Level-3-Events/" target="_blank" rel="noopener noreferrer">DOM äº‹ä»¶</a>æ ‡å‡†æè¿°äº†äº‹ä»¶ä¼ æ’­çš„ 3 ä¸ªé˜¶æ®µï¼š</p><ol><li>æ•è·é˜¶æ®µï¼ˆCapturing phaseï¼‰â€”â€” äº‹ä»¶ï¼ˆä» Windowï¼‰å‘ä¸‹èµ°è¿‘å…ƒç´ ã€‚</li><li>ç›®æ ‡é˜¶æ®µï¼ˆTarget phaseï¼‰â€”â€” äº‹ä»¶åˆ°è¾¾ç›®æ ‡å…ƒç´ ã€‚</li><li>å†’æ³¡é˜¶æ®µï¼ˆBubbling phaseï¼‰â€”â€” äº‹ä»¶ä»å…ƒç´ ä¸Šå¼€å§‹å†’æ³¡ã€‚</li></ol><p>ä¸ºäº†åœ¨æ•è·é˜¶æ®µæ•è·äº‹ä»¶ï¼Œæˆ‘ä»¬éœ€è¦å°†å¤„ç†ç¨‹åºçš„ <code>capture</code> é€‰é¡¹è®¾ç½®ä¸º <code>true</code>ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">elem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">addEventListener</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">capture</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">})</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// æˆ–è€…ï¼Œç”¨ {capture: true} çš„åˆ«å &quot;true&quot;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">elem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">addEventListener</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>capture</code> é€‰é¡¹æœ‰ä¸¤ä¸ªå¯èƒ½çš„å€¼ï¼š</p><ul><li>å¦‚æœä¸º <code>false</code>ï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œåˆ™åœ¨å†’æ³¡é˜¶æ®µè®¾ç½®å¤„ç†ç¨‹åºã€‚</li><li>å¦‚æœä¸º <code>true</code>ï¼Œåˆ™åœ¨æ•è·é˜¶æ®µè®¾ç½®å¤„ç†ç¨‹åºã€‚</li></ul><h5 id="_25-2-6-5-äº‹ä»¶å§”æ‰˜" tabindex="-1"><a class="header-anchor" href="#_25-2-6-5-äº‹ä»¶å§”æ‰˜"><span>25.2.6.5 äº‹ä»¶å§”æ‰˜</span></a></h5><p>æ•è·å’Œå†’æ³¡å…è®¸æˆ‘ä»¬å®ç°æœ€å¼ºå¤§çš„äº‹ä»¶å¤„ç†æ¨¡å¼ä¹‹ä¸€ï¼Œå³ <strong>äº‹ä»¶å§”æ‰˜</strong> æ¨¡å¼ã€‚</p><p>è¿™ä¸ªæƒ³æ³•æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬æœ‰è®¸å¤šä»¥ç±»ä¼¼æ–¹å¼å¤„ç†çš„å…ƒç´ ï¼Œé‚£ä¹ˆå°±ä¸å¿…ä¸ºæ¯ä¸ªå…ƒç´ åˆ†é…ä¸€ä¸ªå¤„ç†ç¨‹åº â€”â€” è€Œæ˜¯å°†å•ä¸ªå¤„ç†ç¨‹åºæ”¾åœ¨å®ƒä»¬çš„å…±åŒç¥–å…ˆä¸Šã€‚</p><p>åœ¨å¤„ç†ç¨‹åºä¸­ï¼Œæˆ‘ä»¬è·å– <code>event.target</code> ä»¥æŸ¥çœ‹äº‹ä»¶å®é™…å‘ç”Ÿçš„ä½ç½®å¹¶è¿›è¡Œå¤„ç†ã€‚</p><h5 id="_25-2-6-6-æµè§ˆå™¨é»˜è®¤è¡Œä¸º" tabindex="-1"><a class="header-anchor" href="#_25-2-6-6-æµè§ˆå™¨é»˜è®¤è¡Œä¸º"><span>25.2.6.6 æµè§ˆå™¨é»˜è®¤è¡Œä¸º</span></a></h5><p>è®¸å¤šäº‹ä»¶ä¼šè‡ªåŠ¨è§¦å‘æµè§ˆå™¨æ‰§è¡ŒæŸäº›è¡Œä¸ºã€‚</p><p>ä¾‹å¦‚ï¼š</p><ul><li>ç‚¹å‡»ä¸€ä¸ªé“¾æ¥ â€”â€” è§¦å‘å¯¼èˆªï¼ˆnavigationï¼‰åˆ°è¯¥ URLã€‚</li><li>ç‚¹å‡»è¡¨å•çš„æäº¤æŒ‰é’® â€”â€” è§¦å‘æäº¤åˆ°æœåŠ¡å™¨çš„è¡Œä¸ºã€‚</li><li>åœ¨æ–‡æœ¬ä¸ŠæŒ‰ä¸‹é¼ æ ‡æŒ‰é’®å¹¶ç§»åŠ¨ â€”â€” é€‰ä¸­æ–‡æœ¬ã€‚</li></ul><h5 id="_25-2-6-7-é˜»æ­¢æµè§ˆå™¨è¡Œä¸º" tabindex="-1"><a class="header-anchor" href="#_25-2-6-7-é˜»æ­¢æµè§ˆå™¨è¡Œä¸º"><span>25.2.6.7 é˜»æ­¢æµè§ˆå™¨è¡Œä¸º</span></a></h5><p>æœ‰ä¸¤ç§æ–¹å¼æ¥å‘Šè¯‰æµè§ˆå™¨æˆ‘ä»¬ä¸å¸Œæœ›å®ƒæ‰§è¡Œé»˜è®¤è¡Œä¸ºï¼š</p><ul><li><p>ä¸»æµçš„æ–¹å¼æ˜¯ä½¿ç”¨ <code>event</code> å¯¹è±¡ã€‚æœ‰ä¸€ä¸ª <code>event.preventDefault()</code> æ–¹æ³•ã€‚</p></li><li><p>å¦‚æœå¤„ç†ç¨‹åºæ˜¯ä½¿ç”¨ <code>on&lt;event&gt;</code>ï¼ˆè€Œä¸æ˜¯ <code>addEventListener</code>ï¼‰åˆ†é…çš„ï¼Œé‚£è¿”å› <code>false</code> ä¹ŸåŒæ ·æœ‰æ•ˆã€‚</p></li></ul><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>event.defaultPrevented</p><p>å¦‚æœé»˜è®¤è¡Œä¸ºè¢«é˜»æ­¢ï¼Œé‚£ä¹ˆ <code>event.defaultPrevented</code> å±æ€§ä¸º <code>true</code>ï¼Œå¦åˆ™ä¸º <code>false</code>ã€‚</p><p>è¿™å„¿æœ‰ä¸€ä¸ªæœ‰è¶£çš„ç”¨ä¾‹ã€‚</p><p>ä½ è¿˜è®°å¾—æˆ‘ä»¬åœ¨ <a href="https://zh.javascript.info/bubbling-and-capturing" target="_blank" rel="noopener noreferrer">å†’æ³¡å’Œæ•è·</a> ä¸€ç« ä¸­è®¨è®ºè¿‡çš„ <code>event.stopPropagation()</code>ï¼Œä»¥åŠä¸ºä»€ä¹ˆåœæ­¢å†’æ³¡æ˜¯ä¸å¥½çš„å—ï¼Ÿ</p><p>æœ‰æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>event.defaultPrevented</code> æ¥ä»£æ›¿ï¼Œæ¥é€šçŸ¥å…¶ä»–äº‹ä»¶å¤„ç†ç¨‹åºï¼Œè¯¥äº‹ä»¶å·²ç»è¢«å¤„ç†ã€‚</p></div><h3 id="_25-3-åŠ è½½æ–‡æ¡£å’Œå…¶ä»–èµ„æº" tabindex="-1"><a class="header-anchor" href="#_25-3-åŠ è½½æ–‡æ¡£å’Œå…¶ä»–èµ„æº"><span>25.3 åŠ è½½æ–‡æ¡£å’Œå…¶ä»–èµ„æº</span></a></h3><h4 id="_25-3-1-é¡µé¢ç”Ÿå‘½å‘¨æœŸ" tabindex="-1"><a class="header-anchor" href="#_25-3-1-é¡µé¢ç”Ÿå‘½å‘¨æœŸ"><span>25.3.1 é¡µé¢ç”Ÿå‘½å‘¨æœŸ</span></a></h4><p>HTML é¡µé¢çš„ç”Ÿå‘½å‘¨æœŸåŒ…å«ä¸‰ä¸ªé‡è¦äº‹ä»¶ï¼š</p><ul><li><code>DOMContentLoaded</code> â€”â€” æµè§ˆå™¨å·²å®Œå…¨åŠ è½½ HTMLï¼Œå¹¶æ„å»ºäº† DOM æ ‘ï¼Œä½†åƒ <code>&lt;img&gt;</code> å’Œæ ·å¼è¡¨ä¹‹ç±»çš„å¤–éƒ¨èµ„æºå¯èƒ½å°šæœªåŠ è½½å®Œæˆã€‚</li><li><code>load</code> â€”â€” æµè§ˆå™¨ä¸ä»…åŠ è½½å®Œæˆäº† HTMLï¼Œè¿˜åŠ è½½å®Œæˆäº†æ‰€æœ‰å¤–éƒ¨èµ„æºï¼šå›¾ç‰‡ï¼Œæ ·å¼ç­‰ã€‚</li><li><code>beforeunload/unload</code> â€”â€” å½“ç”¨æˆ·æ­£åœ¨ç¦»å¼€é¡µé¢æ—¶ã€‚</li></ul><p>æ¯ä¸ªäº‹ä»¶éƒ½æ˜¯æœ‰ç”¨çš„ï¼š</p><ul><li><code>DOMContentLoaded</code> äº‹ä»¶ â€”â€” DOM å·²ç»å°±ç»ªï¼Œå› æ­¤å¤„ç†ç¨‹åºå¯ä»¥æŸ¥æ‰¾ DOM èŠ‚ç‚¹ï¼Œå¹¶åˆå§‹åŒ–æ¥å£ã€‚</li><li><code>load</code> äº‹ä»¶ â€”â€” å¤–éƒ¨èµ„æºå·²åŠ è½½å®Œæˆï¼Œæ ·å¼å·²è¢«åº”ç”¨ï¼Œå›¾ç‰‡å¤§å°ä¹Ÿå·²çŸ¥äº†ã€‚</li><li><code>beforeunload</code> äº‹ä»¶ â€”â€” ç”¨æˆ·æ­£åœ¨ç¦»å¼€ï¼šæˆ‘ä»¬å¯ä»¥æ£€æŸ¥ç”¨æˆ·æ˜¯å¦ä¿å­˜äº†æ›´æ”¹ï¼Œå¹¶è¯¢é—®ä»–æ˜¯å¦çœŸçš„è¦ç¦»å¼€ã€‚</li><li><code>unload</code> äº‹ä»¶ â€”â€” ç”¨æˆ·å‡ ä¹å·²ç»ç¦»å¼€äº†ï¼Œä½†æ˜¯æˆ‘ä»¬ä»ç„¶å¯ä»¥å¯åŠ¨ä¸€äº›æ“ä½œï¼Œä¾‹å¦‚å‘é€ç»Ÿè®¡æ•°æ®ã€‚</li></ul><p><code>DOMContentLoaded</code> äº‹ä»¶å‘ç”Ÿåœ¨ <code>document</code> å¯¹è±¡ä¸Šã€‚æˆ‘ä»¬å¿…é¡»ä½¿ç”¨ <code>addEventListener</code> æ¥æ•è·å®ƒã€‚</p><p>å½“æ•´ä¸ªé¡µé¢ï¼ŒåŒ…æ‹¬æ ·å¼ã€å›¾ç‰‡å’Œå…¶ä»–èµ„æºè¢«åŠ è½½å®Œæˆæ—¶ï¼Œä¼šè§¦å‘ <code>window</code> å¯¹è±¡ä¸Šçš„ <code>load</code> äº‹ä»¶ã€‚å¯ä»¥é€šè¿‡ <code>onload</code> å±æ€§è·å–æ­¤äº‹ä»¶ã€‚</p><p>å½“è®¿é—®è€…ç¦»å¼€é¡µé¢æ—¶ï¼Œ<code>window</code> å¯¹è±¡ä¸Šçš„ <code>unload</code> äº‹ä»¶å°±ä¼šè¢«è§¦å‘ã€‚</p><p>å¦‚æœè®¿é—®è€…è§¦å‘äº†ç¦»å¼€é¡µé¢çš„å¯¼èˆªï¼ˆnavigationï¼‰æˆ–è¯•å›¾å…³é—­çª—å£ï¼Œ<code>beforeunload</code> å¤„ç†ç¨‹åºå°†è¦æ±‚è¿›è¡Œæ›´å¤šç¡®è®¤ã€‚</p><p><code>document.readyState</code> å±æ€§å¯ä»¥ä¸ºæˆ‘ä»¬æä¾›å½“å‰åŠ è½½çŠ¶æ€çš„ä¿¡æ¯ã€‚</p><p>å®ƒæœ‰ 3 ä¸ªå¯èƒ½å€¼ï¼š</p><ul><li><code>loading</code> â€”â€” æ–‡æ¡£æ­£åœ¨è¢«åŠ è½½ã€‚</li><li><code>interactive</code> â€”â€” æ–‡æ¡£è¢«å…¨éƒ¨è¯»å–ã€‚</li><li><code>complete</code> â€”â€” æ–‡æ¡£è¢«å…¨éƒ¨è¯»å–ï¼Œå¹¶ä¸”æ‰€æœ‰èµ„æºï¼ˆä¾‹å¦‚å›¾ç‰‡ç­‰ï¼‰éƒ½å·²åŠ è½½å®Œæˆã€‚</li></ul><p><code>document.readyStat</code>eæ˜¯æ–‡æ¡£çš„å½“å‰çŠ¶æ€ï¼Œå¯ä»¥åœ¨<code>readystatechange</code>äº‹ä»¶ä¸­è·Ÿè¸ªçŠ¶æ€æ›´æ”¹ï¼š</p><ul><li><code>loading</code> â€”â€” æ–‡æ¡£æ­£åœ¨è¢«åŠ è½½ã€‚</li><li><code>interactive</code> â€”â€” æ–‡æ¡£å·²è¢«è§£æå®Œæˆï¼Œä¸ <code>DOMContentLoaded</code> å‡ ä¹åŒæ—¶å‘ç”Ÿï¼Œä½†æ˜¯åœ¨ <code>DOMContentLoaded</code> ä¹‹å‰å‘ç”Ÿã€‚</li><li><code>complete</code> â€”â€” æ–‡æ¡£å’Œèµ„æºå‡å·²åŠ è½½å®Œæˆï¼Œä¸ <code>window.onload</code> å‡ ä¹åŒæ—¶å‘ç”Ÿï¼Œä½†æ˜¯åœ¨ <code>window.onload</code> ä¹‹å‰å‘ç”Ÿã€‚</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å½“å‰çŠ¶æ€</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">document</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">readyState</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// çŠ¶æ€æ”¹å˜æ—¶æ‰“å°å®ƒ</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">document</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">addEventListener</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;readystatechange&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, () </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">document</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">readyState</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">));</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_25-3-1-è„šæœ¬-async-defer" tabindex="-1"><a class="header-anchor" href="#_25-3-1-è„šæœ¬-async-defer"><span>25.3.1 è„šæœ¬ï¼šasyncï¼Œdefer</span></a></h4><p>è¿™ä¼šå¯¼è‡´ä¸¤ä¸ªé‡è¦çš„é—®é¢˜ï¼š</p><ol><li>è„šæœ¬ä¸èƒ½è®¿é—®åˆ°ä½äºå®ƒä»¬ä¸‹é¢çš„ DOM å…ƒç´ ï¼Œå› æ­¤ï¼Œè„šæœ¬æ— æ³•ç»™å®ƒä»¬æ·»åŠ å¤„ç†ç¨‹åºç­‰ã€‚</li><li>å¦‚æœé¡µé¢é¡¶éƒ¨æœ‰ä¸€ä¸ªç¬¨é‡çš„è„šæœ¬ï¼Œå®ƒä¼šâ€œé˜»å¡é¡µé¢â€ã€‚åœ¨è¯¥è„šæœ¬ä¸‹è½½å¹¶æ‰§è¡Œç»“æŸå‰ï¼Œç”¨æˆ·éƒ½ä¸èƒ½çœ‹åˆ°é¡µé¢å†…å®¹ï¼š</li></ol><h5 id="_25-3-1-1-defer" tabindex="-1"><a class="header-anchor" href="#_25-3-1-1-defer"><span>25.3.1.1 <code>defer</code></span></a></h5><p><code>defer</code> ç‰¹æ€§å‘Šè¯‰æµè§ˆå™¨ä¸è¦ç­‰å¾…è„šæœ¬ã€‚ç›¸åï¼Œæµè§ˆå™¨å°†ç»§ç»­å¤„ç† HTMLï¼Œæ„å»º DOMã€‚è„šæœ¬ä¼šâ€œåœ¨åå°â€ä¸‹è½½ï¼Œç„¶åç­‰ DOM æ„å»ºå®Œæˆåï¼Œè„šæœ¬æ‰ä¼šæ‰§è¡Œã€‚</p><p>æ¢å¥è¯è¯´ï¼š</p><ul><li>å…·æœ‰ <code>defer</code> ç‰¹æ€§çš„è„šæœ¬ä¸ä¼šé˜»å¡é¡µé¢ã€‚</li><li>å…·æœ‰ <code>defer</code> ç‰¹æ€§çš„è„šæœ¬æ€»æ˜¯è¦ç­‰åˆ° DOM è§£æå®Œæ¯•ï¼Œä½†åœ¨ <code>DOMContentLoaded</code> äº‹ä»¶ä¹‹å‰æ‰§è¡Œã€‚</li></ul><p><strong>å…·æœ‰ <code>defer</code> ç‰¹æ€§çš„è„šæœ¬ä¿æŒå…¶ç›¸å¯¹é¡ºåºï¼Œå°±åƒå¸¸è§„è„šæœ¬ä¸€æ ·ã€‚</strong></p><h5 id="_25-3-1-2-async" tabindex="-1"><a class="header-anchor" href="#_25-3-1-2-async"><span>25.3.1.2 <code>async</code></span></a></h5><p><code>async</code> ç‰¹æ€§ä¸ <code>defer</code> æœ‰äº›ç±»ä¼¼ã€‚å®ƒä¹Ÿèƒ½å¤Ÿè®©è„šæœ¬ä¸é˜»å¡é¡µé¢ã€‚ä½†æ˜¯ï¼Œåœ¨è¡Œä¸ºä¸ŠäºŒè€…æœ‰ç€é‡è¦çš„åŒºåˆ«ã€‚</p><p><code>async</code> ç‰¹æ€§æ„å‘³ç€è„šæœ¬æ˜¯å®Œå…¨ç‹¬ç«‹çš„ï¼š</p><ul><li>æµè§ˆå™¨ä¸ä¼šå›  <code>async</code> è„šæœ¬è€Œé˜»å¡ï¼ˆä¸ <code>defer</code> ç±»ä¼¼ï¼‰ã€‚</li><li>å…¶ä»–è„šæœ¬ä¸ä¼šç­‰å¾… <code>async</code> è„šæœ¬åŠ è½½å®Œæˆï¼ŒåŒæ ·ï¼Œ<code>async</code> è„šæœ¬ä¹Ÿä¸ä¼šç­‰å¾…å…¶ä»–è„šæœ¬ã€‚</li><li>DOMContentLoadedå’Œå¼‚æ­¥è„šæœ¬ä¸ä¼šå½¼æ­¤ç­‰å¾…ï¼š <ul><li><code>DOMContentLoaded</code> å¯èƒ½ä¼šå‘ç”Ÿåœ¨å¼‚æ­¥è„šæœ¬ä¹‹å‰ï¼ˆå¦‚æœå¼‚æ­¥è„šæœ¬åœ¨é¡µé¢å®Œæˆåæ‰åŠ è½½å®Œæˆï¼‰</li><li><code>DOMContentLoaded</code> ä¹Ÿå¯èƒ½å‘ç”Ÿåœ¨å¼‚æ­¥è„šæœ¬ä¹‹åï¼ˆå¦‚æœå¼‚æ­¥è„šæœ¬å¾ˆçŸ­ï¼Œæˆ–è€…æ˜¯ä» HTTP ç¼“å­˜ä¸­åŠ è½½çš„ï¼‰</li></ul></li></ul><p>æ¢å¥è¯è¯´ï¼Œ<code>async</code> è„šæœ¬ä¼šåœ¨åå°åŠ è½½ï¼Œå¹¶åœ¨åŠ è½½å°±ç»ªæ—¶è¿è¡Œã€‚DOM å’Œå…¶ä»–è„šæœ¬ä¸ä¼šç­‰å¾…å®ƒä»¬ï¼Œå®ƒä»¬ä¹Ÿä¸ä¼šç­‰å¾…å…¶å®ƒçš„ä¸œè¥¿ã€‚<code>async</code> è„šæœ¬å°±æ˜¯ä¸€ä¸ªä¼šåœ¨åŠ è½½å®Œæˆæ—¶æ‰§è¡Œçš„å®Œå…¨ç‹¬ç«‹çš„è„šæœ¬ã€‚</p><p><strong><code>async</code> ç‰¹æ€§ä»…é€‚ç”¨äºå¤–éƒ¨è„šæœ¬</strong></p><p>å°±åƒ <code>defer</code> ä¸€æ ·ï¼Œå¦‚æœ <code>&lt;script&gt;</code> æ ‡ç­¾æ²¡æœ‰ <code>src</code> ç‰¹æ€§ï¼ˆattributeï¼‰ï¼Œé‚£ä¹ˆ <code>async</code> ç‰¹æ€§ä¼šè¢«å¿½ç•¥ã€‚</p><h3 id="_25-4-dom-å˜åŠ¨è§‚å¯Ÿå™¨" tabindex="-1"><a class="header-anchor" href="#_25-4-dom-å˜åŠ¨è§‚å¯Ÿå™¨"><span>25.4 DOM å˜åŠ¨è§‚å¯Ÿå™¨</span></a></h3><p><code>MutationObserver</code> æ˜¯ä¸€ä¸ªå†…å»ºå¯¹è±¡ï¼Œå®ƒè§‚å¯Ÿ DOM å…ƒç´ ï¼Œå¹¶åœ¨æ£€æµ‹åˆ°æ›´æ”¹æ—¶è§¦å‘å›è°ƒã€‚</p><p>è¯­æ³•ï¼š</p><p><code>MutationObserver</code> ä½¿ç”¨ç®€å•ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå¸¦æœ‰å›è°ƒå‡½æ•°çš„è§‚å¯Ÿå™¨ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> observer</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> MutationObserver</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">callback</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ç„¶åå°†å…¶é™„åŠ åˆ°ä¸€ä¸ª DOM èŠ‚ç‚¹ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">observer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">observe</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">node</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">config</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><code>config</code> æ˜¯ä¸€ä¸ªå…·æœ‰å¸ƒå°”é€‰é¡¹çš„å¯¹è±¡ï¼Œè¯¥å¸ƒå°”é€‰é¡¹è¡¨ç¤ºâ€œå°†å¯¹å“ªäº›æ›´æ”¹åšå‡ºååº”â€ï¼š</p><ul><li><code>childList</code> â€”â€” <code>node</code> çš„ç›´æ¥å­èŠ‚ç‚¹çš„æ›´æ”¹ï¼Œ</li><li><code>subtree</code> â€”â€” <code>node</code> çš„æ‰€æœ‰åä»£çš„æ›´æ”¹ï¼Œ</li><li><code>attributes</code> â€”â€” <code>node</code> çš„ç‰¹æ€§ï¼ˆattributeï¼‰ï¼Œ</li><li><code>attributeFilter</code> â€”â€” ç‰¹æ€§åç§°æ•°ç»„ï¼Œåªè§‚å¯Ÿé€‰å®šçš„ç‰¹æ€§ã€‚</li><li><code>characterData</code> â€”â€” æ˜¯å¦è§‚å¯Ÿ <code>node.data</code>ï¼ˆæ–‡æœ¬å†…å®¹ï¼‰ï¼Œ</li></ul><p>å…¶ä»–å‡ ä¸ªé€‰é¡¹ï¼š</p><ul><li><code>attributeOldValue</code> â€”â€” å¦‚æœä¸º <code>true</code>ï¼Œåˆ™å°†ç‰¹æ€§çš„æ—§å€¼å’Œæ–°å€¼éƒ½ä¼ é€’ç»™å›è°ƒï¼ˆå‚è§ä¸‹æ–‡ï¼‰ï¼Œå¦åˆ™åªä¼ æ–°å€¼ï¼ˆéœ€è¦ <code>attributes</code> é€‰é¡¹ï¼‰ï¼Œ</li><li><code>characterDataOldValue</code> â€”â€” å¦‚æœä¸º <code>true</code>ï¼Œåˆ™å°† <code>node.data</code> çš„æ—§å€¼å’Œæ–°å€¼éƒ½ä¼ é€’ç»™å›è°ƒï¼ˆå‚è§ä¸‹æ–‡ï¼‰ï¼Œå¦åˆ™åªä¼ æ–°å€¼ï¼ˆéœ€è¦ <code>characterData</code> é€‰é¡¹ï¼‰ã€‚</li></ul><p>ç„¶åï¼Œåœ¨å‘ç”Ÿä»»ä½•æ›´æ”¹åï¼Œå°†æ‰§è¡Œâ€œå›è°ƒâ€ï¼šæ›´æ”¹è¢«ä½œä¸ºä¸€ä¸ª <a href="https://dom.spec.whatwg.org/#mutationrecord" target="_blank" rel="noopener noreferrer">MutationRecord</a> å¯¹è±¡åˆ—è¡¨ä¼ å…¥ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œè€Œè§‚å¯Ÿå™¨è‡ªèº«ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°ã€‚</p><p><a href="https://dom.spec.whatwg.org/#mutationrecord" target="_blank" rel="noopener noreferrer">MutationRecord</a> å¯¹è±¡å…·æœ‰ä»¥ä¸‹å±æ€§ï¼š</p><ul><li>typeâ€”â€” å˜åŠ¨ç±»å‹ï¼Œä»¥ä¸‹ç±»å‹ä¹‹ä¸€ï¼š <ul><li><code>&quot;attributes&quot;</code>ï¼šç‰¹æ€§è¢«ä¿®æ”¹äº†ï¼Œ</li><li><code>&quot;characterData&quot;</code>ï¼šæ•°æ®è¢«ä¿®æ”¹äº†ï¼Œç”¨äºæ–‡æœ¬èŠ‚ç‚¹ï¼Œ</li><li><code>&quot;childList&quot;</code>ï¼šæ·»åŠ /åˆ é™¤äº†å­å…ƒç´ ã€‚</li></ul></li><li><code>target</code> â€”â€” æ›´æ”¹å‘ç”Ÿåœ¨ä½•å¤„ï¼š<code>&quot;attributes&quot;</code> æ‰€åœ¨çš„å…ƒç´ ï¼Œæˆ– <code>&quot;characterData&quot;</code> æ‰€åœ¨çš„æ–‡æœ¬èŠ‚ç‚¹ï¼Œæˆ– <code>&quot;childList&quot;</code> å˜åŠ¨æ‰€åœ¨çš„å…ƒç´ ï¼Œ</li><li><code>addedNodes/removedNodes</code> â€”â€” æ·»åŠ /åˆ é™¤çš„èŠ‚ç‚¹ï¼Œ</li><li><code>previousSibling/nextSibling</code> â€”â€” æ·»åŠ /åˆ é™¤çš„èŠ‚ç‚¹çš„ä¸Šä¸€ä¸ª/ä¸‹ä¸€ä¸ªå…„å¼ŸèŠ‚ç‚¹ï¼Œ</li><li><code>attributeName/attributeNamespace</code> â€”â€” è¢«æ›´æ”¹çš„ç‰¹æ€§çš„åç§°/å‘½åç©ºé—´ï¼ˆç”¨äº XMLï¼‰ï¼Œ</li><li><code>oldValue</code> â€”â€” ä¹‹å‰çš„å€¼ï¼Œä»…é€‚ç”¨äºç‰¹æ€§æˆ–æ–‡æœ¬æ›´æ”¹ï¼Œå¦‚æœè®¾ç½®äº†ç›¸åº”é€‰é¡¹ <code>attributeOldValue</code>/<code>characterDataOldValue</code>ã€‚</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> contentEditable</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;elem&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;Click and &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;edit&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">b</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;, please&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">div</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">let observer = new MutationObserver(mutationRecords =&gt; </span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">mutationRecords</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// console.log(the changes)</span></span>
<span class="line"><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">// è§‚å¯Ÿé™¤äº†ç‰¹æ€§ä¹‹å¤–çš„æ‰€æœ‰å˜åŠ¨</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">observer.observe(elem, </span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  childList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// è§‚å¯Ÿç›´æ¥å­èŠ‚ç‚¹</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  subtree</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// åŠå…¶æ›´ä½çš„åä»£èŠ‚ç‚¹</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  characterDataOldValue</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">true</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> // å°†æ—§çš„æ•°æ®ä¼ é€’ç»™å›è°ƒ</span></span>
<span class="line"><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_26-å…¶ä»–æ–‡ç« " tabindex="-1"><a class="header-anchor" href="#_26-å…¶ä»–æ–‡ç« "><span>26. å…¶ä»–æ–‡ç« </span></a></h2><h3 id="_26-1-äºŒè¿›åˆ¶æ•°æ®-æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_26-1-äºŒè¿›åˆ¶æ•°æ®-æ–‡ä»¶"><span>26.1 äºŒè¿›åˆ¶æ•°æ®ï¼Œæ–‡ä»¶</span></a></h3><h4 id="_26-1-1-arraybuffer-äºŒè¿›åˆ¶æ•°ç»„" tabindex="-1"><a class="header-anchor" href="#_26-1-1-arraybuffer-äºŒè¿›åˆ¶æ•°ç»„"><span>26.1.1 ArrayBufferï¼ŒäºŒè¿›åˆ¶æ•°ç»„</span></a></h4><p>åœ¨ Web å¼€å‘ä¸­ï¼Œå½“æˆ‘ä»¬å¤„ç†æ–‡ä»¶æ—¶ï¼ˆåˆ›å»ºï¼Œä¸Šä¼ ï¼Œä¸‹è½½ï¼‰ï¼Œç»å¸¸ä¼šé‡åˆ°äºŒè¿›åˆ¶æ•°æ®ã€‚å¦ä¸€ä¸ªå…¸å‹çš„åº”ç”¨åœºæ™¯æ˜¯å›¾åƒå¤„ç†ã€‚</p><p>ä¸è¿‡ï¼Œåœ¨ JavaScript ä¸­æœ‰å¾ˆå¤šç§äºŒè¿›åˆ¶æ•°æ®æ ¼å¼ï¼Œä¼šæœ‰ç‚¹å®¹æ˜“æ··æ·†ã€‚ä»…ä¸¾å‡ ä¸ªä¾‹å­ï¼š</p><ul><li><code>ArrayBuffer</code>ï¼Œ<code>Uint8Array</code>ï¼Œ<code>DataView</code>ï¼Œ<code>Blob</code>ï¼Œ<code>File</code> åŠå…¶ä»–ã€‚</li></ul><p><strong>åŸºæœ¬çš„äºŒè¿›åˆ¶å¯¹è±¡æ˜¯ <code>ArrayBuffer</code> â€”â€” å¯¹å›ºå®šé•¿åº¦çš„è¿ç»­å†…å­˜ç©ºé—´çš„å¼•ç”¨ã€‚</strong></p><p>æˆ‘ä»¬è¿™æ ·åˆ›å»ºå®ƒï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> buffer</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> ArrayBuffer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º 16 çš„ buffer</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">buffer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">byteLength</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 16</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>å®ƒä¼šåˆ†é…ä¸€ä¸ª 16 å­—èŠ‚çš„è¿ç»­å†…å­˜ç©ºé—´ï¼Œå¹¶ç”¨ 0 è¿›è¡Œé¢„å¡«å……ã€‚</p><p><strong><code>ArrayBuffer</code> ä¸æ˜¯æŸç§ä¸œè¥¿çš„æ•°ç»„</strong></p><p>è®©æˆ‘ä»¬å…ˆæ¾„æ¸…ä¸€ä¸ªå¯èƒ½çš„è¯¯åŒºã€‚<code>ArrayBuffer</code> ä¸ <code>Array</code> æ²¡æœ‰ä»»ä½•å…±åŒä¹‹å¤„ï¼š</p><ul><li>å®ƒçš„é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œæˆ‘ä»¬æ— æ³•å¢åŠ æˆ–å‡å°‘å®ƒçš„é•¿åº¦ã€‚</li><li>å®ƒæ­£å¥½å ç”¨äº†å†…å­˜ä¸­çš„é‚£ä¹ˆå¤šç©ºé—´ã€‚</li><li>è¦è®¿é—®å•ä¸ªå­—èŠ‚ï¼Œéœ€è¦å¦ä¸€ä¸ªâ€œè§†å›¾â€å¯¹è±¡ï¼Œè€Œä¸æ˜¯ <code>buffer[index]</code>ã€‚</li></ul><p><code>ArrayBuffer</code> æ˜¯ä¸€ä¸ªå†…å­˜åŒºåŸŸã€‚å®ƒé‡Œé¢å­˜å‚¨äº†ä»€ä¹ˆï¼Ÿæ— ä»åˆ¤æ–­ã€‚åªæ˜¯ä¸€ä¸ªåŸå§‹çš„å­—èŠ‚åºåˆ—ã€‚</p><p><strong>å¦‚è¦æ“ä½œ <code>ArrayBuffer</code>ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨â€œè§†å›¾â€å¯¹è±¡ã€‚</strong></p><p>è§†å›¾å¯¹è±¡æœ¬èº«å¹¶ä¸å­˜å‚¨ä»»ä½•ä¸œè¥¿ã€‚å®ƒæ˜¯ä¸€å‰¯â€œçœ¼é•œâ€ï¼Œé€è¿‡å®ƒæ¥è§£é‡Šå­˜å‚¨åœ¨ <code>ArrayBuffer</code> ä¸­çš„å­—èŠ‚ã€‚</p><p>ä¾‹å¦‚ï¼š</p><ul><li><strong><code>Uint8Array</code></strong> â€”â€” å°† <code>ArrayBuffer</code> ä¸­çš„æ¯ä¸ªå­—èŠ‚è§†ä¸º 0 åˆ° 255 ä¹‹é—´çš„å•ä¸ªæ•°å­—ï¼ˆæ¯ä¸ªå­—èŠ‚æ˜¯ 8 ä½ï¼Œå› æ­¤åªèƒ½å®¹çº³é‚£ä¹ˆå¤šï¼‰ã€‚è¿™ç§°ä¸º â€œ8 ä½æ— ç¬¦å·æ•´æ•°â€ã€‚</li><li><strong><code>Uint16Array</code></strong> â€”â€” å°†æ¯ 2 ä¸ªå­—èŠ‚è§†ä¸ºä¸€ä¸ª 0 åˆ° 65535 ä¹‹é—´çš„æ•´æ•°ã€‚è¿™ç§°ä¸º â€œ16 ä½æ— ç¬¦å·æ•´æ•°â€ã€‚</li><li><strong><code>Uint32Array</code></strong> â€”â€” å°†æ¯ 4 ä¸ªå­—èŠ‚è§†ä¸ºä¸€ä¸ª 0 åˆ° 4294967295 ä¹‹é—´çš„æ•´æ•°ã€‚è¿™ç§°ä¸º â€œ32 ä½æ— ç¬¦å·æ•´æ•°â€ã€‚</li><li><strong><code>Float64Array</code></strong> â€”â€” å°†æ¯ 8 ä¸ªå­—èŠ‚è§†ä¸ºä¸€ä¸ª <code>5.0x10-324</code> åˆ° <code>1.8x10308</code> ä¹‹é—´çš„æµ®ç‚¹æ•°ã€‚</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> buffer</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> ArrayBuffer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">16</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º 16 çš„ buffer</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> view</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Uint32Array</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">buffer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å°† buffer è§†ä¸ºä¸€ä¸ª 32 ä½æ•´æ•°çš„åºåˆ—</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">Uint32Array</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#986801;--shiki-dark:#E06C75;">BYTES_PER_ELEMENT</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// æ¯ä¸ªæ•´æ•° 4 ä¸ªå­—èŠ‚</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">view</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">length</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 4ï¼Œå®ƒå­˜å‚¨äº† 4 ä¸ªæ•´æ•°</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">view</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">byteLength</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 16ï¼Œå­—èŠ‚ä¸­çš„å¤§å°</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// è®©æˆ‘ä»¬å†™å…¥ä¸€ä¸ªå€¼</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">view</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 123456</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// éå†å€¼</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">for</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> num</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> of</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> view</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">num</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 123456ï¼Œç„¶å 0ï¼Œ0ï¼Œ0ï¼ˆä¸€å…± 4 ä¸ªå€¼ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_26-1-2-textdecoder-å’Œ-textencoder" tabindex="-1"><a class="header-anchor" href="#_26-1-2-textdecoder-å’Œ-textencoder"><span>26.1.2 TextDecoder å’Œ TextEncoder</span></a></h4><h5 id="_26-1-2-1-textdecoder" tabindex="-1"><a class="header-anchor" href="#_26-1-2-1-textdecoder"><span>26.1.2.1 TextDecoder</span></a></h5><p>å†…å»ºçš„ <a href="https://encoding.spec.whatwg.org/#interface-textdecoder" target="_blank" rel="noopener noreferrer">TextDecoder</a> å¯¹è±¡åœ¨ç»™å®šç¼“å†²åŒºï¼ˆbufferï¼‰å’Œç¼–ç æ ¼å¼ï¼ˆencodingï¼‰çš„æƒ…å†µä¸‹ï¼Œå…è®¸å°†å€¼è¯»å–ä¸ºå®é™…çš„ JavaScript å­—ç¬¦ä¸²ã€‚</p><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦åˆ›å»ºï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> decoder</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> TextDecoder</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">([</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">label</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], [</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">options</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong><code>label</code></strong> â€”â€” ç¼–ç æ ¼å¼ï¼Œé»˜è®¤ä¸º <code>utf-8</code>ï¼Œä½†åŒæ—¶ä¹Ÿæ”¯æŒ <code>big5</code>ï¼Œ<code>windows-1251</code> ç­‰è®¸å¤šå…¶ä»–ç¼–ç æ ¼å¼ã€‚</li><li><code>options</code> å¯é€‰å¯¹è±¡ï¼š <ul><li><strong><code>fatal</code></strong> â€”â€” å¸ƒå°”å€¼ï¼Œå¦‚æœä¸º <code>true</code> åˆ™ä¸ºæ— æ•ˆï¼ˆä¸å¯è§£ç ï¼‰å­—ç¬¦æŠ›å‡ºå¼‚å¸¸ï¼Œå¦åˆ™ï¼ˆé»˜è®¤ï¼‰ç”¨å­—ç¬¦ <code>\uFFFD</code> æ›¿æ¢æ— æ•ˆå­—ç¬¦ã€‚</li><li><strong><code>ignoreBOM</code></strong> â€”â€” å¸ƒå°”å€¼ï¼Œå¦‚æœä¸º <code>true</code> åˆ™ BOMï¼ˆå¯é€‰çš„å­—èŠ‚é¡ºåº Unicode æ ‡è®°ï¼‰ï¼Œå¾ˆå°‘éœ€è¦ä½¿ç”¨ã€‚</li></ul></li></ul><p>â€¦â€¦ç„¶åè§£ç ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> str</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> decoder</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">decode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">([</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">input</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], [</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">options</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong><code>input</code></strong> â€”â€” è¦è¢«è§£ç çš„ <code>BufferSource</code>ã€‚</li><li><code>options</code>å¯é€‰å¯¹è±¡ï¼š <ul><li><strong><code>stream</code></strong> â€”â€” å¯¹äºè§£ç æµï¼Œä¸º trueï¼Œåˆ™å°†ä¼ å…¥çš„æ•°æ®å—ï¼ˆchunkï¼‰ä½œä¸ºå‚æ•°é‡å¤è°ƒç”¨ <code>decoder</code>ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¤šå­—èŠ‚çš„å­—ç¬¦å¯èƒ½å¶å°”ä¼šåœ¨å—ä¸å—ä¹‹é—´è¢«åˆ†å‰²ã€‚è¿™ä¸ªé€‰é¡¹å‘Šè¯‰ <code>TextDecoder</code> è®°ä½â€œæœªå®Œæˆâ€çš„å­—ç¬¦ï¼Œå¹¶åœ¨ä¸‹ä¸€ä¸ªæ•°æ®å—æ¥çš„æ—¶å€™è¿›è¡Œè§£ç ã€‚</li></ul></li></ul><p>ä¾‹å¦‚ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> uint8Array</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Uint8Array</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">([</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">72</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">101</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">108</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">108</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">111</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">]);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">( </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> TextDecoder</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">().</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">decode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">uint8Array</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) ); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// Hello</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_26-1-2-2-textencoder" tabindex="-1"><a class="header-anchor" href="#_26-1-2-2-textencoder"><span>26.1.2.2 TextEncoder</span></a></h5><p><a href="https://encoding.spec.whatwg.org/#interface-textencoder" target="_blank" rel="noopener noreferrer">TextEncoder</a> åšç›¸åçš„äº‹æƒ… â€”â€” å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºå­—èŠ‚ã€‚</p><p>è¯­æ³•ä¸ºï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> encoder</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> TextEncoder</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>åªæ”¯æŒ <code>utf-8</code> ç¼–ç ã€‚</p><p>å®ƒæœ‰ä¸¤ç§æ–¹æ³•ï¼š</p><ul><li><strong><code>encode(str)</code></strong> â€”â€” ä»å­—ç¬¦ä¸²è¿”å› <code>Uint8Array</code>ã€‚</li><li><strong><code>encodeInto(str, destination)</code></strong> â€”â€” å°† <code>str</code> ç¼–ç åˆ° <code>destination</code> ä¸­ï¼Œè¯¥ç›®æ ‡å¿…é¡»ä¸º <code>Uint8Array</code>ã€‚</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> encoder</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> TextEncoder</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> uint8Array</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> encoder</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">encode</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Hello&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">uint8Array</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 72,101,108,108,111</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_26-2-blob" tabindex="-1"><a class="header-anchor" href="#_26-2-blob"><span>26.2 Blob</span></a></h4><p>æ„é€ å‡½æ•°çš„è¯­æ³•ä¸ºï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Blob</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">blobParts</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">options</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong><code>blobParts</code></strong> æ˜¯ <code>Blob</code>/<code>BufferSource</code>/<code>String</code> ç±»å‹çš„å€¼çš„æ•°ç»„ã€‚</li><li><code>options</code>å¯é€‰å¯¹è±¡ï¼š <ul><li><strong><code>type</code></strong> â€”â€” <code>Blob</code> ç±»å‹ï¼Œé€šå¸¸æ˜¯ MIME ç±»å‹ï¼Œä¾‹å¦‚ <code>image/png</code>ï¼Œ</li><li><strong><code>endings</code></strong> â€”â€” æ˜¯å¦è½¬æ¢æ¢è¡Œç¬¦ï¼Œä½¿ <code>Blob</code> å¯¹åº”äºå½“å‰æ“ä½œç³»ç»Ÿçš„æ¢è¡Œç¬¦ï¼ˆ<code>\r\n</code> æˆ– <code>\n</code>ï¼‰ã€‚é»˜è®¤ä¸º <code>&quot;transparent&quot;</code>ï¼ˆå•¥ä¹Ÿä¸åšï¼‰ï¼Œä¸è¿‡ä¹Ÿå¯ä»¥æ˜¯ <code>&quot;native&quot;</code>ï¼ˆè½¬æ¢ï¼‰ã€‚</li></ul></li></ul><h5 id="_26-2-1-blob-ç”¨ä½œ-url" tabindex="-1"><a class="header-anchor" href="#_26-2-1-blob-ç”¨ä½œ-url"><span>26.2.1 Blob ç”¨ä½œ URL</span></a></h5><p>Blob å¯ä»¥å¾ˆå®¹æ˜“ç”¨ä½œ <code>&lt;a&gt;</code>ã€<code>&lt;img&gt;</code> æˆ–å…¶ä»–æ ‡ç­¾çš„ URLï¼Œæ¥æ˜¾ç¤ºå®ƒä»¬çš„å†…å®¹ã€‚</p><p>å¤šäºäº† <code>type</code>ï¼Œè®©æˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸‹è½½/ä¸Šä¼  <code>Blob</code> å¯¹è±¡ï¼Œè€Œåœ¨ç½‘ç»œè¯·æ±‚ä¸­ï¼Œ<code>type</code> è‡ªç„¶åœ°å˜æˆäº† <code>Content-Type</code>ã€‚</p><p>è®©æˆ‘ä»¬ä»ä¸€ä¸ªç®€å•çš„ä¾‹å­å¼€å§‹ã€‚é€šè¿‡ç‚¹å‡»é“¾æ¥ï¼Œä½ å¯ä»¥ä¸‹è½½ä¸€ä¸ªå…·æœ‰åŠ¨æ€ç”Ÿæˆçš„å†…å®¹ä¸º <code>hello world</code> çš„ <code>Blob</code> çš„æ–‡ä»¶ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">&lt;!--</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> download</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> ç‰¹æ€§ï¼ˆ</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">attribute</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">ï¼‰å¼ºåˆ¶æµè§ˆå™¨ä¸‹è½½è€Œä¸æ˜¯å¯¼èˆª </span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">--&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">a</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> download</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;hello.txt&quot;</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> href</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;#&#39;</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;link&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;Download&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">a</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">let blob = new Blob([&quot;Hello, world!&quot;], </span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">{</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">type</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;text/plain&#39;</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">link.href = URL.createObjectURL(blob);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_26-2-2-blob-è½¬æ¢ä¸º-base64" tabindex="-1"><a class="header-anchor" href="#_26-2-2-blob-è½¬æ¢ä¸º-base64"><span>26.2.2 Blob è½¬æ¢ä¸º base64</span></a></h5><p>è¿™ç§ç¼–ç å°†äºŒè¿›åˆ¶æ•°æ®è¡¨ç¤ºä¸ºä¸€ä¸ªç”± 0 åˆ° 64 çš„ ASCII ç ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œéå¸¸å®‰å…¨ä¸”â€œå¯è¯»â€œã€‚æ›´é‡è¦çš„æ˜¯ â€”â€” æˆ‘ä»¬å¯ä»¥åœ¨ â€œdata-urlâ€ ä¸­ä½¿ç”¨æ­¤ç¼–ç ã€‚</p><p><a href="https://developer.mozilla.org/zh/docs/Web/http/Data_URIs" target="_blank" rel="noopener noreferrer">â€œdata-urlâ€</a> çš„å½¢å¼ä¸º <code>data:[&lt;mediatype&gt;][;base64],&lt;data&gt;</code>ã€‚æˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨è¿™ç§ urlï¼Œå’Œä½¿ç”¨â€œå¸¸è§„â€ url ä¸€æ ·ã€‚</p><p>ä¸‹é¢æ˜¯ä¸‹è½½ <code>Blob</code> çš„ç¤ºä¾‹ï¼Œè¿™æ¬¡æ˜¯é€šè¿‡ base-64ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> link</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> document</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">createElement</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;a&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">link</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">download</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;hello.txt&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> blob</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> Blob</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">([</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;Hello, world!&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">], {</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">type</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;text/plain&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> reader</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> FileReader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">reader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">readAsDataURL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">blob</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å°† Blob è½¬æ¢ä¸º base64 å¹¶è°ƒç”¨ onload</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">reader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">onload</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  link</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">href</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> reader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">result</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// data url</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  link</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">click</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸¤ç§ä» <code>Blob</code> åˆ›å»º URL çš„æ–¹æ³•éƒ½å¯ä»¥ç”¨ã€‚ä½†é€šå¸¸ <code>URL.createObjectURL(blob)</code> æ›´ç®€å•å¿«æ·ã€‚</p><h5 id="_26-2-3-file-å’Œ-filereader" tabindex="-1"><a class="header-anchor" href="#_26-2-3-file-å’Œ-filereader"><span>26.2.3 <strong>File</strong> å’Œ FileReader</span></a></h5><p><a href="https://www.w3.org/TR/FileAPI/#dfn-file" target="_blank" rel="noopener noreferrer">File</a> å¯¹è±¡ç»§æ‰¿è‡ª <code>Blob</code>ï¼Œå¹¶æ‰©å±•äº†ä¸æ–‡ä»¶ç³»ç»Ÿç›¸å…³çš„åŠŸèƒ½ã€‚</p><p>æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥è·å–å®ƒã€‚</p><p>ç¬¬ä¸€ç§ï¼Œä¸ <code>Blob</code> ç±»ä¼¼ï¼Œæœ‰ä¸€ä¸ªæ„é€ å™¨ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> File</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">fileParts</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">fileName</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, [</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">options</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong><code>fileParts</code></strong> â€”â€” Blob/BufferSource/String ç±»å‹å€¼çš„æ•°ç»„ã€‚</li><li><strong><code>fileName</code></strong> â€”â€” æ–‡ä»¶åå­—ç¬¦ä¸²ã€‚</li><li><code>options</code> å¯é€‰å¯¹è±¡ï¼š <ul><li><strong><code>lastModified</code></strong> â€”â€” æœ€åä¸€æ¬¡ä¿®æ”¹çš„æ—¶é—´æˆ³ï¼ˆæ•´æ•°æ—¥æœŸï¼‰ã€‚</li></ul></li></ul><p>ç¬¬äºŒç§ï¼Œæ›´å¸¸è§çš„æ˜¯ï¼Œæˆ‘ä»¬ä» <code>&lt;input type=&quot;file&quot;&gt;</code> æˆ–æ‹–æ”¾æˆ–å…¶ä»–æµè§ˆå™¨æ¥å£æ¥è·å–æ–‡ä»¶ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œfile å°†ä»æ“ä½œç³»ç»Ÿï¼ˆOSï¼‰è·å¾— this ä¿¡æ¯ã€‚</p><p>ç”±äº <code>File</code> æ˜¯ç»§æ‰¿è‡ª <code>Blob</code> çš„ï¼Œæ‰€ä»¥ <code>File</code> å¯¹è±¡å…·æœ‰ç›¸åŒçš„å±æ€§ï¼Œé™„åŠ ï¼š</p><ul><li><code>name</code> â€”â€” æ–‡ä»¶åï¼Œ</li><li><code>lastModified</code> â€”â€” æœ€åä¸€æ¬¡ä¿®æ”¹çš„æ—¶é—´æˆ³ã€‚</li></ul><p>è¿™å°±æ˜¯æˆ‘ä»¬ä» <code>&lt;input type=&quot;file&quot;&gt;</code> ä¸­è·å– <code>File</code> å¯¹è±¡çš„æ–¹å¼ï¼š</p><div class="language-markup line-numbers-mode" data-highlighter="shiki" data-ext="markup" data-title="markup" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>&lt;input type=&quot;file&quot; onchange=&quot;showFile(this)&quot;&gt;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>&lt;script&gt;</span></span>
<span class="line"><span>function showFile(input) {</span></span>
<span class="line"><span>  let file = input.files[0];</span></span>
<span class="line"><span></span></span>
<span class="line"><span>  alert(`File name: ${file.name}`); // ä¾‹å¦‚ my.png</span></span>
<span class="line"><span>  alert(`Last modified: ${file.lastModified}`); // ä¾‹å¦‚ 1552830408824</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>&lt;/script&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>è¯·æ³¨æ„ï¼š</strong></p><p>è¾“å…¥ï¼ˆinputï¼‰å¯ä»¥é€‰æ‹©å¤šä¸ªæ–‡ä»¶ï¼Œå› æ­¤ <code>input.files</code> æ˜¯ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡ã€‚è¿™é‡Œæˆ‘ä»¬åªæœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬åªå– <code>input.files[0]</code>ã€‚</p><h6 id="" tabindex="-1"><a class="header-anchor" href="#"><span></span></a></h6><p><a href="https://www.w3.org/TR/FileAPI/#dfn-filereader" target="_blank" rel="noopener noreferrer">FileReader</a> æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶å”¯ä¸€ç›®çš„æ˜¯ä» <code>Blob</code>ï¼ˆå› æ­¤ä¹Ÿä» <code>File</code>ï¼‰å¯¹è±¡ä¸­è¯»å–æ•°æ®ã€‚</p><p>å®ƒä½¿ç”¨äº‹ä»¶æ¥ä¼ é€’æ•°æ®ï¼Œå› ä¸ºä»ç£ç›˜è¯»å–æ•°æ®å¯èƒ½æ¯”è¾ƒè´¹æ—¶é—´ã€‚</p><p>æ„é€ å‡½æ•°ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> reader</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> FileReader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// æ²¡æœ‰å‚æ•°</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ä¸»è¦æ–¹æ³•:</p><ul><li><strong><code>readAsArrayBuffer(blob)</code></strong> â€”â€” å°†æ•°æ®è¯»å–ä¸ºäºŒè¿›åˆ¶æ ¼å¼çš„ <code>ArrayBuffer</code>ã€‚</li><li><strong><code>readAsText(blob, [encoding])</code></strong> â€”â€” å°†æ•°æ®è¯»å–ä¸ºç»™å®šç¼–ç ï¼ˆé»˜è®¤ä¸º <code>utf-8</code> ç¼–ç ï¼‰çš„æ–‡æœ¬å­—ç¬¦ä¸²ã€‚</li><li><strong><code>readAsDataURL(blob)</code></strong> â€”â€” è¯»å–äºŒè¿›åˆ¶æ•°æ®ï¼Œå¹¶å°†å…¶ç¼–ç ä¸º base64 çš„ data urlã€‚</li><li><strong><code>abort()</code></strong> â€”â€” å–æ¶ˆæ“ä½œã€‚</li></ul><p><code>read*</code> æ–¹æ³•çš„é€‰æ‹©ï¼Œå–å†³äºæˆ‘ä»¬å–œæ¬¢å“ªç§æ ¼å¼ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨æ•°æ®ã€‚</p><ul><li><code>readAsArrayBuffer</code> â€”â€” ç”¨äºäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ‰§è¡Œä½çº§åˆ«çš„äºŒè¿›åˆ¶æ“ä½œã€‚å¯¹äºè¯¸å¦‚åˆ‡ç‰‡ï¼ˆslicingï¼‰ä¹‹ç±»çš„é«˜çº§åˆ«çš„æ“ä½œï¼Œ<code>File</code> æ˜¯ç»§æ‰¿è‡ª <code>Blob</code> çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç›´æ¥è°ƒç”¨å®ƒä»¬ï¼Œè€Œæ— éœ€è¯»å–ã€‚</li><li><code>readAsText</code> â€”â€” ç”¨äºæ–‡æœ¬æ–‡ä»¶ï¼Œå½“æˆ‘ä»¬æƒ³è¦è·å–å­—ç¬¦ä¸²æ—¶ã€‚</li><li><code>readAsDataURL</code> â€”â€” å½“æˆ‘ä»¬æƒ³åœ¨ <code>src</code> ä¸­ä½¿ç”¨æ­¤æ•°æ®ï¼Œå¹¶å°†å…¶ç”¨äº <code>img</code> æˆ–å…¶ä»–æ ‡ç­¾æ—¶ã€‚æ­£å¦‚æˆ‘ä»¬åœ¨ <a href="https://zh.javascript.info/blob" target="_blank" rel="noopener noreferrer">Blob</a> ä¸€ç« ä¸­æ‰€è®²çš„ï¼Œè¿˜æœ‰ä¸€ç§ç”¨äºæ­¤çš„è¯»å–æ–‡ä»¶çš„æ›¿ä»£æ–¹æ¡ˆï¼š<code>URL.createObjectURL(file)</code>ã€‚</li></ul><p>è¯»å–è¿‡ç¨‹ä¸­ï¼Œæœ‰ä»¥ä¸‹äº‹ä»¶ï¼š</p><ul><li><code>loadstart</code> â€”â€” å¼€å§‹åŠ è½½ã€‚</li><li><code>progress</code> â€”â€” åœ¨è¯»å–è¿‡ç¨‹ä¸­å‡ºç°ã€‚</li><li><code>load</code> â€”â€” è¯»å–å®Œæˆï¼Œæ²¡æœ‰ errorã€‚</li><li><code>abort</code> â€”â€” è°ƒç”¨äº† <code>abort()</code>ã€‚</li><li><code>error</code> â€”â€” å‡ºç° errorã€‚</li><li><code>loadend</code> â€”â€” è¯»å–å®Œæˆï¼Œæ— è®ºæˆåŠŸè¿˜æ˜¯å¤±è´¥ã€‚</li></ul><p>è¯»å–å®Œæˆåï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¿é—®è¯»å–ç»“æœï¼š</p><ul><li><code>reader.result</code> æ˜¯ç»“æœï¼ˆå¦‚æœæˆåŠŸï¼‰</li><li><code>reader.error</code> æ˜¯ errorï¼ˆå¦‚æœå¤±è´¥ï¼‰ã€‚</li></ul><p>ä½¿ç”¨æœ€å¹¿æ³›çš„äº‹ä»¶æ— ç–‘æ˜¯ <code>load</code> å’Œ <code>error</code>ã€‚</p><p>è¿™æ˜¯ä¸€ä¸ªè¯»å–æ–‡ä»¶çš„ç¤ºä¾‹ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">input</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> type</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;file&quot;</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> onchange</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;readFile(this)&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">function readFile(input) </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> file</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> input</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">files</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">[</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">0</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">  let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> reader</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> FileReader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  reader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">readAsText</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">file</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  reader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">onload</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">reader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">result</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  reader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">onerror</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    console</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">log</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">reader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">error</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong><code>FileReader</code> ç”¨äº blob</strong></p><p>æ­£å¦‚æˆ‘ä»¬åœ¨ <a href="https://zh.javascript.info/blob" target="_blank" rel="noopener noreferrer">Blob</a> ä¸€ç« ä¸­æ‰€æåˆ°çš„ï¼Œ<code>FileReader</code> ä¸ä»…å¯è¯»å–æ–‡ä»¶ï¼Œè¿˜å¯è¯»å–ä»»ä½• blobã€‚</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å®ƒå°† blob è½¬æ¢ä¸ºå…¶ä»–æ ¼å¼ï¼š</p><ul><li><code>readAsArrayBuffer(blob)</code> â€”â€” è½¬æ¢ä¸º <code>ArrayBuffer</code>ï¼Œ</li><li><code>readAsText(blob, [encoding])</code> â€”â€” è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼ˆ<code>TextDecoder</code> çš„ä¸€ä¸ªæ›¿ä»£æ–¹æ¡ˆï¼‰ï¼Œ</li><li><code>readAsDataURL(blob)</code> â€”â€” è½¬æ¢ä¸º base64 çš„ data urlã€‚</li></ul><h3 id="_26-2-ç½‘ç»œè¯·æ±‚" tabindex="-1"><a class="header-anchor" href="#_26-2-ç½‘ç»œè¯·æ±‚"><span>26.2 ç½‘ç»œè¯·æ±‚</span></a></h3><h4 id="_26-2-1-fetch" tabindex="-1"><a class="header-anchor" href="#_26-2-1-fetch"><span>26.2.1 Fetch</span></a></h4><p>åŸºæœ¬è¯­æ³•ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> promise</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> fetch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">url</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, [</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">options</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><strong><code>url</code></strong> â€”â€” è¦è®¿é—®çš„ URLã€‚</li><li><strong><code>options</code></strong> â€”â€” å¯é€‰å‚æ•°ï¼šmethodï¼Œheader ç­‰ã€‚</li></ul><p>å…¸å‹çš„ fetch è¯·æ±‚ç”±ä¸¤ä¸ª <code>await</code> è°ƒç”¨ç»„æˆï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> response</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> await</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> fetch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">url</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">options</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// è§£æ response header</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> result</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> await</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> response</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">json</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å°† body è¯»å–ä¸º json</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ–è€…ä»¥ promise å½¢å¼ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">fetch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">url</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">options</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">then</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">response</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> response</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">json</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">())</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  .</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">then</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">result</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> =&gt;</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"> /* process result */</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å“åº”çš„å±æ€§ï¼š</p><ul><li><code>response.status</code> â€”â€” response çš„ HTTP çŠ¶æ€ç ï¼Œ</li><li><code>response.ok</code> â€”â€” HTTP çŠ¶æ€ç ä¸º 200-299ï¼Œåˆ™ä¸º <code>true</code>ã€‚</li><li><code>response.headers</code> â€”â€” ç±»ä¼¼äº Map çš„å¸¦æœ‰ HTTP header çš„å¯¹è±¡ã€‚</li></ul><p>è·å– response body çš„æ–¹æ³•ï¼š</p><ul><li><strong><code>response.text()</code></strong> â€”â€” è¯»å– responseï¼Œå¹¶ä»¥æ–‡æœ¬å½¢å¼è¿”å› responseï¼Œ</li><li><strong><code>response.json()</code></strong> â€”â€” å°† response è§£æä¸º JSON å¯¹è±¡å½¢å¼ï¼Œ</li><li><strong><code>response.formData()</code></strong> â€”â€” ä»¥ <code>FormData</code> å¯¹è±¡ï¼ˆ<code>multipart/form-data</code> ç¼–ç ï¼Œå‚è§ä¸‹ä¸€ç« ï¼‰çš„å½¢å¼è¿”å› responseï¼Œ</li><li><strong><code>response.blob()</code></strong> â€”â€” ä»¥ <a href="https://zh.javascript.info/blob" target="_blank" rel="noopener noreferrer">Blob</a>ï¼ˆå…·æœ‰ç±»å‹çš„äºŒè¿›åˆ¶æ•°æ®ï¼‰å½¢å¼è¿”å› responseï¼Œ</li><li><strong><code>response.arrayBuffer()</code></strong> â€”â€” ä»¥ <a href="https://zh.javascript.info/arraybuffer-binary-arrays" target="_blank" rel="noopener noreferrer">ArrayBuffer</a>ï¼ˆä½çº§åˆ«çš„äºŒè¿›åˆ¶æ•°æ®ï¼‰å½¢å¼è¿”å› responseã€‚</li></ul><p>åˆ°ç›®å‰ä¸ºæ­¢æˆ‘ä»¬äº†è§£åˆ°çš„ fetch é€‰é¡¹ï¼š</p><ul><li><code>method</code> â€”â€” HTTP æ–¹æ³•ï¼Œ</li><li><code>headers</code> â€”â€” å…·æœ‰ request header çš„å¯¹è±¡ï¼ˆä¸æ˜¯æ‰€æœ‰ header éƒ½æ˜¯è¢«å…è®¸çš„ï¼‰</li><li><code>body</code> â€”â€” è¦ä»¥ <code>string</code>ï¼Œ<code>FormData</code>ï¼Œ<code>BufferSource</code>ï¼Œ<code>Blob</code> æˆ– <code>UrlSearchParams</code> å¯¹è±¡çš„å½¢å¼å‘é€çš„æ•°æ®ï¼ˆrequest bodyï¼‰ã€‚</li></ul><p>ä½œä¸ºä¸€ä¸ªè¯»å–ä¸ºäºŒè¿›åˆ¶æ ¼å¼çš„æ¼”ç¤ºç¤ºä¾‹ï¼Œè®©æˆ‘ä»¬ fetch å¹¶æ˜¾ç¤ºä¸€å¼  <a href="https://fetch.spec.whatwg.org/" target="_blank" rel="noopener noreferrer">â€œfetchâ€ è§„èŒƒ</a> ä¸­çš„å›¾ç‰‡ï¼ˆ<code>Blob</code> æ“ä½œçš„æœ‰å…³å†…å®¹è¯·è§ <a href="https://zh.javascript.info/blob" target="_blank" rel="noopener noreferrer">Blob</a>ï¼‰ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> response</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> await</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> fetch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;/article/fetch/logo-fetch.svg&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> blob</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> await</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> response</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">blob</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ä¸‹è½½ä¸º Blob å¯¹è±¡</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// ä¸ºå…¶åˆ›å»ºä¸€ä¸ª &lt;img&gt;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> img</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> document</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">createElement</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;img&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">img</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">style</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;position:fixed;top:10px;left:10px;width:100px&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">document</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">body</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">append</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">img</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// æ˜¾ç¤ºå®ƒ</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">img</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">src</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> URL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">createObjectURL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">blob</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">setTimeout</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(() </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">=&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> { </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// 3 ç§’åå°†å…¶éšè—</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">  img</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">remove</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">  URL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">revokeObjectURL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">img</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">src</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}, </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">3000</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>POST è¯·æ±‚ï¼š</p><p>è¦åˆ›å»ºä¸€ä¸ª <code>POST</code> è¯·æ±‚ï¼Œæˆ–è€…å…¶ä»–æ–¹æ³•çš„è¯·æ±‚ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ <code>fetch</code> é€‰é¡¹ï¼š</p><ul><li><p><strong><code>method</code></strong> â€”â€” HTTP æ–¹æ³•ï¼Œä¾‹å¦‚ <code>POST</code>ï¼Œ</p></li><li><p><code>body</code></p><p>â€”â€” request bodyï¼Œå…¶ä¸­ä¹‹ä¸€ï¼š</p><ul><li>å­—ç¬¦ä¸²ï¼ˆä¾‹å¦‚ JSON ç¼–ç çš„ï¼‰ï¼Œ</li><li><code>FormData</code> å¯¹è±¡ï¼Œä»¥ <code>multipart/form-data</code> å½¢å¼å‘é€æ•°æ®ï¼Œ</li><li><code>Blob</code>/<code>BufferSource</code> å‘é€äºŒè¿›åˆ¶æ•°æ®ï¼Œ</li><li><a href="https://zh.javascript.info/url" target="_blank" rel="noopener noreferrer">URLSearchParams</a>ï¼Œä»¥ <code>x-www-form-urlencoded</code> ç¼–ç å½¢å¼å‘é€æ•°æ®ï¼Œå¾ˆå°‘ä½¿ç”¨ã€‚</li></ul></li></ul><p>JSON å½¢å¼æ˜¯æœ€å¸¸ç”¨çš„ã€‚</p><p>ä¾‹å¦‚ï¼Œä¸‹é¢è¿™æ®µä»£ç ä»¥ JSON å½¢å¼å‘é€ <code>user</code> å¯¹è±¡ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> user</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  name</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;John&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  surname</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;Smith&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> response</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> await</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> fetch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;/article/fetch/post/user&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  method</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;POST&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  headers</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">    &#39;Content-Type&#39;</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;application/json;charset=utf-8&#39;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  },</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  body</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;"> JSON</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">stringify</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> result</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> await</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> response</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">json</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">result</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">message</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_26-2-2-formdata" tabindex="-1"><a class="header-anchor" href="#_26-2-2-formdata"><span>26.2.2 FormData</span></a></h4><p>è¿™ä¸€ç« æ˜¯å…³äºå‘é€ HTML è¡¨å•çš„ï¼šå¸¦æœ‰æˆ–ä¸å¸¦æ–‡ä»¶ï¼Œå¸¦æœ‰å…¶ä»–å­—æ®µç­‰ã€‚</p><p>æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œå®ƒå‡ ä¹å°±æ˜¯ä¸€è¡Œä»£ç ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">form</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> id</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;formElem&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">input</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> type</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;text&quot;</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;name&quot;</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;John&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">input</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> type</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;text&quot;</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> name</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;surname&quot;</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> value</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;Smith&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">input</span><span style="--shiki-light:#986801;--shiki-light-font-style:inherit;--shiki-dark:#D19A66;--shiki-dark-font-style:italic;"> type</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;submit&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">form</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  formElem.onsubmit = async (e) =&gt; </span><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">{</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">    e</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">preventDefault</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> response</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> await</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> fetch</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;/article/formdata/post/user&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, {</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      method</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;POST&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      body</span><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> FormData</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">formElem</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> result</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> await</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;"> response</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">json</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">result</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">message</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#C678DD;">  }</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">script</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>FormData æ–¹æ³•</strong>:</p><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ä¿®æ”¹ <code>FormData</code> ä¸­çš„å­—æ®µï¼š</p><ul><li><code>formData.append(name, value)</code> â€”â€” æ·»åŠ å…·æœ‰ç»™å®š <code>name</code> å’Œ <code>value</code> çš„è¡¨å•å­—æ®µï¼Œ</li><li><code>formData.append(name, blob, fileName)</code> â€”â€” æ·»åŠ ä¸€ä¸ªå­—æ®µï¼Œå°±åƒå®ƒæ˜¯ <code>&lt;input type=&quot;file&quot;&gt;</code>ï¼Œç¬¬ä¸‰ä¸ªå‚æ•° <code>fileName</code> è®¾ç½®æ–‡ä»¶åï¼ˆè€Œä¸æ˜¯è¡¨å•å­—æ®µåï¼‰ï¼Œå› ä¸ºå®ƒæ˜¯ç”¨æˆ·æ–‡ä»¶ç³»ç»Ÿä¸­æ–‡ä»¶çš„åç§°ï¼Œ</li><li><code>formData.delete(name)</code> â€”â€” ç§»é™¤å¸¦æœ‰ç»™å®š <code>name</code> çš„å­—æ®µï¼Œ</li><li><code>formData.get(name)</code> â€”â€” è·å–å¸¦æœ‰ç»™å®š <code>name</code> çš„å­—æ®µå€¼ï¼Œ</li><li><code>formData.has(name)</code> â€”â€” å¦‚æœå­˜åœ¨å¸¦æœ‰ç»™å®š <code>name</code> çš„å­—æ®µï¼Œåˆ™è¿”å› <code>true</code>ï¼Œå¦åˆ™è¿”å› <code>false</code>ã€‚</li></ul><p>ä»æŠ€æœ¯ä¸Šæ¥è®²ï¼Œä¸€ä¸ªè¡¨å•å¯ä»¥åŒ…å«å¤šä¸ªå…·æœ‰ç›¸åŒ <code>name</code> çš„å­—æ®µï¼Œå› æ­¤ï¼Œå¤šæ¬¡è°ƒç”¨ <code>append</code> å°†ä¼šæ·»åŠ å¤šä¸ªå…·æœ‰ç›¸åŒåç§°çš„å­—æ®µã€‚</p><p>è¿˜æœ‰ä¸€ä¸ª <code>set</code> æ–¹æ³•ï¼Œè¯­æ³•ä¸ <code>append</code> ç›¸åŒã€‚ä¸åŒä¹‹å¤„åœ¨äº <code>.set</code> ç§»é™¤æ‰€æœ‰å…·æœ‰ç»™å®š <code>name</code> çš„å­—æ®µï¼Œç„¶åé™„åŠ ä¸€ä¸ªæ–°å­—æ®µã€‚å› æ­¤ï¼Œå®ƒç¡®ä¿äº†åªæœ‰ä¸€ä¸ªå…·æœ‰è¿™ç§ <code>name</code> çš„å­—æ®µï¼Œå…¶ä»–çš„å’Œ <code>append</code> ä¸€æ ·ï¼š</p><ul><li><code>formData.set(name, value)</code>ï¼Œ</li><li><code>formData.set(name, blob, fileName)</code>ã€‚</li></ul><h4 id="_26-2-3-xmlhttprequest" tabindex="-1"><a class="header-anchor" href="#_26-2-3-xmlhttprequest"><span>26.2.3 XMLHttpRequest</span></a></h4><p><a href="https://www.cnblogs.com/xiang--liu/p/11505721.html" target="_blank" rel="noopener noreferrer">HttpServletResponse ServletResponse è¿”å›å“åº” è®¾ç½®å“åº”å¤´è®¾ç½®å“åº”æ­£æ–‡ä½“ é‡å®šå‘ å¸¸ç”¨æ–¹æ³• å¦‚ä½•é‡å®šå‘ å“åº”ç¼–ç  å“åº”ä¹±ç  - åˆ˜è¾¾äºº186 - åšå®¢å›­ (cnblogs.com)</a></p><p><a href="https://juejin.cn/post/6844904052875067400" target="_blank" rel="noopener noreferrer">æ·±å…¥ç†è§£XMLHttpRequest - æ˜é‡‘ (juejin.cn)</a></p><p><a href="https://www.csdn.net/tags/MtTaMg0sNzcyNDA1LWJsb2cO0O0O.html" target="_blank" rel="noopener noreferrer">(19æ¡æ¶ˆæ¯) httpè¯·æ±‚xmlå“åº”å¦‚ä½•å¤„ç†ä¹±ç  - CSDN</a></p><p>åœ¨ç°ä»£ Web å¼€å‘ä¸­ï¼Œå‡ºäºä»¥ä¸‹ä¸‰ç§åŸå› ï¼Œæˆ‘ä»¬è¿˜åœ¨ä½¿ç”¨ <code>XMLHttpRequest</code>ï¼š</p><ol><li>å†å²åŸå› ï¼šæˆ‘ä»¬éœ€è¦æ”¯æŒç°æœ‰çš„ä½¿ç”¨äº† <code>XMLHttpRequest</code> çš„è„šæœ¬ã€‚</li><li>æˆ‘ä»¬éœ€è¦å…¼å®¹æ—§æµè§ˆå™¨ï¼Œå¹¶ä¸”ä¸æƒ³ç”¨ polyfillï¼ˆä¾‹å¦‚ä¸ºäº†ä½¿è„šæœ¬æ›´å°ï¼‰ã€‚</li><li>æˆ‘ä»¬éœ€è¦åšä¸€äº› <code>fetch</code> ç›®å‰æ— æ³•åšåˆ°çš„äº‹æƒ…ï¼Œä¾‹å¦‚è·Ÿè¸ªä¸Šä¼ è¿›åº¦ã€‚</li></ol><p>XMLHttpRequest æœ‰ä¸¤ç§æ‰§è¡Œæ¨¡å¼ï¼šåŒæ­¥ï¼ˆsynchronousï¼‰å’Œå¼‚æ­¥ï¼ˆasynchronousï¼‰ã€‚</p><p>æˆ‘ä»¬é¦–å…ˆæ¥çœ‹çœ‹æœ€å¸¸ç”¨çš„å¼‚æ­¥æ¨¡å¼ï¼š</p><p>è¦å‘é€è¯·æ±‚ï¼Œéœ€è¦ 3 ä¸ªæ­¥éª¤ï¼š</p><ol><li><p>åˆ›å»º <code>XMLHttpRequest</code>ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> xhr</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> XMLHttpRequest</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æ­¤æ„é€ å™¨æ²¡æœ‰å‚æ•°ã€‚</p></li><li><p>åˆå§‹åŒ–å®ƒï¼Œé€šå¸¸å°±åœ¨ <code>new XMLHttpRequest</code> ä¹‹åï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">xhr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">open</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">method</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#986801;--shiki-dark:#E5C07B;">URL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, [</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">async</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">user</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">password</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æ­¤æ–¹æ³•æŒ‡å®šè¯·æ±‚çš„ä¸»è¦å‚æ•°ï¼š</p><ul><li><code>method</code> â€”â€” HTTP æ–¹æ³•ã€‚é€šå¸¸æ˜¯ <code>&quot;GET&quot;</code> æˆ– <code>&quot;POST&quot;</code>ã€‚</li><li><code>URL</code> â€”â€” è¦è¯·æ±‚çš„ URLï¼Œé€šå¸¸æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¹Ÿå¯ä»¥æ˜¯ <a href="https://zh.javascript.info/url" target="_blank" rel="noopener noreferrer">URL</a> å¯¹è±¡ã€‚</li><li><code>async</code> â€”â€” å¦‚æœæ˜¾å¼åœ°è®¾ç½®ä¸º <code>false</code>ï¼Œé‚£ä¹ˆè¯·æ±‚å°†ä¼šä»¥åŒæ­¥çš„æ–¹å¼å¤„ç†ï¼Œæˆ‘ä»¬ç¨åä¼šè®²åˆ°å®ƒã€‚</li><li><code>user</code>ï¼Œ<code>password</code> â€”â€” HTTP åŸºæœ¬èº«ä»½éªŒè¯ï¼ˆå¦‚æœéœ€è¦çš„è¯ï¼‰çš„ç™»å½•åå’Œå¯†ç ã€‚</li></ul><p>è¯·æ³¨æ„ï¼Œ<code>open</code> è°ƒç”¨ä¸å…¶åç§°ç›¸åï¼Œä¸ä¼šå»ºç«‹è¿æ¥ã€‚å®ƒä»…é…ç½®è¯·æ±‚ï¼Œè€Œç½‘ç»œæ´»åŠ¨ä»…ä»¥ <code>send</code> è°ƒç”¨å¼€å¯ã€‚</p></li><li><p>å‘é€è¯·æ±‚ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">xhr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">send</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">([</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">body</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">])</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>è¿™ä¸ªæ–¹æ³•ä¼šå»ºç«‹è¿æ¥ï¼Œå¹¶å°†è¯·æ±‚å‘é€åˆ°æœåŠ¡å™¨ã€‚å¯é€‰å‚æ•° <code>body</code> åŒ…å«äº† request bodyã€‚</p></li><li><p>ç›‘å¬ <code>xhr</code> äº‹ä»¶ä»¥è·å–å“åº”ã€‚</p><p>è¿™ä¸‰ä¸ªäº‹ä»¶æ˜¯æœ€å¸¸ç”¨çš„ï¼š</p><ul><li><p><code>load</code> â€”â€” å½“è¯·æ±‚å®Œæˆï¼ˆå³ä½¿ HTTP çŠ¶æ€ä¸º 400 æˆ– 500 ç­‰ï¼‰ï¼Œå¹¶ä¸”å“åº”å·²å®Œå…¨ä¸‹è½½ã€‚</p></li><li><p><code>error</code> â€”â€” å½“æ— æ³•å‘å‡ºè¯·æ±‚ï¼Œä¾‹å¦‚ç½‘ç»œä¸­æ–­æˆ–è€…æ— æ•ˆçš„ URLã€‚</p></li><li><p><code>progress</code> â€”â€” åœ¨ä¸‹è½½å“åº”æœŸé—´å®šæœŸè§¦å‘ï¼ŒæŠ¥å‘Šå·²ç»ä¸‹è½½äº†å¤šå°‘ã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">xhr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">onprogress</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">event</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">  if</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">event</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">lengthComputable</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`Received </span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">event</span><span style="--shiki-light:#50A14F;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">loaded</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> of </span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">event</span><span style="--shiki-light:#50A14F;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">total</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bytes`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  } </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`Received </span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">event</span><span style="--shiki-light:#50A14F;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">loaded</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bytes`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// æ²¡æœ‰ Content-Length</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ol><p>ä¸€æ—¦æœåŠ¡å™¨æœ‰äº†å“åº”ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»¥ä¸‹ <code>xhr</code> å±æ€§ä¸­æ¥æ”¶ç»“æœï¼š</p><ul><li><p><code>status</code></p><p>HTTP çŠ¶æ€ç ï¼ˆä¸€ä¸ªæ•°å­—ï¼‰ï¼š<code>200</code>ï¼Œ<code>404</code>ï¼Œ<code>403</code> ç­‰ï¼Œå¦‚æœå‡ºç°é HTTP é”™è¯¯ï¼Œåˆ™ä¸º <code>0</code>ã€‚</p></li><li><p><code>statusText</code></p><p>HTTP çŠ¶æ€æ¶ˆæ¯ï¼ˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼‰ï¼šçŠ¶æ€ç ä¸º <code>200</code> å¯¹åº”äº <code>OK</code>ï¼Œ<code>404</code> å¯¹åº”äº <code>Not Found</code>ï¼Œ<code>403</code> å¯¹åº”äº <code>Forbidden</code>ã€‚</p></li></ul><h5 id="_26-2-3-1-å“åº”æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_26-2-3-1-å“åº”æ•°æ®"><span>26.2.3.1 <strong>å“åº”æ•°æ®</strong></span></a></h5><p>æ•°æ®åœ¨<code>xhr.response</code>é‡Œé¢</p><h5 id="_26-2-3-2-å“åº”ç±»å‹" tabindex="-1"><a class="header-anchor" href="#_26-2-3-2-å“åº”ç±»å‹"><span>26.2.3.2 <strong>å“åº”ç±»å‹ï¼š</strong></span></a></h5><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>xhr.responseType</code> å±æ€§æ¥è®¾ç½®å“åº”æ ¼å¼ï¼š</p><ul><li><code>&quot;&quot;</code>ï¼ˆé»˜è®¤ï¼‰â€”â€” å“åº”æ ¼å¼ä¸ºå­—ç¬¦ä¸²ï¼Œ</li><li><code>&quot;text&quot;</code> â€”â€” å“åº”æ ¼å¼ä¸ºå­—ç¬¦ä¸²ï¼Œ</li><li><code>&quot;arraybuffer&quot;</code> â€”â€” å“åº”æ ¼å¼ä¸º <code>ArrayBuffer</code>ï¼ˆå¯¹äºäºŒè¿›åˆ¶æ•°æ®ï¼Œè¯·å‚è§ <a href="https://zh.javascript.info/arraybuffer-binary-arrays" target="_blank" rel="noopener noreferrer">ArrayBufferï¼ŒäºŒè¿›åˆ¶æ•°ç»„</a>ï¼‰ï¼Œ</li><li><code>&quot;blob&quot;</code> â€”â€” å“åº”æ ¼å¼ä¸º <code>Blob</code>ï¼ˆå¯¹äºäºŒè¿›åˆ¶æ•°æ®ï¼Œè¯·å‚è§ <a href="https://zh.javascript.info/blob" target="_blank" rel="noopener noreferrer">Blob</a>ï¼‰ï¼Œ</li><li><code>&quot;document&quot;</code> â€”â€” å“åº”æ ¼å¼ä¸º XML documentï¼ˆå¯ä»¥ä½¿ç”¨ XPath å’Œå…¶ä»– XML æ–¹æ³•ï¼‰æˆ– HTML documentï¼ˆåŸºäºæ¥æ”¶æ•°æ®çš„ MIME ç±»å‹ï¼‰</li><li><code>&quot;json&quot;</code> â€”â€” å“åº”æ ¼å¼ä¸º JSONï¼ˆè‡ªåŠ¨è§£æï¼‰ã€‚</li></ul><p><strong>HTTP-header</strong></p><p>HTTP-header æœ‰ä¸‰ç§æ–¹æ³•ï¼š</p><ul><li><p><code>setRequestHeader(name, value)</code></p><p>ä½¿ç”¨ç»™å®šçš„ <code>name</code> å’Œ <code>value</code> è®¾ç½® request headerã€‚ä¾‹å¦‚ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">xhr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">setRequestHeader</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;Content-Type&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;application/json&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p><code>getResponseHeader(name)</code></p><p>è·å–å…·æœ‰ç»™å®š <code>name</code> çš„ headerï¼ˆ<code>Set-Cookie</code> å’Œ <code>Set-Cookie2</code> é™¤å¤–ï¼‰ã€‚</p></li><li><p><code>getAllResponseHeaders()</code></p><p>è¿”å›é™¤ <code>Set-Cookie</code> å’Œ <code>Set-Cookie2</code> å¤–çš„æ‰€æœ‰ response headerã€‚</p><p>header ä»¥å•è¡Œå½¢å¼è¿”å›</p></li></ul><h5 id="_26-2-3-3-ä¸Šä¼ è¿›åº¦" tabindex="-1"><a class="header-anchor" href="#_26-2-3-3-ä¸Šä¼ è¿›åº¦"><span>26.2.3.3 <strong>ä¸Šä¼ è¿›åº¦</strong></span></a></h5><p><code>progress</code> äº‹ä»¶ä»…åœ¨ä¸‹è½½é˜¶æ®µè§¦å‘ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼šå¦‚æœæˆ‘ä»¬ <code>POST</code> ä¸€äº›å†…å®¹ï¼Œ<code>XMLHttpRequest</code> é¦–å…ˆä¸Šä¼ æˆ‘ä»¬çš„æ•°æ®ï¼ˆrequest bodyï¼‰ï¼Œç„¶åä¸‹è½½å“åº”ã€‚</p><p>å¦‚æœæˆ‘ä»¬è¦ä¸Šä¼ çš„ä¸œè¥¿å¾ˆå¤§ï¼Œé‚£ä¹ˆæˆ‘ä»¬è‚¯å®šä¼šå¯¹è·Ÿè¸ªä¸Šä¼ è¿›åº¦æ„Ÿå…´è¶£ã€‚ä½†æ˜¯ <code>xhr.onprogress</code> åœ¨è¿™é‡Œå¹¶ä¸èµ·ä½œç”¨ã€‚</p><p>è¿™é‡Œæœ‰å¦ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒæ²¡æœ‰æ–¹æ³•ï¼Œå®ƒä¸“é—¨ç”¨äºè·Ÿè¸ªä¸Šä¼ äº‹ä»¶ï¼š<code>xhr.upload</code>ã€‚</p><p>å®ƒä¼šç”Ÿæˆäº‹ä»¶ï¼Œç±»ä¼¼äº <code>xhr</code>ï¼Œä½†æ˜¯ <code>xhr.upload</code> ä»…åœ¨ä¸Šä¼ æ—¶è§¦å‘å®ƒä»¬ï¼š</p><ul><li><p><code>loadstart</code> â€”â€” ä¸Šä¼ å¼€å§‹ã€‚</p></li><li><p><code>progress</code> â€”â€” ä¸Šä¼ æœŸé—´å®šæœŸè§¦å‘ã€‚</p></li><li><p><code>abort</code> â€”â€” ä¸Šä¼ ä¸­æ­¢ã€‚</p></li><li><p><code>error</code> â€”â€” é HTTP é”™è¯¯ã€‚</p></li><li><p><code>load</code> â€”â€” ä¸Šä¼ æˆåŠŸå®Œæˆã€‚</p></li><li><p><code>timeout</code> â€”â€” ä¸Šä¼ è¶…æ—¶ï¼ˆå¦‚æœè®¾ç½®äº† <code>timeout</code> å±æ€§ï¼‰ã€‚</p></li><li><p><code>loadend</code> â€”â€” ä¸Šä¼ å®Œæˆï¼Œæ— è®ºæˆåŠŸè¿˜æ˜¯ errorã€‚</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">xhr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">upload</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">onprogress</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#383A42;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">event</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">) {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`Uploaded </span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">event</span><span style="--shiki-light:#50A14F;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">loaded</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> of </span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">event</span><span style="--shiki-light:#50A14F;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">total</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bytes`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">xhr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">upload</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">onload</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`Upload finished successfully.`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">xhr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">upload</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">onerror</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">() {</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">  alert</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`Error during the upload: </span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">${</span><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">xhr</span><span style="--shiki-light:#50A14F;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">status</span><span style="--shiki-light:#CA1243;--shiki-dark:#C678DD;">}</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">`</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">};</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h5 id="_26-2-3-4-è·¨åŸŸè¯·æ±‚" tabindex="-1"><a class="header-anchor" href="#_26-2-3-4-è·¨åŸŸè¯·æ±‚"><span>26.2.3.4 <strong>è·¨åŸŸè¯·æ±‚</strong></span></a></h5><p><code>XMLHttpRequest</code> å¯ä»¥ä½¿ç”¨å’Œ <a href="https://zh.javascript.info/fetch-crossorigin" target="_blank" rel="noopener noreferrer">fetch</a> ç›¸åŒçš„ CORS ç­–ç•¥è¿›è¡Œè·¨æºè¯·æ±‚ã€‚</p><p>å°±åƒ <code>fetch</code> ä¸€æ ·ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¸ä¼šå°† cookie å’Œ HTTP æˆæƒå‘é€åˆ°å…¶ä»–åŸŸã€‚è¦å¯ç”¨å®ƒä»¬ï¼Œå¯ä»¥å°† <code>xhr.withCredentials</code> è®¾ç½®ä¸º <code>true</code>ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> xhr</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> XMLHttpRequest</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">();</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">xhr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">withCredentials</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">xhr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">open</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;POST&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;http://anywhere.com/request&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#ABB2BF;">...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>26.2.4 <strong>URL æœç´¢å‚æ•°ï¼ˆURL search parametersï¼‰</strong></p><p>ä¸ºäº†å‘ URL æ·»åŠ åƒ <code>?name=value</code> è¿™æ ·çš„å‚æ•°ï¼Œå¹¶ç¡®ä¿æ­£ç¡®çš„ç¼–ç ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <a href="https://zh.javascript.info/url" target="_blank" rel="noopener noreferrer">URL</a> å¯¹è±¡ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">let</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> url</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> URL</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;https://google.com/search&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">url</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">searchParams</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">set</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;q&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;test me!&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// å‚æ•° &#39;q&#39; è¢«ç¼–ç </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">xhr</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">open</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&#39;GET&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">url</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">); </span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// https://google.com/search?q=test+me%21</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_26-3-åœ¨æµè§ˆå™¨ä¸­å­˜å‚¨æ•°æ®" tabindex="-1"><a class="header-anchor" href="#_26-3-åœ¨æµè§ˆå™¨ä¸­å­˜å‚¨æ•°æ®"><span>26.3 åœ¨æµè§ˆå™¨ä¸­å­˜å‚¨æ•°æ®</span></a></h3><h4 id="_26-3-1-cookie-document-cookie" tabindex="-1"><a class="header-anchor" href="#_26-3-1-cookie-document-cookie"><span>26.3.1 Cookieï¼Œdocument.cookie</span></a></h4><p>Cookie é€šå¸¸æ˜¯ç”± Web æœåŠ¡å™¨ä½¿ç”¨å“åº” <code>Set-Cookie</code> HTTP-header è®¾ç½®çš„ã€‚ç„¶åæµè§ˆå™¨ä½¿ç”¨ <code>Cookie</code> HTTP-header å°†å®ƒä»¬è‡ªåŠ¨æ·»åŠ åˆ°ï¼ˆå‡ ä¹ï¼‰æ¯ä¸ªå¯¹ç›¸åŒåŸŸçš„è¯·æ±‚ä¸­ã€‚</p><p>é€‰é¡¹è¢«åˆ—åœ¨ <code>key=value</code> ä¹‹åï¼Œä»¥ <code>;</code> åˆ†éš”ï¼Œåƒè¿™æ ·ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">document</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">cookie</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;user=John; path=/; expires=Tue, 19 Jan 2038 03:14:07 GMT&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><code>document.cookie</code> æä¾›äº†å¯¹ cookie çš„è®¿é—®</p><ul><li>å†™å…¥æ“ä½œåªä¼šä¿®æ”¹å…¶ä¸­æåˆ°çš„ cookieã€‚</li><li>name/value å¿…é¡»è¢«ç¼–ç ã€‚</li><li>ä¸€ä¸ª cookie æœ€å¤§ä¸èƒ½è¶…è¿‡ 4KBã€‚æ¯ä¸ªåŸŸä¸‹æœ€å¤šå…è®¸æœ‰ 20+ ä¸ªå·¦å³çš„ cookieï¼ˆå…·ä½“å–å†³äºæµè§ˆå™¨ï¼‰ã€‚</li></ul><p>Cookie é€‰é¡¹ï¼š</p><ul><li><p><code>path=/</code>ï¼Œé»˜è®¤ä¸ºå½“å‰è·¯å¾„ï¼Œä½¿ cookie ä»…åœ¨è¯¥è·¯å¾„ä¸‹å¯è§ã€‚</p><p>url è·¯å¾„å‰ç¼€å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„ã€‚å®ƒä½¿å¾—è¯¥è·¯å¾„ä¸‹çš„é¡µé¢å¯ä»¥è®¿é—®è¯¥ cookieã€‚é»˜è®¤ä¸ºå½“å‰è·¯å¾„ã€‚</p><p>å¦‚æœä¸€ä¸ª cookie å¸¦æœ‰ <code>path=/admin</code> è®¾ç½®ï¼Œé‚£ä¹ˆè¯¥ cookie åœ¨ <code>/admin</code> å’Œ <code>/admin/something</code> ä¸‹éƒ½æ˜¯å¯è§çš„ï¼Œä½†æ˜¯åœ¨ <code>/home</code> æˆ– <code>/adminpage</code> ä¸‹ä¸å¯è§ã€‚</p><p>é€šå¸¸ï¼Œæˆ‘ä»¬åº”è¯¥å°† <code>path</code> è®¾ç½®ä¸ºæ ¹ç›®å½•ï¼š<code>path=/</code>ï¼Œä»¥ä½¿ cookie å¯¹æ­¤ç½‘ç«™çš„æ‰€æœ‰é¡µé¢å¯è§ã€‚</p></li><li><p><code>domain=site.com</code>ï¼Œé»˜è®¤ cookie ä»…åœ¨å½“å‰åŸŸä¸‹å¯è§ã€‚å¦‚æœæ˜¾å¼åœ°è®¾ç½®äº†åŸŸï¼Œå¯ä»¥ä½¿ cookie åœ¨å­åŸŸä¸‹ä¹Ÿå¯è§ã€‚</p></li><li><p><code>expires</code> æˆ– <code>max-age</code> è®¾å®šäº† cookie è¿‡æœŸæ—¶é—´ã€‚å¦‚æœæ²¡æœ‰è®¾ç½®ï¼Œåˆ™å½“æµè§ˆå™¨å…³é—­æ—¶ cookie å°±ä¼šå¤±æ•ˆã€‚</p><p>å®ƒæ˜¯ <code>expires</code> çš„æ›¿ä»£é€‰é¡¹ï¼ŒæŒ‡æ˜äº† cookie çš„è¿‡æœŸæ—¶é—´è·ç¦»å½“å‰æ—¶é—´çš„ç§’æ•°ã€‚</p><p>å¦‚æœå°†å…¶è®¾ç½®ä¸º 0 æˆ–è´Ÿæ•°ï¼Œåˆ™ cookie ä¼šè¢«åˆ é™¤ï¼š</p><div class="language-javascript line-numbers-mode" data-highlighter="shiki" data-ext="javascript" data-title="javascript" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// cookie ä¼šåœ¨ä¸€å°æ—¶åå¤±æ•ˆ</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">document</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">cookie</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;user=John; max-age=3600&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">// åˆ é™¤ cookieï¼ˆè®©å®ƒç«‹å³è¿‡æœŸï¼‰</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E5C07B;">document</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">cookie</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;user=John; max-age=0&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>secure</code> ä½¿ cookie ä»…åœ¨ HTTPS ä¸‹æœ‰æ•ˆã€‚</p></li><li><p><code>samesite</code>ï¼Œå¦‚æœè¯·æ±‚æ¥è‡ªå¤–éƒ¨ç½‘ç«™ï¼Œç¦æ­¢æµè§ˆå™¨å‘é€ cookieã€‚è¿™æœ‰åŠ©äºé˜²æ­¢ XSRF æ”»å‡»ã€‚<code>samesite=strict</code> çš„ cookie æ°¸è¿œä¸ä¼šè¢«å‘é€ã€‚</p></li></ul><h4 id="_26-3-2-localstorage-sessionstorage" tabindex="-1"><a class="header-anchor" href="#_26-3-2-localstorage-sessionstorage"><span>26.3.2 LocalStorageï¼ŒsessionStorage</span></a></h4><p>Web å­˜å‚¨å¯¹è±¡ <code>localStorage</code> å’Œ <code>sessionStorage</code> å…è®¸æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸Šä¿å­˜é”®/å€¼å¯¹ã€‚</p><div class="hint-container tip"><p class="hint-container-title">æç¤º</p><p>æˆ‘ä»¬å·²ç»æœ‰äº† cookieã€‚ä¸ºä»€ä¹ˆè¿˜è¦å…¶ä»–å­˜å‚¨å¯¹è±¡å‘¢ï¼Ÿ</p><ul><li>ä¸ cookie ä¸åŒï¼ŒWeb å­˜å‚¨å¯¹è±¡ä¸ä¼šéšæ¯ä¸ªè¯·æ±‚è¢«å‘é€åˆ°æœåŠ¡å™¨ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä¿å­˜æ›´å¤šæ•°æ®ã€‚å¤§å¤šæ•°æµè§ˆå™¨éƒ½å…è®¸ä¿å­˜è‡³å°‘ 2MB çš„æ•°æ®ï¼ˆæˆ–æ›´å¤šï¼‰ï¼Œå¹¶ä¸”å…·æœ‰ç”¨äºé…ç½®æ•°æ®çš„è®¾ç½®ã€‚</li><li>è¿˜æœ‰ä¸€ç‚¹å’Œ cookie ä¸åŒï¼ŒæœåŠ¡å™¨æ— æ³•é€šè¿‡ HTTP header æ“çºµå­˜å‚¨å¯¹è±¡ã€‚ä¸€åˆ‡éƒ½æ˜¯åœ¨ JavaScript ä¸­å®Œæˆçš„ã€‚</li><li>å­˜å‚¨ç»‘å®šåˆ°æºï¼ˆåŸŸ/åè®®/ç«¯å£ä¸‰è€…ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸åŒåè®®æˆ–å­åŸŸå¯¹åº”ä¸åŒçš„å­˜å‚¨å¯¹è±¡ï¼Œå®ƒä»¬ä¹‹é—´æ— æ³•è®¿é—®å½¼æ­¤æ•°æ®ã€‚</li></ul></div><p>ä¸¤ä¸ªå­˜å‚¨å¯¹è±¡éƒ½æä¾›ç›¸åŒçš„æ–¹æ³•å’Œå±æ€§ï¼š</p><ul><li><code>setItem(key, value)</code> â€”â€” å­˜å‚¨é”®/å€¼å¯¹ã€‚</li><li><code>getItem(key)</code> â€”â€” æŒ‰ç…§é”®è·å–å€¼ã€‚</li><li><code>removeItem(key)</code> â€”â€” åˆ é™¤é”®åŠå…¶å¯¹åº”çš„å€¼ã€‚</li><li><code>clear()</code> â€”â€” åˆ é™¤æ‰€æœ‰æ•°æ®ã€‚</li><li><code>key(index)</code> â€”â€” è·å–è¯¥ç´¢å¼•ä¸‹çš„é”®åã€‚</li><li><code>length</code> â€”â€” å­˜å‚¨çš„å†…å®¹çš„é•¿åº¦ã€‚</li></ul><p>æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œå®ƒå°±åƒä¸€ä¸ª <code>Map</code> é›†åˆï¼ˆ<code>setItem/getItem/removeItem</code>ï¼‰ï¼Œä½†ä¹Ÿå…è®¸é€šè¿‡ <code>key(index)</code> æ¥æŒ‰ç´¢å¼•è®¿é—®ã€‚</p><p><code>localStorage</code> æœ€ä¸»è¦çš„ç‰¹ç‚¹æ˜¯ï¼š</p><ul><li>åœ¨åŒæºçš„æ‰€æœ‰æ ‡ç­¾é¡µå’Œçª—å£ä¹‹é—´å…±äº«æ•°æ®ã€‚</li><li>æ•°æ®ä¸ä¼šè¿‡æœŸã€‚å®ƒåœ¨æµè§ˆå™¨é‡å¯ç”šè‡³ç³»ç»Ÿé‡å¯åä»ç„¶å­˜åœ¨ã€‚</li></ul><p>æˆ‘ä»¬åªéœ€è¦åœ¨åŒä¸€ä¸ªæºï¼ˆåŸŸ/ç«¯å£/åè®®ï¼‰ï¼ŒURL è·¯å¾„å¯ä»¥ä¸åŒã€‚</p><p>åœ¨æ‰€æœ‰åŒæºçš„çª—å£ä¹‹é—´ï¼Œ<code>localStorage</code> æ•°æ®å¯ä»¥å…±äº«ã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬åœ¨ä¸€ä¸ªçª—å£ä¸­è®¾ç½®äº†æ•°æ®ï¼Œåˆ™åœ¨å¦ä¸€ä¸ªçª—å£ä¸­ä¹Ÿå¯ä»¥çœ‹åˆ°æ•°æ®å˜åŒ–ã€‚</p><p><code>sessionStorage</code> å¯¹è±¡çš„ä½¿ç”¨é¢‘ç‡æ¯” <code>localStorage</code> å¯¹è±¡ä½å¾—å¤šã€‚</p><p>å±æ€§å’Œæ–¹æ³•æ˜¯ç›¸åŒçš„ï¼Œä½†æ˜¯å®ƒæœ‰æ›´å¤šçš„é™åˆ¶ï¼š</p><ul><li><code>sessionStorage</code>çš„æ•°æ®åªå­˜åœ¨äºå½“å‰æµè§ˆå™¨æ ‡ç­¾é¡µã€‚ <ul><li>å…·æœ‰ç›¸åŒé¡µé¢çš„å¦ä¸€ä¸ªæ ‡ç­¾é¡µä¸­å°†ä¼šæœ‰ä¸åŒçš„å­˜å‚¨ã€‚</li><li>ä½†æ˜¯ï¼Œå®ƒåœ¨åŒä¸€æ ‡ç­¾é¡µä¸‹çš„ iframe ä¹‹é—´æ˜¯å…±äº«çš„ï¼ˆå‡å¦‚å®ƒä»¬æ¥è‡ªç›¸åŒçš„æºï¼‰ã€‚</li></ul></li><li>æ•°æ®åœ¨é¡µé¢åˆ·æ–°åä»ç„¶ä¿ç•™ï¼Œä½†åœ¨å…³é—­/é‡æ–°æ‰“å¼€æµè§ˆå™¨æ ‡ç­¾é¡µåä¸ä¼šè¢«ä¿ç•™ã€‚</li></ul><p>å½“ <code>localStorage</code> æˆ– <code>sessionStorage</code> ä¸­çš„æ•°æ®æ›´æ–°åï¼Œ<a href="https://html.spec.whatwg.org/multipage/webstorage.html#the-storageevent-interface" target="_blank" rel="noopener noreferrer">storage</a> äº‹ä»¶å°±ä¼šè§¦å‘ï¼Œå®ƒå…·æœ‰ä»¥ä¸‹å±æ€§ï¼š</p><ul><li><code>key</code> â€”â€” å‘ç”Ÿæ›´æ”¹çš„æ•°æ®çš„ <code>key</code>ï¼ˆå¦‚æœè°ƒç”¨çš„æ˜¯ <code>.clear()</code> æ–¹æ³•ï¼Œåˆ™ä¸º <code>null</code>ï¼‰ã€‚</li><li><code>oldValue</code> â€”â€” æ—§å€¼ï¼ˆå¦‚æœæ˜¯æ–°å¢æ•°æ®ï¼Œåˆ™ä¸º <code>null</code>ï¼‰ã€‚</li><li><code>newValue</code> â€”â€” æ–°å€¼ï¼ˆå¦‚æœæ˜¯åˆ é™¤æ•°æ®ï¼Œåˆ™ä¸º <code>null</code>ï¼‰ã€‚</li><li><code>url</code> â€”â€” å‘ç”Ÿæ•°æ®æ›´æ–°çš„æ–‡æ¡£çš„ urlã€‚</li><li><code>storageArea</code> â€”â€” å‘ç”Ÿæ•°æ®æ›´æ–°çš„ <code>localStorage</code> æˆ– <code>sessionStorage</code> å¯¹è±¡ã€‚</li></ul></div><!----><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link vp-meta-label" href="https://github.com/RJMeteor/leaning_book/edit/main/pages/webframe/basics/javascript/JavaScript.md" aria-label="ç¼–è¾‘æ­¤é¡µ" rel="noopener noreferrer" target="_blank"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon" name="edit"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<!----></a></div><div class="vp-meta-item git-info"><div class="update-time"><span class="vp-meta-label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="vp-meta-info" data-allow-mismatch="text">2024/12/15 18:02:34</span></div><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 3029364473@qq.com">RJMeteor</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><!----><a class="route-link auto-link next" href="/leaning_book/webframe/webrtc/" aria-label="WebRTC"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">WebRTC<!----></div></a></nav><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!----><!--]--></main><!--]--><!----></div><!--]--><!--]--><!--[--><!----><!----><!--[--><!--]--><!--]--><!--]--></div>
    <script type="module" src="/leaning_book/assets/app-C6C2RiOY.js" defer></script>
  </body>
</html>
